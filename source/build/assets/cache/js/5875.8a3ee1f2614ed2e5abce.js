"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[5875],{WXk0:(e,t,n)=>{n.r(t),n.d(t,{MetadataBlockTypes:()=>s,default:()=>b,frames:()=>g,metadata:()=>p});let s=function(e){return e.APPLICATION="application",e.COMMENT="comment",e.CUESHEET="cuesheet",e.PADDING="padding",e.PICTURE="picture",e.SEEKTABLE="seektable",e.STREAMINFO="streaminfo",e}({});var a=n("/HWm");const i="streaminfo",r=[i,8,12,null,16,20,24],o=[s.STREAMINFO,s.PADDING,s.APPLICATION,s.SEEKTABLE,s.COMMENT,s.CUESHEET,s.PICTURE],f=[1,2,3,4,5,6,7,8,2,2,2],c=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243],l=[null,192,576,1152,2304,4608,-1,-2,256,512,1024,2048,4096,8192,16348,32768],u=[i,88200,176400,192e3,8e3,16e3,22050,24e3,32e3,44100,48e3,96e3,-1,-2,-2],m={comment(e){let t=0;const n=e.byteLength,s=e.getUint32(t,!0),a=String.fromCharCode(...new Uint8Array(e.buffer,e.byteOffset+4,s));t+=4+s;const i=[];for(t+=4;t<n;){const n=e.getUint32(t,!0),[s,a]=String.fromCharCode(...new Uint8Array(e.buffer,e.byteOffset+t+4,n)).split("=");i.push([s,a]),t+=4+n}return{comments:i,vendor:a}},seektable(e){const t=18*Math.floor(e.byteLength/18),n=4294967295,s=[];for(let a=0;a<t;a+=18){const t=e.getUint32(a),i=e.getUint32(a+4);t===n&&i===n||s.push({number:i,offset:e.getUint32(a+12),samples:e.getUint16(a+16)})}return s},streaminfo:e=>({samplesPerFrame:{min:e.getUint16(0),max:e.getUint16(2)},bytesPerFrame:{min:e.getUint32(4)>>8,max:e.getUint32(7)>>8},sampling:e.getUint32(10)>>12,channels:1+(e.getUint8(12)>>1&7),bits:((1&e.getUint8(12))<<4)+(e.getUint8(13)>>4)+1,samples:((15&e.getUint8(13))<<32)+e.getUint32(14)>>>0,delays:{start:0,end:0},duration:(((15&e.getUint8(13))<<32)+e.getUint32(14)>>>0)/(e.getUint32(10)>>12),initialization:new Uint8Array([...new Uint8Array(e.buffer,e.byteOffset,e.byteLength)])})},d={frames(e,t){var n;const a=null==t||null==(n=t.layout.find((e=>e.type===s.STREAMINFO)))?void 0:n.data,o=e.byteOffset,m=e.byteLength,d=Boolean(e.buffer.lastInRange),b=[];let g={};for(let t=o;t<m-6;t++){var p;const n=e[t],s=e[t+1],m=e[t+2],d=e[t+3];if(255!==n||248!=(254&s))continue;let E=l[m>>4];if(!E)continue;if(a&&a.samplesPerFrame&&(E>a.samplesPerFrame.max||E<a.samplesPerFrame.min))continue;let T=u[15&m];if(T===i&&(T=(null==a?void 0:a.sampling)||0),!T)continue;const U=f[d>>4];if(!U)continue;if(a&&a.channels!==U)continue;let A=r[(15&d)>>1];if(A===i&&(A=(null==a?void 0:a.bits)||0),!A)continue;if(a&&a.bits!==A)continue;if(1&d)continue;const y=e[t+4];if(y>=128&&y<=191||y>=254)continue;const h=y>=192?y.toString(2).indexOf("0"):1;let w=0;if(-1===E?(w=1,E=e[t+3+h+1]+1):-2===E&&(w=2,E=(e[t+3+h+1]<<8)+e[t+3+h+2]+1),!E)continue;let O=0;if(-1===T?(O=1,T=1e3*e[t+3+h+w+1]):-2===T&&(O=2,T=(e[t+3+h+w+1]<<8)+e[t+3+h+w+2],T/=1&m?1:10),!T)continue;if(a&&a.sampling!==T)continue;const C=t+3+h+w+O+1;e[C]===Array.from(e.slice(t,C)).reduce(((e,t)=>c[t^e]),0)&&(g.size=t-(null!=(p=g.offset)?p:o),g=Object.assign(Object.create(null,{duration:{get(){return this.samples/this.sampling*1e3}}}),{channels:U,headerSize:C-t,offset:t,samples:E,sampling:T}),b.push(g),t+=((a&&a.bytesPerFrame?a.bytesPerFrame.min:0)||1)-1)}var E;return d?g.size=m-(null!=(E=g.offset)?E:o):b.pop(),b},metadata(e){const t=e.byteLength;if(t<42)throw new a.yw;if(102!==e[0]||76!==e[1]||97!==e[2]||67!==e[3])throw new a.f6("Could not find the `fLaC` marker.");const n={},i=Object.values(o);let r=!1,f=4;for(;!r&&f<t-4;){r=Boolean(e[f]>>7);const t=i[127&e[f]],s=(e[f+1]<<16)+(e[f+2]<<8)+e[f+3];n[t]={offset:f,size:s+4},f+=4+s}if(!r)throw new a.yw;const c=Object.entries(n).filter((e=>{const[t]=e;return t in m})).map((([,e])=>e)).reduce(((e,t)=>t.offset>e.offset?t:e));if(c.offset+c.size>t){const e=new a.yw;throw e.needed=c.offset+c.size,e}if(!n[s.STREAMINFO])throw new a.f6("Could not find the STREAMINFO metadata block.");let l={};return l.layout=Object.entries(n).map((t=>{const[n,{offset:a,size:i}]=t;switch(n){case s.APPLICATION:case s.CUESHEET:case s.PICTURE:return{data:{},offset:a,size:i,type:n};case s.COMMENT:{const t=m.comment(new DataView(e.buffer,a+4,i-4)),s=t.comments.reduce(((e,[t,n])=>(e[t]=n,e)),{});return l.album=s.ALBUM,l.artist=s.ARTIST,l.date=s.DATE?new Date(s.DATE):void 0,l.disc=Number(s.DISCNUMBER)||0,l.genre=s.GENRE,l.title=s.TITLE,l.track=Number(s.TRACKNUMBER)||0,l.total={discs:Number(s.DISCTOTAL)||l.disc,tracks:Number(s.TOTALTRACKS)||l.track},{data:t,offset:a,size:i,type:n}}case s.SEEKTABLE:{const t=m.seektable(new DataView(e.buffer,a+4,i-4));return l.seektable=t,{data:t,offset:a,size:i,type:n}}case s.STREAMINFO:{const t=m.streaminfo(new DataView(e.buffer,a+4,i-4));return l=Object.assign(l,t),{data:t,offset:a,size:i,type:n}}case s.PADDING:default:return{data:null,offset:a,size:i,type:n}}})),l}},b=d,g=d.frames,p=d.metadata}}]);