"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[4065],{"Wyo/":(e,t,l)=>{l.d(t,{A:()=>_});var a=l("WKgy"),n=l("q1tI"),r=l("TRpf"),s=l("juqV"),o=l("TqF5"),i=l("Wp0Y"),c=l("tZCQ"),d=l("L2Iu");class m extends n.Component{constructor(...e){super(...e),this._onClick=()=>{this.props.onClick&&this.props.onClick(),this.props.closeModal(!0)}}render(){if(c.A.isAllowed("revamp2023"))return n.createElement(d.s_,{id:"modal-close",onClick:this._onClick,"aria-label":(0,i.AP)("Fermer")});const{color:e}=this.props,t=(0,s.A)("modal-close icon icon-cancel",{"modal-close-light":"light"===e});return n.createElement("button",{className:t,id:"modal-close",type:"button",onClick:this._onClick,"aria-label":(0,i.AP)("Fermer")})}}m.defaultProps={color:"",onClick:void 0};const u=(0,r.Ng)(null,{closeModal:o.Oo})(m);u.displayName="Close";const p=u;var A,E=l("9yOc"),C=l("hDNs"),b=l("LSdk"),N=l("NlRl"),h=l("vUoE");class g extends n.Component{render(){const e=(0,s.A)("modal-body",this.props.className);return c.A.isAllowed("revamp2023")?n.createElement(h.c,{className:e},this.props.children):n.createElement("div",{className:e},this.props.children)}}const v=g;var y=l("+9dH"),I=l("KIES");class k extends n.Component{render(){if(c.A.isAllowed("revamp2023"))return n.createElement(d.jl,null,this.props.children);const e=(0,s.A)("modal-footer",this.props.className);return n.createElement("div",{className:e},this.props.children)}}const T=k;a.A.addReducers({modal:o.Ay});const _={Close:p,Layout:function({children:e}){return E.A.is("mobile")||E.A.is("tablet")?n.createElement(d.aF,{isOpen:!0,size:"full"},n.createElement("div",{className:"modal-container"},n.createElement("div",{className:"modal-dialog modal-small"},A||(A=n.createElement("div",{className:"modal-header-partner"},n.createElement("span",{className:"cell"},n.createElement(C.QQ,null,n.createElement(b.T,null))))),e))):n.createElement(d.aF,{isOpen:!0,size:"full"},n.createElement(N.o,{flexDirection:"column",mt:"spacing.3xl"},e))},Body:v,Header:({children:e,...t})=>n.createElement(I.r,(0,y.A)({"data-testid":"modal_header"},t),e),Footer:T}},uMD6:(e,t,l)=>{l.r(t),l.d(t,{default:()=>N});var a,n=l("q1tI"),r=l("TRpf"),s=l("Z+z7"),o=l("YnMw"),i=l("dPP5"),c=l("dLkS"),d=l("d84/"),m=l("HmE0"),u=l("aQSR"),p=l("Wp0Y"),A=l("TqF5"),E=l("Wyo/"),C=l("A2sV");const b={artist:{[C.N$N.WRONG_PICTURE]:(0,p.AP)("La photo n'est pas bonne."),[C.N$N.ARTIST_ALREADY_EXIST]:(0,p.AP)("Cet artiste existe déjà."),[C.N$N.EXPLICIT_CONTENT]:(0,p.AP)("Contenu indésirable.")},album:{[C.LrA.WRONG_ARTIST]:(0,p.AP)("Cet album n'est pas de cet artiste."),[C.LrA.AUDIO]:(0,p.AP)("Il y a un problème audio."),[C.N$N.EXPLICIT_CONTENT]:(0,p.AP)("Contenu indésirable.")},track:{[C.rdE.WRONG_ARTIST]:(0,p.AP)("Ce titre n'est pas de cet artiste."),[C.rdE.AUDIO]:(0,p.AP)("Il y a un problème audio."),[C.rdE.EXPLICIT_CONTENT]:(0,p.AP)("Contenu indésirable.")}},N=({type:e,id:t})=>{var l;const N=(0,r.wA)(),[h,g]=n.useState(""),[v,y]=n.useState(null),[I]=(0,C.Ggf)({onCompleted:e=>{"ReportCatalogIssueMutationOutput"===e.reportCatalogIssue.__typename&&e.reportCatalogIssue.success?g((0,p.AP)("Merci pour votre retour !")):N((0,A.Oo)())},optimisticResponse:{__typename:"Mutation",reportCatalogIssue:{success:!0,__typename:"ReportCatalogIssueMutationOutput"}}});return n.createElement(n.Fragment,null,a||(a=n.createElement(E.A.Close,null)),n.createElement(E.A.Header,null,(0,p.AP)("Signaler un problème")),n.createElement(E.A.Body,null,(()=>{const t=b[e];return t?h?l||(l=n.createElement(s.E,{textAlign:"center",mb:"spacing.l"},h)):n.createElement(o.z,{name:"feedback-catalog",onChange:e=>y(e),value:v,mb:"spacing.l"},n.createElement(i.B,null,Object.entries(t).map((([e,t])=>n.createElement(c.s,{key:e,value:e},t))))):null})(),h?n.createElement(d.s,{justifyContent:"flex-end"},n.createElement(m.$n,{onClick:()=>N((0,A.Oo)())},(0,p.AP)("Fermer"))):n.createElement(u.e,{display:"flex",justifyContent:"flex-end"},n.createElement(m.$n,{onClick:()=>N((0,A.Oo)()),variant:"ghost"},(0,p.AP)("generic_action_cancel_web")),n.createElement(m.$n,{onClick:()=>{if(v)return"album"===e?I({variables:{input:{album:{id:String(t),problem:v,additionalData:null},artist:null,track:null,lyrics:null}}}):"artist"===e?I({variables:{input:{artist:{id:String(t),problem:v,additionalData:null},album:null,track:null,lyrics:null}}}):"track"===e?I({variables:{input:{track:{id:String(t),problem:v,additionalData:null},artist:null,album:null,lyrics:null}}}):void 0},disabled:!v},(0,p.AP)("Valider")))))}}}]);