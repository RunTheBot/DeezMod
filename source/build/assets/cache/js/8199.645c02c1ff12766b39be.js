"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[8199],{"+/8Z":(t,e,s)=>{s.d(e,{A:()=>a});var i=s("Rl7B"),n=s("LbZy");class a extends n.A{constructor(t,e,s,i,a,r,o,l,c,u,h,d,p,b,g,f,m,A,v,y,w,x,E,C,S,k,N,T,_){l=l||n.A.DismissType.MANUAL,k=k||n.A.Orientation.PORTRAIT,super(t,e,void 0,s,i,a,r,o,l,c,u,h,d,p,b,g,f,m,A,v,y,w,x,E,C,S=S||n.A.CropType.CENTER_CROP,k,N,T,_),this.$o=n.A.TextAlignment.CENTER}bt(){return super.bt(a.cs)}static Qr(t){return new a(t[n.A.es.ra],t[n.A.es.sa],t[n.A.es.qs],t[n.A.es.ta],t[n.A.es.ia],t[n.A.es.URI],t[n.A.es.oa],t[n.A.es.pa],t[n.A.es.ma],t[n.A.es.na],t[n.A.es.ls],t[n.A.es.ua],t[n.A.es.ca],t[n.A.es.fa],t[n.A.es.da],t[n.A.es.la],t[n.A.es.ga],t[n.A.es.ja],t[n.A.es.xa],t[n.A.es.za],t[n.A.es.ha],t[n.A.es.va],t[n.A.es.wa],(0,i.x)(t[n.A.es.ya]),t[n.A.es.Sa],t[n.A.es.ba],t[n.A.es.ka],t[n.A.es.CSS],t[n.A.es.qa])}}a.cs=n.A.bo.Lr},"+P3E":(t,e,s)=>{s.d(e,{z:()=>a});var i=s("F7/r"),n=s("D1mP");function a(t){if(i.Ay.rr())return"function"!=typeof t?null:n.A.ea().Xi((function(e){return t(e[0]),e.slice(1)}))}},"+aDo":(t,e,s)=>{s.d(e,{N:()=>n,u:()=>a});var i=s("cqms");function n(t){let e=t.length;for(let s=t.length-1;s>=0;s--){const i=t.charCodeAt(s);i>127&&i<=2047?e++:i>2047&&i<=65535&&(e+=2),i>=56320&&i<=57343&&s--}return e}function a(t){try{t=t.replace(/-/g,"+").replace(/_/g,"/");const e=window.atob(t),s=new Uint8Array(e.length);for(let t=0;t<e.length;t++)s[t]=e.charCodeAt(t);const i=new Uint16Array(s.buffer);return String.fromCharCode(...i)}catch(t){return i.A.error("Unable to decode Base64: "+t),null}}},"15I7":(t,e,s)=>{s.d(e,{A:()=>a});var i=s("cqms"),n=s("vfwm");class a{constructor(t,e){this.cards=t,this.lastUpdated=e,this.cards=t,this.lastUpdated=e}getUnreadCardCount(){let t=0;for(const e of this.cards)e.viewed||e instanceof n.A||t++;return t}nr(){i.A.error("Must be implemented in a subclass")}logCardImpressions(t){i.A.error("Must be implemented in a subclass")}logCardClick(t){i.A.error("Must be implemented in a subclass")}sr(){i.A.error("Must be implemented in a subclass")}}a.dr=6e4,a.Ih=500,a.Ro=1e4},"1O+u":(t,e,s)=>{s.d(e,{KV:()=>l,Te:()=>u});var i=s("cqms"),n=s("groe"),a=s("FggB"),r=s("F7/r"),o=s("azH7");const l=(t,e,l)=>{const c={display:{},web:{}},u=function(){return function(){const t=arguments;Promise.resolve().then(s.bind(s,"8j4a")).then((e=>{r.Ay.nn()?e.requestPushPermission(...Array.prototype.slice.call(t)):i.A.error(a.xE)}))}},h={requestImmediateDataFlush:function(){const t=arguments;Promise.resolve().then(s.bind(s,"1m90")).then((({requestImmediateDataFlush:e})=>{r.Ay.nn()?e(...Array.prototype.slice.call(t)):i.A.error(a.xE)}))},logCustomEvent:function(){const t=arguments;Promise.resolve().then(s.bind(s,"2tha")).then((({logCustomEvent:e})=>{r.Ay.nn()?e(...Array.prototype.slice.call(t)):i.A.error(a.xE)}))},logPurchase:function(){const t=arguments;Promise.resolve().then(s.bind(s,"xLK9")).then((({logPurchase:e})=>{r.Ay.nn()?e(...Array.prototype.slice.call(t)):i.A.error(a.xE)}))},unregisterPush:function(){const t=arguments;Promise.resolve().then(s.bind(s,"ykN8")).then((({unregisterPush:e})=>{r.Ay.nn()?e(...Array.prototype.slice.call(t)):i.A.error(a.xE)}))},requestPushPermission:u(),changeUser:function(){const t=arguments;Promise.resolve().then(s.bind(s,"PDhD")).then((({changeUser:e})=>{r.Ay.nn()?e(...Array.prototype.slice.call(t)):i.A.error(a.xE)}))}},d=function(t){return function(){h[t](...Array.prototype.slice.call(arguments))}};for(const t of(0,o.HP)(h))c[t]=d(t);const p=["setFirstName","setLastName","setEmail","setGender","setDateOfBirth","setCountry","setHomeCity","setEmailNotificationSubscriptionType","setLanguage","addAlias","setPushNotificationSubscriptionType","setPhoneNumber","setCustomUserAttribute","addToCustomAttributeArray","removeFromCustomAttributeArray","incrementCustomUserAttribute","setCustomLocationAttribute","addToSubscriptionGroup","removeFromSubscriptionGroup","setLineId"],b=function(t){return function(){const e=(0,n.w)();e&&e[t](...Array.prototype.slice.call(arguments))}},g={};for(let t=0;t<p.length;t++)g[p[t]]=b(p[t]);c.getUser=function(){return g};const f={showFeed:e},m=function(e){return function(){const s=arguments;"function"!=typeof l?f[e](...Array.prototype.slice.call(s)):l(t,(function(){f[e](...Array.prototype.slice.call(s))}))}},A=c.display;for(const t of(0,o.HP)(f))A[t]=m(t);const v={registerAppboyPushMessages:u()},y=function(t){return function(){v[t](...Array.prototype.slice.call(arguments))}},w=c.web;for(const t of(0,o.HP)(v))w[t]=y(t);return c},c=(t,e,s)=>{const i=`([\\w]+)\\s*=\\s*document.createElement\\(['"]${s}['"]\\)`,n=t.match(new RegExp(i));if(n){const s=`${n[1]}.setAttribute("nonce", "${e}")`;return`${t.slice(0,n.index+n[0].length)};${s};${t.slice(n.index+n[0].length)}`}return null},u=(t,e,s)=>{let i=null;if(null!=s){i=document.createElement("html"),i.innerHTML=e||"";const t=i.getElementsByTagName("style");for(let e=0;e<t.length;e++)t[e].setAttribute("nonce",s);const n=i.getElementsByTagName("script");for(let t=0;t<n.length;t++){n[t].setAttribute("nonce",s),n[t].innerHTML=n[t].innerHTML.replace(/<style>/g,`<style nonce='${s}'>`);const e=c(n[t].innerHTML,s,"script");e&&(n[t].innerHTML=e);const i=c(n[t].innerHTML,s,"style");i&&(n[t].innerHTML=i)}}t.srcdoc=i?i.innerHTML:e||""}},"1m90":(t,e,s)=>{s.r(e),s.d(e,{requestImmediateDataFlush:()=>n});var i=s("F7/r");function n(t){if(!i.Ay.rr())return;const e=i.Ay.rn();e&&e.requestImmediateDataFlush(t)}},"2tha":(t,e,s)=>{s.r(e),s.d(e,{logCustomEvent:()=>h});var i=s("F7/r"),n=s("Z43y"),a=s("cqms"),r=s("wzJC"),o=s("87bj"),l=s("rv22"),c=s("TnFm"),u=s("FggB");function h(t,e){if(!i.Ay.rr())return!1;if(null==t||t.length<=0)return a.A.error(`logCustomEvent requires a non-empty eventName, got "${t}". Ignoring event.`),!1;if(!(0,c.Dz)(t,"log custom event","the event name"))return!1;const[s,h]=(0,c.fB)(e,u.aV,"eventProperties",`log custom event "${t}"`,"event");if(!s)return!1;const d=i.Ay.v();if(d&&d.je(t))return a.A.info(`Custom Event "${t}" is blocklisted, ignoring.`),!1;const p=n.A.ut(r.w.CustomEvent,{n:t,p:h});if(p.tt){a.A.info(`Logged custom event "${t}".`);for(const s of p.$e)l.B.m().Ce(o.A.Ee,[t,e],s)}return p.tt}},"4j5/":(t,e,s)=>{s.d(e,{b:()=>n});var i=s("jGgm");function n(t){const e=null==t?void 0:t.ft(i.d.gt._E);let s;return e&&(s={label:e.l,name:e.a}),s}},"5QSF":(t,e,s)=>{s.d(e,{z:()=>u});var i=s("F7/r"),n=s("rvbG"),a=s("LbZy"),r=s("D1mP"),o=s("FggB"),l=s("cqms"),c=s("wzJC");function u(t){if(!i.Ay.rr())return!1;if(!(t instanceof a.A||t instanceof n.A))return l.A.error(o.fX),!1;const e=t instanceof n.A?c.w.Do:c.w.Ki;return r.A.ea().ut(t,e).tt}},"5fch":(t,e,s)=>{s.d(e,{A:()=>d});var i=s("F7/r"),n=s("w7bV"),a=s("IID/"),r=s("QKCW"),o=s("7esM"),l=s("jGgm"),c=s("TdiU");class u extends n.A{constructor(t,e){super(),this.C=t,this.Fi=e,this.cards=[],this.xi=null,this.C=t,this.Fi=e,this.Ts=new c.A,i.Ay.F(this.Ts),this.Ds()}Ds(){let t=[];this.C&&(t=this.C.ft(l.d.gt.qi)||[]);const e=[];for(let s=0;s<t.length;s++){const i=(0,r._l)(t[s]);null!=i&&e.push(i)}this.cards=e,this.C&&(this.xi=(0,o.jU)(this.C.ft(l.d.gt.zi)))}Ui(t){const e=[];let s=null,i={};this.C&&(i=this.C.ft(l.d.gt.Zt)||{});const n={};for(let a=0;a<t.length;a++){s=t[a];const o=(0,r.R)(s);if(null!=o){const t=o.id;t&&i[t]&&(o.viewed=!0,n[t]=!0),e.push(o)}}this.cards=e,this.Ws(),this.xi=new Date,this.C&&(this.C.Bt(l.d.gt.Zt,n),this.C.Bt(l.d.gt.zi,this.xi))}Ws(){var t;const e=[];for(let t=0;t<this.cards.length;t++)e.push(this.cards[t].bt());null===(t=this.C)||void 0===t||t.Bt(l.d.gt.qi,e)}U(t){null!=t&&t.feed&&(this.Ds(),this.Ui(t.feed),this.Ts.X(new a.A(this.cards.slice(),this.xi)))}ki(){this.Ds();const t=[],e=new Date;for(let s=0;s<this.cards.length;s++){const i=this.cards[s].expiresAt;let n=!0;null!=i&&(n=i>=e),n&&t.push(this.cards[s])}return new a.A(t,this.xi)}bi(){this.Fi&&this.Fi.requestFeedRefresh()}qt(t){return this.Ts.Dt(t)}clearData(t){null==t&&(t=!1),this.cards=[],this.xi=null,t&&this.C&&(this.C.Ut(l.d.gt.qi),this.C.Ut(l.d.gt.zi)),this.Ts.X(new a.A(this.cards.slice(),this.xi))}}const h={l:!1,provider:null,m:()=>(h.p(),h.provider||(h.provider=new u(i.Ay.j(),i.Ay.rn()),i.Ay._(h.provider)),h.provider),p:()=>{h.l||(i.Ay.h(h),h.l=!0)},destroy:()=>{h.provider=null,h.l=!1}},d=h},"64cp":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,refreshFeatureFlags:()=>r});var i=s("F7/r"),n=s("gxpy");function a(t,e,s=!1){if(i.Ay.rr())return n.A.m().refreshFeatureFlags(t,e,s)}function r(t,e){a(t,e)}const o=a},"7esM":(t,e,s)=>{s.d(e,{DA:()=>h,EQ:()=>o,Jd:()=>u,S3:()=>c,UK:()=>n,YX:()=>a,Zo:()=>r,jU:()=>l});var i=s("azH7");function n(t,e=!1){let s=t/1e3;return e&&(s=Math.floor(s)),s}function a(t){return 1e3*t}function r(t){if(null==t)return null;const e=parseInt(t.toString());return isNaN(e)?null:new Date(1e3*e)}function o(t){return null!=t&&(0,i.$P)(t)?t.toISOString().replace(/\.[0-9]{3}Z$/,""):t}function l(t){return null==t||""===t?null:new Date(t)}function c(t){return null==t||""===t?(new Date).valueOf():t}function u(t){return((new Date).valueOf()-t.valueOf())/1e3}function h(t){return(t.valueOf()-(new Date).valueOf())/1e3}},"7nY/":(t,e,s)=>{s.d(e,{O:()=>a});var i=s("F7/r"),n=s("FXju");function a(t){if(!i.Ay.rr())return;const e=n.A.m(),s=e.qt(t);if(!e.Ct()){const t=i.Ay.rn();if(t){const s=t.on((()=>{e.bi(void 0,void 0,!0)}));s&&e.Tt(s)}}return s}},"87bj":(t,e,s)=>{s.d(e,{A:()=>i});const i={OPEN:"open",Rr:"purchase",hr:"push_click",Ee:"custom_event",Zr:"iam_click",As:"test"}},"8j4a":(t,e,s)=>{s.r(e),s.d(e,{requestPushPermission:()=>a});var i=s("F7/r"),n=s("oBfN");function a(t,e){if(i.Ay.rr())return n.default.ea().subscribe(((e,s,n)=>{const a=i.Ay.rn();a&&a.requestImmediateDataFlush(),"function"==typeof t&&t(e,s,n)}),e)}},Au1S:(t,e,s)=>{s.d(e,{o:()=>l});var i=s("F7/r"),n=s("azH7"),a=s("cqms"),r=s("vRYs"),o=s("FggB");function l(){const t=i.Ay.j();if(null==t)return void a.A.warn(o.xE);t.clearData();const e=(0,n.HP)(r.A.Ls);for(let t=0;t<e.length;t++){const s=e[t],i=r.A.Ls[s];new r.A(i,a.A).clearData()}if(i.Ay.rr())for(const t of i.Ay.ar())t.clearData(!0);const s=i.Ay.g();s&&s.fo()}},ByVl:(t,e,s)=>{s.d(e,{j:()=>c});var i=s("muIz"),n=s("nO15"),a=s("F7/r"),r=s("azH7"),o=s("FggB"),l=s("cqms");function c(t,e){if(!a.Ay.rr())return!1;if(!(0,r.cy)(t))return l.A.error("cards must be an array"),!1;for(const e of t)if(!(e instanceof i.A))return l.A.error(`Each card in cards ${o.s1}`),!1;return n.A.ea().Xt(t,e).tt}},CWHZ:(t,e,s)=>{s.r(e),s.d(e,{Banner:()=>jt,BrazeSdkMetadata:()=>k,CaptionedImage:()=>a.A,Card:()=>i.A,ClassicCard:()=>r.A,ContentCards:()=>p.A,ControlCard:()=>o.A,ControlMessage:()=>ht.A,DeviceProperties:()=>I.A,FeatureFlag:()=>zt.A,Feed:()=>tt.A,FullScreenMessage:()=>dt.A,HtmlMessage:()=>pt.A,ImageOnly:()=>n.A,InAppMessage:()=>ct.A,InAppMessageButton:()=>ut.A,ModalMessage:()=>bt.A,SlideUpMessage:()=>gt.A,User:()=>Bt.A,WindowUtils:()=>fe.uD,addSdkMetadata:()=>T,automaticallyShowInAppMessages:()=>yt,changeUser:()=>_.changeUser,deferInAppMessage:()=>St,destroy:()=>O.z,destroyFeed:()=>it,disableSDK:()=>z,enableSDK:()=>P,getAllBanners:()=>de,getAllFeatureFlags:()=>Ut,getBanner:()=>te,getCachedContentCards:()=>f,getCachedFeed:()=>st,getDeferredInAppMessage:()=>kt,getDeviceId:()=>F,getFeatureFlag:()=>Mt,getUser:()=>M.w,handleBrazeAction:()=>Q.V,hideContentCards:()=>A,initialize:()=>U.n,insertBanner:()=>be,isDisabled:()=>L,isInitialized:()=>R,isPushBlocked:()=>Tt,isPushPermissionGranted:()=>_t,isPushSupported:()=>Ot,logBannerImpressions:()=>ue,logCardClick:()=>l.x,logCardDismissal:()=>c.a,logCardImpressions:()=>u.j,logContentCardClick:()=>d,logContentCardImpressions:()=>h,logCustomEvent:()=>$.logCustomEvent,logFeatureFlagImpression:()=>qt,logFeedDisplayed:()=>nt.o,logInAppMessageButtonClick:()=>wt.K,logInAppMessageClick:()=>xt.q,logInAppMessageHtmlClick:()=>Et.h,logInAppMessageImpression:()=>Ct.z,logPurchase:()=>q.logPurchase,openSession:()=>j.f,refreshFeatureFlags:()=>Pt.refreshFeatureFlags,removeAllSubscriptions:()=>G,removeSubscription:()=>H.a,requestBannersRefresh:()=>ge,requestContentCardsRefresh:()=>v.J,requestFeedRefresh:()=>at.R,requestImmediateDataFlush:()=>X.requestImmediateDataFlush,requestPushPermission:()=>It.requestPushPermission,setLogger:()=>K,setSdkAuthenticationSignature:()=>J,showContentCards:()=>C,showFeed:()=>rt.showFeed,showInAppMessage:()=>At.v,subscribeToBannersUpdates:()=>pe,subscribeToContentCardsUpdates:()=>y.O,subscribeToFeatureFlagsUpdates:()=>Lt,subscribeToFeedUpdates:()=>ot.k,subscribeToInAppMessage:()=>vt.z,subscribeToSdkAuthenticationFailures:()=>Z,toggleContentCards:()=>S,toggleFeed:()=>lt,toggleLogging:()=>Y,unregisterPush:()=>Dt.unregisterPush,wipeData:()=>W.o});var i=s("muIz"),n=s("o8vE"),a=s("N+FJ"),r=s("Os1q"),o=s("vfwm"),l=s("HiHM"),c=s("okAa"),u=s("ByVl");function h(t){return(0,u.j)(t,!0)}function d(t){return(0,l.x)(t,!0)}var p=s("kkSs"),b=s("FXju"),g=s("F7/r");function f(){if(g.Ay.rr())return b.A.m().di(!1)}var m=s("x6Ot");function A(t){if(!g.Ay.rr())return;const e=document.querySelectorAll(".ab-feed");for(let s=0;s<e.length;s++)(null==t||null!=t&&e[s].parentNode===t)&&(0,m.ID)(e[s])}var v=s("oRs1"),y=s("7nY/"),w=s("zW8y"),x=s("CaYi"),E=s("cqms");function C(t,e){if(!g.Ay.rr())return;(0,x.s)();let s=!1;null==t&&(t=document.body,s=!0);const i=g.Ay.ee(g.lw.tn)||g.Ay.ee(g.lw.en)||!1,n=b.A.m().di(!1);"function"==typeof e&&(0,m.Z7)(n,e(n.cards.slice()),n.lastUpdated,null,i);const a=(0,m.Nc)(n,i,s),r=b.A.m(),o=r._s();(null==n.lastUpdated||(new Date).valueOf()-n.lastUpdated.valueOf()>p.A.dr)&&(null==o||(new Date).valueOf()-o>p.A.dr)&&(E.A.info(`Cached content cards were older than max TTL of ${p.A.dr} ms, requesting an update from the server.`),(0,m.Y9)(n,a),r.Gs((new Date).valueOf()));const l=(new Date).valueOf(),c=(0,y.O)((function(t){const s=a.querySelectorAll(".ab-refresh-button")[0];if(null!=s){let t=500,e=t-=(new Date).valueOf()-l;const i=a.getAttribute(m.Ql);i&&(e=parseInt(i),isNaN(e)||(t-=(new Date).valueOf()-e)),setTimeout((function(){s.className=s.className.replace(/fa-spin/g,"")}),Math.max(t,0))}let r=t.cards;"function"==typeof e&&(r=e(r.slice())),(0,m.Z7)(n,r,t.lastUpdated,a,i)}));(0,m.kz)(c,a);const u=function(t){const e=t.querySelectorAll(".ab-feed");let i=null;for(let s=0;s<e.length;s++)e[s].parentNode===t&&(i=e[s]);null!=i?((0,m.ID)(i),null!=i.parentNode&&i.parentNode.replaceChild(a,i)):t.appendChild(a),setTimeout((function(){a.className=a.className.replace("ab-hide","ab-show")}),0),s&&a.focus(),(0,m.UH)(n,a),(0,w.cM)(n.cards,t)};var h;null!=t?u(t):window.onload=(h=window.onload,function(){"function"==typeof h&&h(new Event("oldLoad")),u(document.body)})}function S(t,e){g.Ay.rr()&&(document.querySelectorAll(".ab-feed").length>0?A():C(t,e))}const k={GOOGLE_TAG_MANAGER:"gg",MPARTICLE:"mp",SEGMENT:"sg",TEALIUM:"tl",MANUAL:"manu",NPM:"npm",CDN:"wcd",SHOPIFY:"shp"};var N=s("azH7");function T(t){if(!g.Ay.rr())return;const e=g.Ay.g();if(e){if(!(0,N.cy)(t))return E.A.error("Cannot set SDK metadata because metadata is not an array."),!1;for(const e of t)if(!(0,N.BY)(k,e,"sdkMetadata contained an invalid value.","BrazeSdkMetadata"))return!1;return e.addSdkMetadata(t),!0}}var _=s("PDhD"),O=s("ndKy"),I=s("Ibo5"),D=s("vRYs"),B=s("jGgm");function z(){const t=g.Ay.rn();t&&t.requestImmediateDataFlush();const e=new B.A.se(null,!0),s="This-cookie-will-expire-in-"+e.le();e.store(B.d.me,s);const i=D.A.Ls.Fs;new D.A(i,E.A).setItem(i.Ms.pe,i.be,!0),E.A.info("disableSDK was called"),g.Ay.destroy(!1),g.Ay.fe(!0)}function P(){new B.A.se(null,!0).remove(B.d.me);const t=D.A.Ls.Fs;new D.A(t,E.A).ge(t.Ms.pe,t.be),E.A.info("enableSDK was called"),g.Ay.destroy(!1),g.Ay.fe(!1)}function F(t){if(!g.Ay.rr())return;const e=g.Ay.ue();if(!e)return;const s=e.ve().id;if("function"!=typeof t)return s;E.A.warn("The callback for getDeviceId is deprecated. You can access its return value directly instead (e.g. `const id = braze.getDeviceId()`)"),t(s)}var M=s("groe"),U=s("osUK");function L(){return!!new B.A.se(null,!0).gr(B.d.me)}function R(){return g.Ay.nn()}var $=s("2tha"),q=s("xLK9"),j=s("vrNg");function G(){g.Ay.rr()&&g.Ay.removeAllSubscriptions()}var H=s("wzQJ"),X=s("1m90");function K(t){E.A.setLogger(t)}var V=s("TnFm");function J(t){if(!g.Ay.rr())return!1;if(""===t||!(0,V.rK)(t,"set signature","signature",!1))return!1;const e=g.Ay.Sr();return!!e&&(e.setSdkAuthenticationSignature(t),!0)}function Z(t){var e;if(g.Ay.rr())return null===(e=g.Ay.Sr())||void 0===e?void 0:e.subscribeToSdkAuthenticationFailures(t)}function Y(){E.A.toggleLogging()}var W=s("Au1S"),Q=s("iXlr"),tt=s("IID/"),et=s("5fch");function st(){if(g.Ay.rr())return et.A.m().ki()}function it(){if(!g.Ay.rr())return;const t=document.querySelectorAll(".ab-feed");for(let e=0;e<t.length;e++)(0,m.ID)(t[e])}var nt=s("VB97"),at=s("E8S9"),rt=s("RBYJ"),ot=s("IfEg");function lt(t,e,s){g.Ay.rr()&&(document.querySelectorAll(".ab-feed").length>0?it():(0,rt.showFeed)(t,e,s))}var ct=s("LbZy"),ut=s("yBih"),ht=s("rvbG"),dt=s("+/8Z"),pt=s("I0nJ"),bt=s("QVqW"),gt=s("u56O"),ft=s("D1mP"),mt=s("IoO2"),At=s("FyZC"),vt=s("+P3E");function yt(){if(!g.Ay.rr())return;(0,mt.B)();const t=ft.A.ea();if(null==t.Hi()){const e=(0,vt.z)((t=>(0,At.v)(t)));t.Ji(e)}return t.Hi()}var wt=s("SfNv"),xt=s("ikR4"),Et=s("xAw5"),Ct=s("5QSF");function St(t){if(g.Ay.rr())return t instanceof ht.A?(E.A.info("Not deferring since this is a ControlMessage."),!1):t instanceof ct.A?ft.A.ea().sn(t):(E.A.info("Not an instance of InAppMessage, ignoring."),!1)}function kt(){if(g.Ay.rr())return ft.A.ea().Ar()}var Nt=s("eis7");function Tt(){if(g.Ay.rr())return Nt.A.isPushBlocked()}function _t(){if(g.Ay.rr())return Nt.A.isPushPermissionGranted()}function Ot(){if(g.Ay.rr())return Nt.A.isPushSupported()}var It=s("8j4a"),Dt=s("ykN8"),Bt=s("TaGn"),zt=s("FOzX"),Pt=s("64cp"),Ft=s("gxpy");function Mt(t){if(!g.Ay.rr())return;const e=g.Ay.v();if(e&&!e.ke())return null;const s=Ft.A.m().Me();return s[t]?s[t]:null}function Ut(){if(!g.Ay.rr())return;const t=[],e=g.Ay.v();if(e&&!e.ke())return t;const s=Ft.A.m().Me();for(const e in s)t.push(s[e]);return t}function Lt(t){if(!g.Ay.rr())return;const e=Ft.A.m();if(e.Ye()){const e=Ut();e&&"function"==typeof t&&t(e)}return e.qt(t)}var Rt=s("wzJC"),$t=s("Z43y");function qt(t){if(!g.Ay.rr())return;if(!t)return!1;const e="Not logging a feature flag impression. The feature flag was not part of any matching experiment.",s=Ft.A.m().Me();if(!s[t])return E.A.info(e),!1;const i=s[t].trackingString;if(!i)return E.A.info(e),!1;const n=Ft.A.m()._e();if(n[i])return E.A.info("Not logging another feature flag impression. This ID was already logged this session."),!1;n[i]=!0,Ft.A.m().He(n);const a={fid:t,fts:i};return $t.A.ut(Rt.w.yr,a).tt}class jt{constructor(t,e,s,i=!1,n=!1,a=-1){this.id=t,this.placementId=e,this.html=s,this.At=i,this.isControl=n,this.Gt=a,this.id=t,this.placementId=e,this.html=s,this.At=i,this.isControl=n,this.Gt=a,this.Ht=!1}Jt(){return this.isControl}bt(){return{id:this.id,o:this.placementId,html:this.html,t:this.At,i:this.isControl,u:this.Gt}}}var Gt=s("FggB"),Ht=s("w7bV"),Xt=s("J++8"),Kt=s("CgXj"),Vt=s("L0v4"),Jt=s("TdiU");class Zt extends Ht.A{constructor(t,e,s,i){super(),this.B=t,this.S=e,this.C=s,this.T=i,this.banners={},this.B=t,this.S=e,this.C=s,this.T=i,this.R=10,this.I=null,this.q=null,this.D=new Jt.A,g.Ay.F(this.D),this.N=null,this.k=null}U(t){if(this.L()&&null!=t&&t.banners){this.banners={};const s=t.banners;for(const t in s){const i=s[t];let n=null;null!=i&&null!=i.banner&&(e=i.banner,n=new jt(e.id,e.placement_id,e.html,e.is_test_send,e.is_control,e.expires_at)),n&&(this.banners[t]=n)}this.M(),this.D.X(this.banners)}var e}$(t,e,s,i=!0){var n;const a=()=>{"function"==typeof s&&s()};if(!this.L())return void(null===(n=this.B)||void 0===n||n.A((()=>{this.$(t,e,s)})));const r=this.S;if(!r)return void a();i&&this.G();const o=r.H({},!0),l=[];for(const e of t)l.push({id:e});o.placements=l;const c=r.J(o,Xt.A.O.K);let u=!1;r.V(o,((i=-1)=>{const n=this.S;if(!n)return void a();const r=(new Date).valueOf();Xt.A.W(this.C,Xt.A.O.K,r),-1!==i&&c.push(["X-Braze-Req-Tokens-Remaining",i.toString()]),Kt.A.Y({url:`${n.Z()}/banners/sync`,headers:c,data:o,tt:t=>{if(!n.st(o,t,c))return u=!0,void a();n.it(),this.U(t),u=!1,"function"==typeof e&&e()},error:t=>{n.et(t,"retrieving banners"),u=!0,a()},nt:(i,a)=>{let r;if(this.k=t,u){let t=this.I;(null==t||t<1e3*this.R)&&(t=1e3*this.R),r=Math.min(3e5,(0,Vt.C)(1e3*this.R,3*t))}n.rt(a,(()=>{this.$(t,e,s,!1)}),Xt.A.O.K,(t=>this.ot(t)),(()=>this.G()),r)}})}),Xt.A.O.K,s)}ht(){return this.k}lt(t,e){const s={id:t.id};return e&&(s.bid=e),$t.A.ut(Rt.w.ct,s).tt}G(){null!=this.q&&(clearTimeout(this.q),this.q=null)}ot(t){this.G(),this.q=t}dt(){let t={};this.C&&(t=this.C.ft(B.d.gt.vt));const e={};for(const i in t){let n=null;null!=t[i]&&(s=t[i],n=new jt(s.id,s.o,s.html,s.t,s.i,s.u)),n&&(e[n.placementId]=n)}var s;return e}M(){var t;if(!this.C)return;const e={};for(const s in this.banners){const i=(null===(t=this.banners[s])||void 0===t?void 0:t.bt())||null;e[s]=i}this.C.Bt(B.d.gt.vt,e),this.jt()}jt(){var t,e;null===(t=this.C)||void 0===t||t.Bt(B.d.gt.yt,null===(e=this.T)||void 0===e?void 0:e.St())}wt(){var t;return(null===(t=this.C)||void 0===t?void 0:t.ft(B.d.gt.yt))||null}Ct(){return this.N}Tt(t){this.N=t}Rt(){var t;const e=null===(t=this.T)||void 0===t?void 0:t.St(),s=this.wt();return null!=s&&e===s}It(){var t;const e=null===(t=this.T)||void 0===t?void 0:t.St(),s=this.wt();return null==s||e===s}qt(t){return this.D.Dt(t)}Ft(){var t;return(null===(t=this.C)||void 0===t?void 0:t.ft(B.d.gt.Nt))||{}}kt(t){this.C&&this.C.Bt(B.d.gt.Nt,t)}changeUser(){this.xt(),this.G()}clearData(){this.G()}L(){return!(!this.B||!this.B.zt()&&(0!==this.B.Et()&&this.xt(),1))}xt(){this.banners={},this.C&&(this.C.Ut(B.d.gt.vt),this.C.Ut(B.d.gt.Nt)),this.D.X({})}}const Yt={l:!1,provider:null,m:()=>(Yt.p(),Yt.provider||(Yt.provider=new Zt(g.Ay.v(),g.Ay.g(),g.Ay.j(),g.Ay.P()),g.Ay._(Yt.provider)),Yt.provider),p:()=>{Yt.l||(g.Ay.h(Yt),Yt.l=!0)},destroy:()=>{Yt.provider=null,Yt.l=!1}},Wt=Yt;function Qt(t,e){const s=t[e];if(!s)return null;const i=s.Gt,n=(new Date).valueOf();return-1!==i&&1e3*i<n?(E.A.info(`Banner with ID: ${s.id} and placement ID: ${e} has expired.`),null):s}function te(t){var e;if(!g.Ay.rr())return;!1===(null===(e=g.Ay.v())||void 0===e?void 0:e.zt())&&E.A.error(Gt.FE);const s=Wt.m();return s.L()?Qt(s.dt(),t):null}var ee=s("lm4s");var ie=s("zxwP"),ne=s("1O+u");const ae="data-ab-banner-placement-id",re="ab-html-banner",oe="ab-html-control-banner";function le(t,e){if(t.Jt())return function(t){const e=document.createElement("div");return e.id=t.id,e.className="ab-html-control-banner",e.setAttribute(ae,t.placementId),e}(t);const i=document.createElement("iframe");return i.id=t.id,e&&i.setAttribute("nonce",e),i.className="ab-html-banner",i.setAttribute(ae,t.placementId),i.setAttribute("title","Banner"),(0,ne.Te)(i,t.html,e),i.onload=()=>{const e=i.contentWindow,n=e.document.getElementsByTagName("title");n&&n.length>0&&i.setAttribute("title",n[0].textContent||"");const a=Object.assign(Object.assign({},(0,ne.KV)(i,(()=>{Promise.resolve().then(s.bind(s,"RBYJ")).then((t=>{g.Ay.nn()?t.showFeed():E.A.error(Gt.xE)}))}))),{logClick:function(){!function(t,e){if(!g.Ay.rr())return;if(!(t instanceof jt))return E.A.error("Banner argument to logBannerClick must be an Banner object."),!1;const s=Wt.m(),i=s.dt();0===(0,N.HP)(i).length?E.A.info("Not logging banner click. No banners exist."):i[t.placementId]?s.lt(t,e):E.A.info(`Not logging banner click for ID ${t.placementId}. The placement ID did not correspond to any banner.`)}(t,...arguments)},closeMessage:function(){},setBannerHeight:t=>{isNaN(t)||!isFinite(t)||t<0?E.A.warn(`Invalid banner height: ${t}`):i.style.height=`${t}px`}});e.brazeBridge=a,e.appboyBridge=a,e.dispatchEvent(new CustomEvent("ab.BridgeReady"))},i}var ce=s("G8bm");function ue(t){if(!g.Ay.rr())return;if(!t||t.length<=0)return!1;const e=Wt.m(),s=e.dt();if(0===(0,N.HP)(s).length)return E.A.info("Not logging banners impression. No banners exist."),!1;const i=e.Ft(),n=[];for(const e of t){const t=s[e];t?i[t.placementId]?E.A.info(`Not logging banners impression for ID ${e}. This ID was already logged this session.`):(i[t.placementId]=!0,n.push(t.id)):E.A.info(`Not logging banners impression for ID ${e}. The placement ID did not correspond to any banner.`)}if(0===n.length)return!1;e.kt(i);const a={ids:n};return $t.A.ut(Rt.w.ro,a).tt}function he(){const t=document.querySelectorAll(`.${re}, .${oe}`),e=[];for(let s=0;s<t.length;s++){const i=t[s],n=i.getAttribute(ae);if(!n)continue;const a=ce.rA.oo(i),r=ce.rA.no(i);if(a&&r)continue;const o=(0,ie.Kz)(i),l=(0,ie.K)(i);o&&!a&&(0,ce.M4)(i),l&&!r&&(0,ce.MX)(i),ce.rA.oo(i)&&ce.rA.no(i)&&e.push(n)}e.length>0&&ue(e)}function de(){if(!g.Ay.rr())return;const t={},e=g.Ay.v();if(!1===(null==e?void 0:e.zt())&&E.A.error(Gt.FE),!(null==e?void 0:e.zt()))return t;const s=Wt.m().dt();for(const e in s)t[e]=Qt(s,e);return t}function pe(t){var e;if(!g.Ay.rr())return;const s=Wt.m();if(s.It()){const e=de();e&&"function"==typeof t&&t(e)}const i=s.qt(t);if(!s.Ct()){const t=null===(e=g.Ay.rn())||void 0===e?void 0:e.on((()=>{const t=s.ht();t&&t.length>0&&s.$(t)}));t&&s.Tt(t)}return i}function be(t,e){if(!g.Ay.rr())return;if(!t)return void E.A.error("Not inserting banner: banner was not provided.");if(!e)return void E.A.error("Not inserting banner: parentNode was not provided.");if(!g.Ay.ee(g.lw.re))return void E.A.error("Banners are disabled. Use the 'allowUserSuppliedJavascript' option for braze.initialize to enable these messages.");(0,ee.n)(void 0,"banner",".ab-html-banner{width:100%;height:100%;border:none}.ab-html-control-banner{width:0;height:0;margin:0;border:none}");const s=le(t,g.Ay.ee(g.lw.er)),i=pe((i=>{const n=i[t.placementId];n?e.replaceChildren(le(n,g.Ay.ee(g.lw.er))):function(t){const e=t.getAttribute(Gt.og);null!=e&&(0,H.a)(e),t&&t.parentNode&&t.parentNode.removeChild(t)}(s)}));i&&s.setAttribute(Gt.og,i),e.replaceChildren(s),(0,ie.P4)(window,"scroll",he),he()}function ge(t,e,s){if(!g.Ay.rr())return void E.A.warn(Gt.xE);const i=g.Ay.v();if(!i)return;if(!(0,N.cy)(t)||0===t.length)return void E.A.warn("placementIds should be a non-empty array.");if(!g.Ay.ee(g.lw.re))return void E.A.error("Banners are disabled. Use the 'allowUserSuppliedJavascript' option for braze.initialize to enable these messages.");const n=Wt.m();if(Wt.m().Rt())return void E.A.warn("Banners can be refreshed only once per session per user.");if(!1===i.zt()&&E.A.error(Gt.FE),!n.L())return void i.A((()=>{ge(t,e,s)}));const a=i.ne();t.length>a&&(E.A.warn(`Number of placement IDs requested exceeds the max allowed. Trimming placementIds array from length ${t.length} to ${a} (max allowed).`),t=t.slice(0,a)),0!==(t=t.filter((t=>!!(0,V.L4)(t)||(E.A.warn(`Placement ID should be a valid utf8 string with no whitespaces, filtering out: ${t}`),!1)))).length&&(E.A.info(`Requesting banners for placement IDs: ${JSON.stringify(t)}`),Wt.m().$(t,e,s))}var fe=s("xoq4")},CaYi:(t,e,s)=>{s.d(e,{s:()=>a});var i=s("lm4s"),n=s("S4Qt");function a(){(0,i.n)(undefined,"feed","body>.ab-feed{position:fixed;top:0;right:0;bottom:0;width:421px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}body>.ab-feed .ab-feed-body{position:absolute;top:0;left:0;right:0;border:none;border-left:1px solid #d0d0d0;padding-top:70px;min-height:100%}body>.ab-feed .ab-initial-spinner{float:none}body>.ab-feed .ab-no-cards-message{position:absolute;width:100%;margin-left:-20px;top:40%}.ab-feed{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);-moz-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);box-shadow:0 1px 7px 1px rgba(66,82,113,.15);width:402px;background-color:#eee;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;font-size:13px;line-height:130%;letter-spacing:normal;overflow-y:auto;overflow-x:visible;z-index:9011;-webkit-overflow-scrolling:touch}.ab-feed :focus,.ab-feed:focus{outline:0}.ab-feed .ab-feed-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #d0d0d0;border-top:none;padding:20px 20px 0 20px}.ab-feed.ab-effect-slide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px);-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-feed.ab-effect-slide.ab-show{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-feed.ab-effect-slide.ab-hide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card{position:relative;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;width:100%;border:1px solid #d0d0d0;margin-bottom:20px;overflow:hidden;background-color:#fff;-webkit-transition:height .4s ease-in-out,margin .4s ease-in-out;-moz-transition:height .4s ease-in-out,margin .4s ease-in-out;-o-transition:height .4s ease-in-out,margin .4s ease-in-out;transition:height .4s ease-in-out,margin .4s ease-in-out}.ab-feed .ab-card .ab-pinned-indicator{position:absolute;right:0;top:0;margin-right:-1px;width:0;height:0;border-style:solid;border-width:0 24px 24px 0;border-color:transparent #1676d0 transparent transparent}.ab-feed .ab-card .ab-pinned-indicator .fa-star{position:absolute;right:-21px;top:2px;font-size:9px;color:#fff}.ab-feed .ab-card.ab-effect-card.ab-hide{-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-left{-webkit-transform:translateX(-450px);-moz-transform:translateX(-450px);-ms-transform:translateX(-450px);transform:translateX(-450px)}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-right{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card.ab-effect-card.ab-hide:not(.ab-swiped-left):not(.ab-swiped-right){opacity:0}.ab-feed .ab-card .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;top:0;z-index:9021;opacity:0;-webkit-transition:.5s;-moz-transition:.5s;-o-transition:.5s;transition:.5s}.ab-feed .ab-card .ab-close-button[dir=rtl]{left:0}.ab-feed .ab-card .ab-close-button[dir=ltr]{right:0}.ab-feed .ab-card .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b;height:auto;width:100%}.ab-feed .ab-card .ab-close-button svg.ab-chevron{display:none}.ab-feed .ab-card .ab-close-button:active{background-color:transparent}.ab-feed .ab-card .ab-close-button:focus{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover svg{fill-opacity:.8}.ab-feed .ab-card .ab-close-button:hover{opacity:1}.ab-feed .ab-card .ab-close-button:focus{opacity:1}.ab-feed .ab-card a{float:none;color:inherit;text-decoration:none}.ab-feed .ab-card a:hover{text-decoration:underline}.ab-feed .ab-card .ab-image-area{float:none;display:inline-block;vertical-align:top;line-height:0;overflow:hidden;width:100%;-webkit-box-sizing:initial;-moz-box-sizing:initial;box-sizing:initial}.ab-feed .ab-card .ab-image-area img{float:none;height:auto;width:100%}.ab-feed .ab-card.ab-image-only .ab-card-body{display:none}.ab-feed .ab-card .ab-card-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:100%;position:relative}.ab-feed .ab-card .ab-unread-indicator{position:absolute;bottom:0;margin-right:-1px;width:100%;height:5px;background-color:#1676d0}.ab-feed .ab-card .ab-unread-indicator.read{background-color:transparent}.ab-feed .ab-card .ab-title{float:none;letter-spacing:0;margin:0;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;display:block;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:18px;line-height:130%;padding:20px 25px 0 25px}.ab-feed .ab-card .ab-description{float:none;color:#545454;padding:15px 25px 20px 25px;word-wrap:break-word;white-space:pre-wrap}.ab-feed .ab-card .ab-description.ab-no-title{padding-top:20px}.ab-feed .ab-card .ab-url-area{float:none;color:#1676d0;margin-top:12px;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif}.ab-feed .ab-card.ab-classic-card .ab-card-body{min-height:40px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body{min-height:100px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body[dir=ltr]{padding-left:72px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body[dir=rtl]{padding-right:72px}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area{width:60px;height:60px;padding:20px 0 25px 25px;position:absolute}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area[dir=rtl]{padding:20px 25px 25px 0}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area img{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;max-width:100%;max-height:100%;width:auto;height:auto}.ab-feed .ab-card.ab-classic-card.with-image .ab-title{background-color:transparent;font-size:16px}.ab-feed .ab-card.ab-classic-card.with-image .ab-description{padding-top:10px}.ab-feed .ab-card.ab-control-card{height:0;width:0;margin:0;border:0}.ab-feed .ab-feed-buttons-wrapper{float:none;position:relative;background-color:#282828;height:50px;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);z-index:1}.ab-feed .ab-feed-buttons-wrapper .ab-close-button,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{float:none;cursor:pointer;color:#fff;font-size:18px;padding:16px;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{font-size:22px}.ab-feed .ab-feed-buttons-wrapper .ab-close-button{float:right}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover{padding-top:12px;padding-right:14px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{padding-left:17px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{padding-top:13px;padding-left:14px}.ab-feed .ab-no-cards-message{text-align:center;margin-bottom:20px}@media (max-width:600px){body>.ab-feed{width:100%}}"),(0,n.N)()}},CgXj:(t,e,s)=>{s.d(e,{A:()=>o,s:()=>r});var i=s("cqms"),n=s("QOIJ"),a=s("LltV");const r=t=>{const e={},s=t.toString().split("\r\n");if(!s)return e;let i,n;for(const t of s)t&&(i=t.slice(0,t.indexOf(":")).toLowerCase().trim(),n=t.slice(t.indexOf(":")+1).trim(),e[i]=n);return e},o={Y:t=>{let e,s;try{const a=()=>{i.A.error("This browser does not have any supported ajax options!")};let r=!1;if(window.XMLHttpRequest&&(r=!0),!r)return void a();e=new XMLHttpRequest;const o=s=>{"function"==typeof t.error&&t.error(e.status),"function"==typeof t.nt&&t.nt(!1,s)};e.onload=()=>{let s=!1;if(4!==e.readyState)return;s=e.status>=200&&e.status<300||304===e.status;const i=e.getAllResponseHeaders();if(s){if("function"==typeof t.tt){let a;try{a=JSON.parse(e.responseText)}catch(s){const a={error:""===e.responseText?n.A.bu:n.A.Au,response:e.responseText};(0,t.tt)(a,i)}a&&t.tt(a,i)}"function"==typeof t.nt&&t.nt(!0,i)}else o(i)},e.onerror=()=>{o(e.getAllResponseHeaders())},e.ontimeout=()=>{o()},s=JSON.stringify(t.data),e.open("POST",t.url,!0),e.setRequestHeader("Content-type","application/json"),e.setRequestHeader("X-Requested-With","XMLHttpRequest");const l=t.headers||[];for(const t of l)e.setRequestHeader(t[0],t[1]);e.send(s)}catch(t){i.A.error(`Network request error: ${(0,a.u)(t)}`)}}}},D1mP:(t,e,s)=>{s.d(e,{A:()=>N});var i=s("CgXj"),n=s("F7/r"),a=s("rvbG"),r=s("I0nJ"),o=s("LbZy"),l=s("yBih"),c=s("Z43y"),u=s("Rl7B"),h=s("L0v4"),d=s("Jdpe"),p=s("wzJC"),b=s("cqms"),g=s("TdiU"),f=s("Vqo0"),m=s("TnFm"),A=s("l6Yh"),v=s("eis7"),y=s("J++8"),w=s("jGgm"),x=s("+/8Z"),E=s("QVqW"),C=s("u56O");class S{constructor(t,e,s,i){this.S=t,this.T=e,this.C=s,this.Cs=i,this.S=t,this.T=e,this.C=s,this.Cs=i,this.Mi=new g.A,n.Ay.F(this.Mi),this.Bi=1e3,this._i=6e4,this.Pi=null,this.Gi=null,this.$i=null}Oi(){return this.Mi}Xi(t){return this.Mi.Dt(t)}Hi(){return this.Pi}Ji(t){this.Pi=t}ut(t,e,s,i){const n=new d.A;let o;if(e===p.w.Ki||t instanceof a.A){if(!t._t())return b.A.info("This in-app message has already received an impression. Ignoring analytics event."),n}else if((e===p.w.Li||t instanceof r.A&&e===p.w.Qi)&&!t.$t(i))return b.A.info("This in-app message has already received a click. Ignoring analytics event."),n;return o=t instanceof a.A?{trigger_ids:[t.triggerId]}:this.Vi(t),null==o?n:(t.messageExtras&&(o.message_extras=t.messageExtras),null!=s&&(o.bid=s),c.A.ut(e,o))}Wi(t,e){const s=new d.A;if(!t.$t())return b.A.info("This in-app message button has already received a click. Ignoring analytics event."),s;const i=this.Vi(e);return null==i?s:t.id===l.A.Yi?(b.A.info("This in-app message button does not have a tracking id. Not logging event to Braze servers."),s):(null!=t.id&&(i.bid=t.id),c.A.ut(p.w.Qi,i))}Zi(t){const e=t.messageFields;return null!=e&&e.is_push_primer||!1}Ir(t){if(!(t instanceof o.A))return;const e=t=>{if(!t)return;const e=(0,A.jj)(t);return(0,A.qj)(e)?(0,A.$6)(A.mY.Mr,"In-App Message"):(0,A.dy)(e)&&!v.A.Tr()?(0,A.$6)(A.mY.wr,"In-App Message"):void 0};if(this.Zi(t)&&!v.A.Tr())return"In-App Message contains a push prompt, but is not eligible for a push prompt. Ignoring.";const s=t.buttons||[];let i;for(const t of s)if(t.clickAction===o.A.ClickAction.URI&&t.uri&&m.nx.test(t.uri)&&(i=e(t.uri),i))return i;return t.clickAction===o.A.ClickAction.URI&&t.uri&&m.nx.test(t.uri)?e(t.uri):void 0}Br(t,e){e!==this.$i&&this._r(),this.Gi=t,this.$i=e}_r(){null!=this.Gi&&(clearTimeout(this.Gi),this.Gi=null,this.$i=null)}qr(t,e,s,n){const a=this.S;if(!a)return;this.$i&&t.triggerId!==this.$i&&(this._r(),y.A.vi(this.C,y.A.O.Er));const r=a.Gr(!1,!1),o=a.H(r);o.template={trigger_id:t.triggerId,trigger_event_type:e},null!=s&&(o.template.data=s.Nr());const l=a.J(o,y.A.O.Er);a.V(o,((a=-1)=>{const r=this.S;if(!r)return;const c=(new Date).valueOf();y.A.W(this.C,y.A.O.Er,c),-1!==a&&l.push(["X-Braze-Req-Tokens-Remaining",a.toString()]);let d,p,g=!1;i.A.Y({url:`${r.Z()}/template/`,data:o,headers:l,tt:e=>{if(!r.st(o,e,l))return void("function"==typeof t.$r&&t.$r());if(r.it(),null==e||null==e.templated_message)return;const s=e.templated_message;if(s.type!==f.A.Or.Cr)return;const i=(0,u.g)(s.data);if(null==i)return;const n=this.Ir(i);if(n)return b.A.error(n),void("function"==typeof t.$r&&t.$r());"function"==typeof t.Xr&&t.Xr(i)},error:e=>{g=!0,d=e,p=`getting user personalization for message ${t.triggerId}.`},nt:(i,a)=>{if((new Date).valueOf()-t.Hr<t.Jr){let i=0;if(g){const e=Math.min(t.Jr,this._i),s=this.Bi;null==n&&(n=s),i=Math.min(e,(0,h.C)(s,3*n))}r.rt(a,(()=>{this.qr(t,e,s,i)}),y.A.O.Er,(e=>this.Br(e,t.triggerId)),(()=>this._r()),i)}g&&r.et(d,p)}})}),y.A.O.Er)}Vi(t){if(null==t.triggerId)return b.A.info("The in-app message has no analytics id. Not logging event to Braze servers."),null;const e={};return null!=t.triggerId&&(e.trigger_ids=[t.triggerId]),e}sn(t){return!!this.C&&!(!(t&&t instanceof o.A&&t.constructor!==o.A)||t instanceof a.A)&&this.C.Bt(w.d.gt.Kr,t.bt())}Ar(){if(!this.C)return null;const t=this.C.ft(w.d.gt.Kr);if(!t)return null;let e;switch(t.type){case o.A.bo.Lr:e=x.A.Qr(t);break;case o.A.bo.Ur:case o.A.bo.po:case o.A.bo.Jo:e=r.A.Qr(t);break;case o.A.bo.Vr:case o.A.bo.Fo:e=E.A.Qr(t);break;case o.A.bo.Wr:e=C.A.Qr(t)}return e&&this.Yr(),e}Yr(){this.C&&this.C.Ut(w.d.gt.Kr)}}const k={aa:null,l:!1,ea:()=>(k.p(),k.aa||(k.aa=new S(n.Ay.g(),n.Ay.P(),n.Ay.j(),n.Ay.ir())),k.aa),p:()=>{k.l||(n.Ay.h(k),k.l=!0)},destroy:()=>{k.aa=null,k.l=!1}},N=k},DEgD:(t,e,s)=>{function i(t){null==t&&(t="");const e=t.split("?").slice(1).join("?"),s={};if(null!=e){const t=e.split("&");for(let e=0;e<t.length;e++){const i=t[e].split("=");""!==i[0]&&(s[i[0]]=i[1])}}return s}function n(t){return!(!t||0!==(t=t.toString().toLowerCase()).lastIndexOf("javascript:",0)&&0!==t.lastIndexOf("data:",0))}s.d(e,{P:()=>n,y:()=>i})},DLZI:(t,e,s)=>{s.d(e,{A:()=>l});var i=s("/0+J"),n=s("MVPB"),a=s("4OMY"),r=(0,a.A)("api"),o=(0,a.A)("env");class l{constructor(t,e){Object.defineProperty(this,r,{writable:!0,value:void 0}),Object.defineProperty(this,o,{writable:!0,value:void 0}),this.facebook=void 0,this.google=void 0,this.apple=void 0,(0,n.A)(this,r)[r]=t,(0,n.A)(this,o)[o]=e}init(t,e){var a=this;return(0,i.A)((function*(){const l=[];return(t=Array.isArray(t)?t:[t]).forEach((t=>{switch(t){case"facebook":const t=function(){var t=(0,i.A)((function*(){const{FacebookAuth:t}=yield s.e(3537).then(s.bind(s,"T53H"));a.facebook||(a.facebook=new t((0,n.A)(a,r)[r],null==e?void 0:e.facebook)),yield a.facebook.init({env:(0,n.A)(a,o)[o]})}));return function(){return t.apply(this,arguments)}}();l.push(t());break;case"google":const c=function(){var t=(0,i.A)((function*(){const{GoogleAuth:t}=yield s.e(5404).then(s.bind(s,"JtTf"));a.google||(a.google=new t((0,n.A)(a,r)[r],null==e?void 0:e.google)),yield a.google.init({})}));return function(){return t.apply(this,arguments)}}();l.push(c());break;case"apple":const u=function(){var t=(0,i.A)((function*(){const{AppleAuth:t}=yield s.e(9133).then(s.bind(s,"ALjf"));a.apple||(a.apple=new t((0,n.A)(a,r)[r],null==e?void 0:e.apple)),yield a.apple.init({})}));return function(){return t.apply(this,arguments)}}();l.push(u());break;default:return}})),Promise.allSettled(l)}))()}}},E8S9:(t,e,s)=>{s.d(e,{R:()=>a});var i=s("F7/r"),n=s("5fch");function a(){if(i.Ay.rr())return n.A.m().bi()}},"F7/r":(t,e,s)=>{s.d(e,{lw:()=>G,Ay:()=>H});var i=s("jGgm"),n=s("TdiU"),a=s("vRYs"),r=s("cqms");class o{constructor(t,e,s){this.C=t,this.gh=e,this.Fh=s,this.C=t,this.gh=e||!1,this.Fh=s,this.kh=new n.A,this.fh=0,this.wh=1}jh(){return this.gh}xh(){return this.C.ft(i.d.gt.qh)}setSdkAuthenticationSignature(t){const e=this.xh();this.C.Bt(i.d.gt.qh,t);const s=a.A.Ls.Fs;new a.A(s,r.A).setItem(s.Ms.yh,this.wh,t),e!==t&&this.it()}Bh(){this.C.Ut(i.d.gt.qh);const t=a.A.Ls.Fs;new a.A(t,r.A).ge(t.Ms.yh,this.wh)}subscribeToSdkAuthenticationFailures(t){return this.Fh.Dt(t)}Gh(t){this.Fh.X(t)}Hh(){this.kh.removeAllSubscriptions()}Jh(){this.fh+=1}Kh(){return this.fh}it(){this.fh=0}}var l=s("w7bV"),c=s("fXrE");class u{constructor(t){this.id=t,this.id=t}Nr(){const t={};return null!=this.browser&&(t.browser=this.browser),null!=this.tc&&(t.browser_version=this.tc),null!=this.os&&(t.os_version=this.os),null!=this.resolution&&(t.resolution=this.resolution),null!=this.language&&(t.locale=this.language),null!=this.timeZone&&(t.time_zone=this.timeZone),null!=this.userAgent&&(t.user_agent=this.userAgent),t}}var h=s("Ibo5"),d=s("dQ1G"),p=s("HXl4"),b=s("azH7"),g=s("LltV");class f{constructor(t,e){this.C=t,this.Qa=e,this.C=t,null==e&&(e=(0,b.zu)(h.A)),this.Qa=e}ve(t=!0){let e=this.C.tu(i.d.iu.Na);null==e&&(e=new d.A(p.A.ce()),t&&this.C.uu(i.d.iu.Na,e));const s=new u(e.eu);for(let t=0;t<this.Qa.length;t++)switch(this.Qa[t]){case h.A.BROWSER:s.browser=c.A.browser;break;case h.A.BROWSER_VERSION:s.tc=c.A.version;break;case h.A.OS:s.os=this.ec();break;case h.A.RESOLUTION:s.rc=screen.width+"x"+screen.height;break;case h.A.LANGUAGE:s.language=c.A.language;break;case h.A.TIME_ZONE:s.timeZone=this.sc(new Date);break;case h.A.USER_AGENT:s.userAgent=c.A.userAgent}return s}ec(){if(c.A.ic())return c.A.ic();const t=this.C.ft(i.d.gt.oc);return t&&t.os_version?t.os_version:c.A.ec()}sc(t){let e=!1;if("undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat)try{if("function"==typeof Intl.DateTimeFormat().resolvedOptions){const t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(null!=t&&""!==t)return t}}catch(t){r.A.info("Intl.DateTimeFormat threw an error, cannot detect user's time zone:"+(0,g.u)(t)),e=!0}if(e)return"";const s=t.getTimezoneOffset();return this.nc(s)}nc(t){const e=Math.trunc(t/60),s=Math.trunc(t%60);let i="GMT";return 0!==t&&(i+=t<0?"+":"-",i+=("00"+Math.abs(e)).slice(-2)+":"+("00"+Math.abs(s)).slice(-2)),i}}var m=s("QOIJ"),A=s("KuXe"),v=s("7esM"),y=s("Z43y"),w=s("wzJC"),x=s("J++8"),E=s("FggB"),C=s("4j5/"),S=s("CgXj");class k{constructor(t,e,s,i,n,a,r,o,l,c,u,h){this.hn=t,this.C=e,this.Pa=s,this.Cs=i,this.T=n,this.B=a,this.an=r,this.La=o,this.Ta=l,this.Ra=c,this.appVersion=u,this.au=h,this.du=t=>null==t?"":`${t} `,this.hn=t,this.C=e,this.Pa=s,this.Cs=i,this.T=n,this.B=a,this.an=r,this.La=o,this.Ta=l,this.Ra=c,this.appVersion=u,this.au=h,this.fu=["npm"],this.vu=[]}H(t,e=!1,s=!1){const n=this.hn.ve(!s),a=n.Nr(),r=this.C.ft(i.d.gt.oc);(0,b.n4)(r,a)||(t.device=a),t.api_key=this.an,t.time=(0,v.UK)((new Date).valueOf(),!0);const o=this.C.ft(i.d.gt.pu)||[],l=this.C.ft(i.d.gt.Ru)||"";this.fu.length>0&&(!(0,b.n4)(o,this.fu)||l!==this.T.St())&&(t.sdk_metadata=this.fu),t.sdk_version=this.Ta,this.Ra&&(t.sdk_flavor=this.Ra),t.app_version=this.appVersion,t.app_version_code=this.au,t.device_id=n.id;const c=this.Cs.getUserId();if(e&&null!==c&&(t.user_id=c),!c&&!this.Pa.jh()){const e=(0,C.b)(this.C);e&&(t.alias=e)}return t}st(t,e,s){const i=e.auth_error,n=e.error;if(!i&&!n)return!0;if(i){let e;this.Pa.Jh();const n={errorCode:i.error_code};for(const t of s)(0,b.cy)(t)&&"X-Braze-Auth-Signature"===t[0]&&(n.signature=t[1]);t.respond_with&&t.respond_with.user_id?n.userId=t.respond_with.user_id:t.user_id&&(n.userId=t.user_id);const a=i.reason;return a?(n.reason=a,e=`due to ${a}`):e=`with error code ${i.error_code}.`,this.Pa.jh()||(e+=' Please use the "enableSdkAuthentication" initialization option to enable authentication.'),r.A.error(`SDK Authentication failed ${e}`),this.gu(t.events||[],t.attributes||[]),this.Pa.Gh(n),!1}if(n){let s,i=n;switch(i){case m.A.bu:return s="Received successful response with empty body.",y.A.ut(w.w.qu,{e:s}),r.A.info(s),!1;case m.A.Au:return s="Received successful response with invalid JSON",y.A.ut(w.w.qu,{e:s+": "+e.response}),r.A.info(s),!1;case m.A.Du:i=`The API key "${t.api_key}" is invalid for the baseUrl ${this.La}`;break;case m.A.Tu:i="Sorry, we are not currently accepting your requests. If you think this is in error, please contact us.";break;case m.A.ku:i="No device identifier. Please contact support@braze.com"}r.A.error("Backend error: "+i)}return!1}yu(t,e,s,i){return!!(t&&0!==t.length||e&&0!==e.length||s||i)}wu(t,e,s,i,n=!1){const a=[],r=t=>t||"",o=r(this.Cs.getUserId());let l=this.Gr(t,e);const c=[],u=[];let h,d=null;if(s.length>0){const t=[];for(const e of s){if(h=e.Nr(),this.Pa.jh()){if(o&&!h.user_id){d||(d={}),d.events||(d.events=[]),d.events.push(h);continue}if(r(h.user_id)!==o){u.push(h);continue}}t.push(h)}t.length>0&&(l.events=t)}if(i.length>0){const t=[];for(const e of i)e&&(this.Pa.jh()&&r(e.user_id)!==o?c.push(e):t.push(e));t.length>0&&(l.attributes=t)}if(this.gu(u,c),l=this.H(l,!1,n),d){d=this.H(d,!1,n);const t={requestData:d,headers:this.J(d,x.A.O.Nu)};a.push(t)}if(l&&!this.yu(l.events,l.attributes,t,e))return d?a:null;const p={requestData:l,headers:this.J(l,x.A.O.Nu)};return a.push(p),a}gu(t,e){if(t){const e=[];for(const s of t){const t=A.A.fromJson(s);t.time=(0,v.YX)(t.time),e.push(t)}this.C.Vo(e)}if(e)for(const t of e)this.C.Cu(t)}et(t,e){let s="HTTP error ";null!=t&&(s+=t+" "),s+=e,r.A.error(s)}zr(t){return y.A.ut(w.w.Su,{n:t})}Gr(t,e,s){const i={};t&&(i.feed=!0),e&&(i.triggers=!0);const n=null!=s?s:this.Cs.getUserId();if(n&&(i.user_id=n),!i.user_id&&!this.Pa.jh()){const t=(0,C.b)(this.C);t&&(i.alias=t)}return i.config={config_time:this.B.Et()},{respond_with:i}}Bu(t){const e=(new Date).valueOf();let s=E.mO.toString();const i=x.A.zu(this.C,t);return-1!==i&&(s=(e-i).toString()),s}J(t,e,s=!1){const i=[["X-Braze-Api-Key",this.an]],n=this.Bu(e);i.push(["X-Braze-Last-Req-Ms-Ago",n]);const a=x.A.ju(this.C,e).toString();i.push(["X-Braze-Req-Attempt",a]);let r=!1;if(null!=t.respond_with&&t.respond_with.triggers&&(i.push(["X-Braze-TriggersRequest","true"]),r=!0),null!=t.respond_with&&t.respond_with.feed&&(i.push(["X-Braze-FeedRequest","true"]),r=!0),e===x.A.O.wi){i.push(["X-Braze-ContentCardsRequest","true"]);let t=x.A.ju(this.C,x.A.O.wi);t&&!s||(t=1,x.A.Mu(this.C,x.A.O.wi,t));const e=Math.max(0,t-1);i.push(["BRAZE-SYNC-RETRY-COUNT",e.toString()]),r=!0}if(e===x.A.O.Le&&(i.push(["X-Braze-FeatureFlagsRequest","true"]),r=!0),r&&i.push(["X-Braze-DataRequest","true"]),this.Pa.jh()){const t=this.Pa.xh();null!=t&&i.push(["X-Braze-Auth-Signature",t])}return i}Xu(t,e,s,i){const n=window.setTimeout((()=>{r.A.info(`Retrying rate limited ${this.du(i)}SDK request.`),this.V(e,s,i)}),t);this.vu.push(n)}fo(){for(const t of this.vu)window.clearTimeout(t);this.vu=[]}V(t,e,s,n){if(!this.$u(s))return r.A.info(`${this.du(s)}SDK request being rate limited.`),void("function"==typeof n&&n());const a=this.Fu();if(!a.Lu)return r.A.info(`${this.du(s)}SDK request being rate limited. Request will be retried in ${Math.trunc(a.Eu/1e3)} seconds.`),void this.Xu(a.Eu,t,e,s);this.C.Bt(i.d.gt.Ku,(new Date).valueOf());const o=t.device;o&&o.os_version instanceof Promise?o.os_version.then((s=>{t.device.os_version=s,e(a.Iu)})):e(a.Iu)}Pu(t){const e=t?(0,S.s)(t):null;if(!e||!e["retry-after"])return null;const s=e["retry-after"];if(isNaN(s)&&!isNaN(Date.parse(s)))return{type:"date",value:Date.parse(s)};if(!isNaN(parseFloat(s.toString())))return{type:"timestamp",value:1e3*parseFloat(s.toString())};{const t="Received unexpected value for retry-after header in /sync response";y.A.ut(w.w.qu,{e:t+": "+s})}return null}rt(t,e,s,i,n,a){if(x.A.ju(this.C,s)>=E.uR)return;let r;a=a||0;const o=this.Pu(t);n();const l=t=>{const n=window.setTimeout((()=>{e()}),t);i(n),x.A.Uu(this.C,s)};if(o&&!isNaN(o.value)){switch(o.type){case"date":r=o.value-(new Date).getTime()+a,r<0&&e();break;case"timestamp":r=o.value+a}l(r)}else a?l(a):x.A.vi(this.C,s)}xu(t){var e;null===(e=this.C)||void 0===e||e.Bt(i.d.gt.Hu,t)}Ou(t,e){let s=this.Gu();null==s&&(s={}),s[t]=e,this.C.Bt(i.d.gt._u,s)}Wu(){var t;return null===(t=this.C)||void 0===t?void 0:t.ft(i.d.gt.Hu)}Gu(){var t;return null===(t=this.C)||void 0===t?void 0:t.ft(i.d.gt._u)}Yu(t,e,s,i,n=""){let a;if(n){const t=this.Gu();a=null==t||isNaN(t[n])?e:t[n]}else a=this.Wu(),(null==a||isNaN(a))&&(a=e);const r=(t-i)/1e3;return a=Math.min(a+r/s,e),a}Ju(t,e){return Math.max(0,(1-t)*e*1e3)}Qu(t,e=""){var s,n,a,r,o;const l={Lu:!0,Iu:-1,Eu:0};if(null==t&&(t=!0),!t&&!e)return l;let c,u,h=null;if(t)h=null===(s=this.C)||void 0===s?void 0:s.ft(i.d.gt.Ku);else{const t=x.A.Vu(this.C);if(null==t||null==t[e])return l;h=t[e]}if(null==h||isNaN(h))return l;if(t?(c=(null===(n=this.B)||void 0===n?void 0:n.Zu())||-1,u=(null===(a=this.B)||void 0===a?void 0:a.tl())||-1):(c=(null===(r=this.B)||void 0===r?void 0:r.el(e))||-1,u=(null===(o=this.B)||void 0===o?void 0:o.il(e))||-1),-1===c||-1===u)return l;const d=(new Date).valueOf();let p=this.Yu(d,c,u,h,e);return p<1?(l.Lu=!1,l.Eu=this.Ju(p,u),l):(p=Math.trunc(p)-1,l.Iu=p,t?this.xu(p):this.Ou(e,p),l)}Fu(){return this.Qu(!0)}$u(t){const e=this.Qu(!1,t);return!(e&&!e.Lu)}it(){this.Pa.it()}Z(){return this.La}addSdkMetadata(t){for(const e of t)-1===this.fu.indexOf(e)&&this.fu.push(e)}}var N=s("L0v4"),T=s("Jdpe"),_=s("eis7");class O{constructor(t,e,s,i,a,r,o,l,c,u){this.an=t,this.baseUrl=e,this.T=s,this.hn=i,this.Cs=a,this.B=r,this.C=o,this.$l=l,this.Pa=c,this.S=u,this.an=t,this.baseUrl=e,this.Tl=0,this.dE=o.IE()||0,this.Ml=null,this.T=s,this.hn=i,this.Cs=a,this.B=r,this.C=o,this.Pa=c,this.S=u,this.$l=l,this.Pl=new n.A,this.Ol=null,this.Ul=50,this._l=!1}Kl(t,e){return!t&&!e&&this.Pa.Kh()>=this.Ul}Xl(t){let e=this.T.zl();if(t.length>0){const s=this.Cs.getUserId();for(const i of t){const t=!i.userId&&!s||i.userId===s;i.type===w.w.Fl&&t&&(e=!0)}}return e}Ql(t=!1,e=!1,s=!0,n,a,o,l=!1,c=!1){s&&this.Yl();const u=this.C.AE(),h=this.C.OE();let d=!1;const p=(t,e,r=-1)=>{const l=(new Date).valueOf();x.A.W(this.C,x.A.O.Nu,l),-1!==r&&e.push(["X-Braze-Req-Tokens-Remaining",r.toString()]);let c=!1;S.A.Y({url:this.baseUrl+"/data/",data:t,headers:e,tt:s=>{null!=t.respond_with&&t.respond_with.triggers&&(this.Tl=Math.max(this.Tl-1,0)),this.S.st(t,s,e)?(this.Pa.it(),this.B.gl(s),null!=t.respond_with&&t.respond_with.user_id!=this.Cs.getUserId()||(null!=t.device&&this.C.Bt(i.d.gt.oc,t.device),null!=t.sdk_metadata&&(this.C.Bt(i.d.gt.pu,t.sdk_metadata),this.C.Bt(i.d.gt.Ru,this.T.St())),this.$l(s),x.A.Mu(this.C,x.A.O.Nu,1),"function"==typeof n&&n())):s.auth_error&&(c=!0)},error:()=>{c=!0,null!=t.respond_with&&t.respond_with.triggers&&(this.Tl=Math.max(this.Tl-1,0)),this.S.gu(t.events,t.attributes),"function"==typeof a&&a()},nt:(t,e)=>{"function"==typeof o&&o(!c);const i=this.S.Pu(e);let n=0;if(i)switch(i.type){case"date":n=Math.max(i.value-(new Date).valueOf(),0);break;case"timestamp":n=i.value}if(s&&!d){if(c){x.A.Uu(this.C,x.A.O.Nu);let t=this.Ml;(null==t||t<1e3*this.dE)&&(t=1e3*this.dE);const e=Math.min(3e5,(0,N.C)(1e3*this.dE,3*t))+n;this.Zl(e)}else this.Zl(Math.max(1e3*this.dE,n));d=!0}}})},b=this.Xl(u),g=e||b;if(this.Kl(l,b))return void r.A.info("Declining to flush data due to 50 consecutive authentication failures");if(s&&!this.S.yu(u,h,t,g))return this.Zl(),void("function"==typeof o&&o(!0));const f=this.S.wu(t,g,u,h,c);g&&this.Tl++;let m=!1;if(f)for(const t of f)this.S.V(t.requestData,(e=>p(t.requestData,t.headers,e)),x.A.O.Nu,a),m=!0;this.Pa.jh()&&s&&!m?this.Zl():b&&(r.A.info("Invoking new session subscriptions"),this.Pl.X())}dc(){return this.Tl>0}Zl(t=1e3*this.dE){this._l||(this.Yl(),this.Ol=window.setTimeout((()=>{if(document.hidden){const t="visibilitychange",e=()=>{document.hidden||(document.removeEventListener(t,e,!1),this.Ql())};document.addEventListener(t,e,!1)}else this.Ql()}),t),this.Ml=t)}Yl(){null!=this.Ol&&(clearTimeout(this.Ol),this.Ol=null)}initialize(){this._l=!1,this.Zl()}destroy(){this.Pl.removeAllSubscriptions(),this.Pa.Hh(),this.Yl(),this._l=!0,this.Ql(void 0,void 0,!1,void 0,void 0,void 0,void 0,!0),this.Ol=null}on(t){return this.Pl.Dt(t)}openSession(){const t=this.T.St()!==this.T.Qo();t&&(this.C.TE(i.d.iu.Na),this.C.TE(i.d.iu.su)),this.Ql(void 0,!1,void 0,(()=>{this.C.Ut(i.d.gt.Ge)})),this.Qn(),t&&Promise.resolve().then(s.bind(s,"oBfN")).then((t=>{if(this._l)return;const e=t.default.ea();if(null!=e&&(_.A.isPushPermissionGranted()||_.A.isPushBlocked())){const t=()=>{e.wn()?r.A.info("Push token maintenance is disabled, not refreshing token for backend."):e.subscribe()},s=(e,s)=>{s&&t()},n=()=>{const e=this.C.ft(i.d.gt.zn);(null==e||e)&&t()},o=a.A.Ls.Fs;new a.A(o,r.A).cr(o.Ms.cu,s,n)}}))}mc(){this.C.Ut(i.d.gt.Xe),this.C.Ut(i.d.gt.Hs),this.C.Ut(i.d.gt.Kr)}fc(){var t,e;this.C.Ut(i.d.gt.Ku),this.C.Ut(i.d.gt.lE);const s=x.A.O;for(const e in s){const i=s[e];this.S.Ou(i,null===(t=this.B)||void 0===t?void 0:t.el(i))}this.S.xu(null===(e=this.B)||void 0===e?void 0:e.Zu())}changeUser(t,e,s){const n=this.Cs.getUserId();if(n!==t){this.T.Il(),this.mc(),null!=n&&this.Ql(void 0,!1,void 0,void 0,void 0),this.Cs.ou(t),s?this.Pa.setSdkAuthenticationSignature(s):this.Pa.Bh();for(let t=0;t<e.length;t++)e[t].changeUser(null==n);this.S.fo(),null!=n&&this.C.Ut(i.d.gt.Zt),this.C.Ut(i.d.gt.oc),this.C.Ut(i.d.gt._E),this.fc(),this.openSession(),r.A.info('Changed user to "'+t+'".')}else{let e="Doing nothing.";s&&this.Pa.xh()!==s&&(this.Pa.setSdkAuthenticationSignature(s),e="Updated SDK authentication signature"),r.A.info(`Current user is already ${t}. ${e}`)}}requestImmediateDataFlush(t){this.Yl(),this.T.Qo(),this.Ql(void 0,void 0,void 0,void 0,(()=>{r.A.error("Failed to flush data, request will be retried automatically.")}),t,!0)}requestFeedRefresh(){this.T.Qo(),this.Ql(!0)}br(t,e){this.T.Qo(),r.A.info("Requesting explicit trigger refresh."),this.Ql(void 0,!0,void 0,t,e)}Cn(t,e){const s=w.w.vc,n={a:t,l:e},a=y.A.ut(s,n);return a&&(r.A.info(`Logged alias ${t} with label ${e}`),this.C.Bt(i.d.gt._E,n)),a}Ln(t,e,s){if(this.B.hu(e))return r.A.info(`Custom Attribute "${e}" is blocklisted, ignoring.`),new T.A;const i={key:e,value:s},n=y.A.ut(t,i);if(n){const t="object"==typeof s?JSON.stringify(s,null,2):s;r.A.info(`Logged custom attribute: ${e} with value: ${t}`)}return n}setLastKnownLocation(t,e,s,i,n,a){const o={latitude:e,longitude:s};null!=i&&(o.altitude=i),null!=n&&(o.ll_accuracy=n),null!=a&&(o.alt_accuracy=a);const l=y.A.ut(w.w.bc,o,t||void 0);return l&&r.A.info(`Set user last known location as ${JSON.stringify(o,null,2)}`),l}lr(t,e){const s=this.T.Qo();return new A.A(this.Cs.getUserId(),w.w.wc,t,s,{cid:e})}kc(t,e){return new a.A(t,e)}Qn(){const t=a.A.Ls.Fs;this.kc(t,r.A).setItem(t.Ms.Nu,1,{baseUrl:this.baseUrl,data:{api_key:this.an,device_id:this.hn.ve().id},userId:this.Cs.getUserId(),sdkAuthEnabled:this.Pa.jh()})}vr(t){for(const e of t)if(e.api_key===this.an)this.S.gu(e.events,e.attributes);else{const t=a.A.Ls.Fs;new a.A(t,r.A).setItem(t.Ms.kr,p.A.ce(),e)}}Kn(t,e,s){if(this.B.hu(t))return r.A.info(`Custom Attribute "${t}" is blocklisted, ignoring.`),new T.A;let i,n;return null===e&&null===s?(i=w.w.yc,n={key:t}):(i=w.w.Sc,n={key:t,latitude:e,longitude:s}),y.A.ut(i,n)}Mn(t,e){const s={group_id:t,status:e};return y.A.ut(w.w.jc,s)}}class I{constructor(t=0,e=[],s=[],i=[],n=null,a=null,r={enabled:!1},o={enabled:!1,refresh_rate_limit:void 0},l={enabled:!0,capacity:E.uy,refill_rate:E.Fn,endpoint_overrides:{}},c=null){this.dl=t,this.Rl=e,this.Cl=s,this.El=i,this.yl=n,this.fl=a,this.vl=r,this.De=o,this.bl=l,this.banners=c,this.dl=t,this.Rl=e,this.Cl=s,this.El=i,this.yl=n,this.fl=a,this.vl=r,this.De=o,this.bl=l,this.banners=c}bt(){return{s:"5.9.1",l:this.dl,e:this.Rl,a:this.Cl,p:this.El,m:this.yl,v:this.fl,c:this.vl,f:this.De,grl:this.bl,b:this.banners}}static Rn(t){let e=t.l;return"5.9.1"!==t.s&&(e=0),new I(e,t.e,t.a,t.p,t.m,t.v,t.c,t.f,t.grl,t.b)}}class D{constructor(t){this.C=t,this.C=t,this.sl=new n.A,this.rl=new n.A,this.ul=new n.A,this.al=new n.A,this.hl=null,this.ol=null}cl(){if(null==this.ol){const t=this.C.ft(i.d.gt.ml);this.ol=null!=t?I.Rn(t):new I}return this.ol}Et(){return this.cl().dl}gl(t){var e,s;if(null!=t&&null!=t.config){const n=t.config;if(n.time>this.cl().dl){const t=t=>null==t?this.cl().bl:t,a=new I(n.time,n.events_blacklist,n.attributes_blacklist,n.purchases_blacklist,n.messaging_session_timeout,n.vapid_public_key,n.content_cards,n.feature_flags,t(n.global_request_rate_limit),n.banners);let r=!1;null!=a.fl&&this.In()!==a.fl&&(r=!0);let o=!1;null!=a.vl.enabled&&this.yi()!==a.vl.enabled&&(o=!0);let l=!1;null!=a.De.enabled&&this.ke()!==a.De.enabled&&(l=!0);let c=!1;null!=(null===(e=a.banners)||void 0===e?void 0:e.enabled)&&this.zt()!==(null===(s=a.banners)||void 0===s?void 0:s.enabled)&&(c=!0),this.ol=a,this.C.Bt(i.d.gt.ml,a.bt()),r&&this.sl.X(),o&&this.rl.X(),l&&this.ul.X(),c&&this.al.X()}}}Vn(t){const e=this.sl.Dt(t);return this.hl&&this.sl.removeSubscription(this.hl),this.hl=e,e}gi(t){return this.rl.Dt(t)}Ke(t){return this.ul.Dt(t)}A(t){return this.al.Dt(t)}je(t){return-1!==this.cl().Rl.indexOf(t)}hu(t){return-1!==this.cl().Cl.indexOf(t)}Dr(t){return-1!==this.cl().El.indexOf(t)}wl(){return this.cl().yl}In(){return this.cl().fl}yi(){return this.cl().vl.enabled||!1}Ll(){const t=this.cl().bl;return!(!t||null==t.enabled)&&t.enabled}Zu(){if(!this.Ll())return-1;const t=this.cl().bl;return null==t.capacity||t.capacity<10?-1:t.capacity}tl(){if(!this.Ll())return-1;const t=this.cl().bl;return null==t.refill_rate||t.refill_rate<=0?-1:t.refill_rate}Bl(t){const e=this.cl().bl.endpoint_overrides;return null==e?null:e[t]}el(t){const e=this.Bl(t);return null==e||isNaN(e.capacity)||e.capacity<=0?-1:e.capacity}il(t){const e=this.Bl(t);return null==e||isNaN(e.refill_rate)||e.refill_rate<=0?-1:e.refill_rate}ke(){return this.cl().De.enabled&&null==this.Oe()?(y.A.ut(w.w.qu,{e:"Missing feature flag refresh_rate_limit."}),!1):this.cl().De.enabled||!1}Oe(){return this.cl().De.refresh_rate_limit}zt(){var t;return(null===(t=this.cl().banners)||void 0===t?void 0:t.enabled)||null}ne(){var t;return(null===(t=this.cl().banners)||void 0===t?void 0:t.max_placements)||0}}class B{constructor(t,e,s,i){this.C=t,this.Cs=e,this.B=s,this.Sl=i,this.C=t,this.Cs=e,this.B=s,this.jl=1e3,(null==i||isNaN(i))&&(i=1800),i<this.jl/1e3&&(r.A.info("Specified session timeout of "+i+"s is too small, using the minimum session timeout of "+this.jl/1e3+"s instead."),i=this.jl/1e3),this.Sl=i}xl(t,e){return new A.A(this.Cs.getUserId(),w.w.Dl,t,e.eu,{d:(0,v.UK)(t-e.Gl)})}St(){const t=this.C.tu(i.d.iu.Nl);return null==t?null:t.eu}zl(){const t=(new Date).valueOf(),e=this.B.wl();if(null==e)return!1;const s=this.C.ft(i.d.gt.Hl),n=null==s||t-s>1e3*e;return n&&this.C.Bt(i.d.gt.Hl,t),n}Wl(t,e){return null==e||null==e.kl||!(t-e.Gl<this.jl)&&e.kl<t}Qo(){const t=(new Date).valueOf(),e=t+1e3*this.Sl,s=this.C.tu(i.d.iu.Nl);if(this.Wl(t,s)){let n="Generating session start event with time "+t;if(null!=s){let t=s.ql;t-s.Gl<this.jl&&(t=s.Gl+this.jl),this.C.Al(this.xl(t,s)),n+=" (old session ended "+t+")"}n+=". Will expire "+e.valueOf(),r.A.info(n);const a=new d.A(p.A.ce(),e);return this.C.Al(new A.A(this.Cs.getUserId(),w.w.Fl,t,a.eu)),this.C.uu(i.d.iu.Nl,a),null==this.C.ft(i.d.gt.Hl)&&this.C.Bt(i.d.gt.Hl,t),a.eu}if(null!=s)return s.ql=t,s.kl=e,this.C.uu(i.d.iu.Nl,s),s.eu}Il(){const t=this.C.tu(i.d.iu.Nl);null!=t&&(this.C.Jl(i.d.iu.Nl),this.C.Al(this.xl((new Date).valueOf(),t)))}}const z={Ya:function(t,e=!1){let s=!1;try{if(localStorage&&localStorage.getItem)try{localStorage.setItem(i.d.gt.ac,"true"),localStorage.getItem(i.d.gt.ac)&&(localStorage.removeItem(i.d.gt.ac),s=!0)}catch(t){if(!(t instanceof Error&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&localStorage.length>0))throw t;s=!0}}catch(t){r.A.info("Local Storage not supported!")}const n=z.cc(),a=new i.A.lc(t,n&&!e,s);let o;return o=s?new i.A.gc(t):new i.A.uc,new i.A(a,o)},cc:function(){return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}},P=z;var F=s("rv22"),M=s("+aDo"),U=s("J/SO"),L=s("TaGn");class R{constructor(t,e){this.B=t,this.C=e,this.B=t,this.C=e}getUserId(){const t=this.C.tu(i.d.iu.su);if(null==t)return null;let e=t.eu,s=(0,M.N)(e);if(s>L.A.ur){for(;s>L.A.ur;)e=e.slice(0,e.length-1),s=(0,M.N)(e);t.eu=e,this.C.uu(i.d.iu.su,t)}return e}ou(t){const e=null==this.getUserId();this.C.uu(i.d.iu.su,new d.A(t)),e&&this.C.ru(t)}setCustomUserAttribute(t,e){if(this.B.hu(t))return r.A.info('Custom Attribute "'+t+'" is blocklisted, ignoring.'),!1;const s={};return s[t]=e,this.nu(L.A.lu,s,!0)}nu(t,e,s=!1,i=!1){const n=this.C.mu(this.getUserId(),t,e);let a="",o=t,l=e;return s&&(a=" custom","object"==typeof e&&(o=Object.keys(e)[0],l=e[o],"object"==typeof l&&(l=JSON.stringify(l,null,2)))),!i&&n&&r.A.info(`Logged${a} attribute ${o} with value ${l}`),n}An(t,e,s,n,o){this.nu("push_token",t,!1,!0),this.nu("custom_push_public_key",s,!1,!0),this.nu("custom_push_user_auth",n,!1,!0),this.nu("custom_push_vapid_public_key",o,!1,!0);const l=a.A.Ls.Fs,c=new a.A(l,r.A),u=new U.A(t,e,s,n,o);this.C.Bt(i.d.gt.zn,u.bt()),c.setItem(l.Ms.cu,l.be,!0)}xn(t){if(this.nu("push_token",null,!1,!0),this.nu("custom_push_public_key",null,!1,!0),this.nu("custom_push_user_auth",null,!1,!0),this.nu("custom_push_vapid_public_key",null,!1,!0),t){const t=a.A.Ls.Fs,e=new a.A(t,r.A);this.C.Bt(i.d.gt.zn,!1),e.setItem(t.Ms.cu,t.be,!1)}}}var $=s("DEgD"),q=s("xoq4");const j={Yo:"allowCrawlerActivity",Zo:"baseUrl",Wh:"noCookies",Vh:"devicePropertyAllowlist",Da:"disablePushTokenMaintenance",$h:"enableLogging",Yh:"enableSdkAuthentication",Ca:"manageServiceWorkerExternally",Xh:"minimumIntervalBetweenTriggerActionsInSeconds",Zh:"sessionTimeoutInSeconds",Qh:"appVersion",Ea:"appVersionNumber",_a:"serviceWorkerLocation",Ba:"safariWebsitePushId",Zn:"localization",er:"contentSecurityNonce",re:"allowUserSuppliedJavascript",Go:"inAppMessageZIndex",Ko:"openInAppMessagesInNewTab",en:"openNewsFeedCardsInNewTab",mh:"requireExplicitInAppMessageDismissal",Ia:"doNotLoadFontAwesome",Na:"deviceId",Aa:"serviceWorkerScope",Oa:"sdkFlavor",tn:"openCardsInNewTab"},G={Yo:"allowCrawlerActivity",Zo:"baseUrl",Wh:"noCookies",Vh:"devicePropertyAllowlist",Da:"disablePushTokenMaintenance",$h:"enableLogging",Yh:"enableSdkAuthentication",Ca:"manageServiceWorkerExternally",Xh:"minimumIntervalBetweenTriggerActionsInSeconds",Zh:"sessionTimeoutInSeconds",Qh:"appVersion",Ea:"appVersionNumber",_a:"serviceWorkerLocation",Ba:"safariWebsitePushId",Zn:"localization",er:"contentSecurityNonce",re:"allowUserSuppliedJavascript",Go:"inAppMessageZIndex",Ko:"openInAppMessagesInNewTab",tn:"openCardsInNewTab",en:"openNewsFeedCardsInNewTab",mh:"requireExplicitInAppMessageDismissal",Ia:"doNotLoadFontAwesome",Na:"deviceId",Aa:"serviceWorkerScope",Oa:"sdkFlavor"},H=new class{constructor(){this.an="",this.Ta="",this.Ra=void 0,this.Pa=null,this.hn=null,this.S=null,this.Fi=null,this.B=null,this.T=null,this.C=null,this.Cs=null,this.La="",this.isInitialized=!1,this.Ua=!1,this.Wa=new n.A,this.Va=new n.A,this.options={},this.Fa=[],this.Ka=[],this.Mi=[],this.Ta="5.9.1"}Ga(t){this.Wa.Dt(t)}Nh(t){this.Va.Dt(t)}initialize(t,e){if(this.nn())return r.A.info("Braze has already been initialized with an API key."),!0;this.options=e||{};let a=this.ee(G.$h);const l=(0,$.y)(q.uD.$a());if(l&&"true"===l.brazeLogging&&(a=!0),r.A.init(a),r.A.info(`Initialization Options: ${JSON.stringify(this.options,null,2)}`),null==t||""===t||"string"!=typeof t)return r.A.error("Braze requires a valid API key to be initialized."),!1;this.an=t;let u=this.ee(G.Zo);if(null==u||""===u||"string"!=typeof u)return r.A.error("Braze requires a valid baseUrl to be initialized."),!1;!1===/^https?:/.test(u)&&(u=`https://${u}`);const p=u;if(u=document.createElement("a"),u.href=p,"/"===u.pathname&&(u=`${u}api/v3`),this.La=u.toString(),c.A.Ja&&!this.ee(G.Yo))return r.A.info("Ignoring activity from crawler bot "+navigator.userAgent),this.Ua=!0,!1;const g=this.ee(G.Wh)||!1;if(this.C=P.Ya(t,g),g&&this.C.Ha(t),new i.A.se(null,!0).gr(i.d.me))return r.A.info("Ignoring all activity due to previous opt out"),this.Ua=!0,!1;for(const t of(0,b.HP)(this.options))-1===(0,b.zu)(j).indexOf(t)&&r.A.warn(`Ignoring unknown initialization option '${t}'.`);const m=["mparticle","wordpress","tealium"];if(null!=this.ee(G.Oa)){const t=this.ee(G.Oa);-1!==m.indexOf(t)?this.Ra=t:r.A.error("Invalid sdk flavor passed: "+t)}let A=this.ee(j.Vh);if(null!=A)if((0,b.cy)(A)){const t=[];for(let e=0;e<A.length;e++)(0,b.BY)(h.A,A[e],"devicePropertyAllowlist contained an invalid value.","DeviceProperties")&&t.push(A[e]);A=t}else r.A.error("devicePropertyAllowlist must be an array. Defaulting to all properties."),A=null;const v=this.ee(G.Na);if(v){const t=new d.A(v);this.C.uu(i.d.iu.Na,t)}this.hn=new f(this.C,A),this.B=new D(this.C),this.Cs=new R(this.B,this.C),this.T=new B(this.C,this.Cs,this.B,this.ee(G.Zh));const y=new n.A;return this.Pa=new o(this.C,this.ee(G.Yh),y),this.F(y),this.S=new k(this.hn,this.C,this.Pa,this.Cs,this.T,this.B,this.an,this.La,this.Ta,this.Ra||"",this.ee(G.Qh),this.ee(G.Ea)),this.Fi=new O(this.an,this.La,this.T,this.hn,this.Cs,this.B,this.C,(t=>{if(this.nn())for(const e of this.ar())e.U(t)}),this.Pa,this.S),this.Fi.initialize(),g||this.C.Xa(),r.A.info(`Initialized for the Braze backend at "${this.ee(G.Zo)}" with API key "${this.an}".`),F.B.p(),this.B.Ke((()=>{var t;this.isInitialized&&(null===(t=this.B)||void 0===t?void 0:t.ke())&&Promise.resolve().then(s.bind(s,"64cp")).then((t=>{this.isInitialized&&(0,t.default)()}))})),this.Fi.on((()=>{var t;this.isInitialized&&(null===(t=this.B)||void 0===t?void 0:t.ke())&&Promise.resolve().then(s.bind(s,"64cp")).then((t=>{this.isInitialized&&(0,t.default)(void 0,void 0,!0)}))})),this.Wa.X(this.options),this.isInitialized=!0,window.dispatchEvent(new CustomEvent("braze.initialized")),!0}destroy(t){if(r.A.destroy(),this.nn()){this.Va.X(),this.Va.removeAllSubscriptions();for(const t of this.Fa)t.destroy();this.Fa=[];for(const t of this.Ka)t.clearData(!1);this.S&&this.S.fo(),this.Ka=[],this.removeAllSubscriptions(),this.Mi=[],null!=this.Fi&&this.Fi.destroy(),this.Fi=null,this.Pa=null,this.hn=null,this.S=null,this.B=null,this.T=null,this.Cs=null,this.options={},this.Ra=void 0,this.isInitialized=!1,this.Ua=!1,t&&(this.C=null)}}rr(){return!(this.Za()||!this.nn()&&(console.warn(E.xE),1))}Ma(){return this.an}Sr(){return this.Pa}Z(){return this.La}ue(){return this.hn}g(){return this.S}ee(t){return this.options[t]}ar(){return this.Ka}rn(){return this.Fi}v(){return this.B}P(){return this.T}j(){return this.C}mr(){if(this.Cs&&this.Fi)return new L.A(this.Cs,this.Fi)}ir(){return this.Cs}tr(){return!0===this.ee(G.re)}h(t){let e=!1;for(const s of this.Fa)s===t&&(e=!0);e||this.Fa.push(t)}_(t){let e=!1;for(const s of this.Ka)s.constructor===t.constructor&&(e=!0);t instanceof l.A&&!e&&this.Ka.push(t)}F(t){t instanceof n.A&&this.Mi.push(t)}removeAllSubscriptions(){if(this.rr())for(const t of this.Mi)t.removeAllSubscriptions()}removeSubscription(t){if(this.rr())for(const e of this.Mi)e.removeSubscription(t)}fe(t){this.Ua=t}nn(){return this.isInitialized}Za(){return this.Ua}fi(){return this.Ta}}},FOzX:(t,e,s)=>{s.d(e,{A:()=>n});var i=s("cqms");class n{constructor(t,e=!1,s={},i){this.id=t,this.enabled=e,this.properties=s,this.trackingString=i,this.id=t,this.enabled=e,this.properties=s,this.trackingString=i}he(t,e,s){const i=this.properties[t];return null==i?(this.ye(t),null):e(i)?i.value:(this.Pe(s),null)}getStringProperty(t){return this.he(t,this.Ie,"string")}getNumberProperty(t){return this.he(t,this.Te,"number")}getBooleanProperty(t){return this.he(t,this.Ne,"boolean")}getImageProperty(t){return this.he(t,this.Re,"image")}getJsonProperty(t){return this.he(t,this.Se,"jsonobject")}getTimestampProperty(t){return this.he(t,this.Ae,"datetime")}bt(){const t={};return t[n.es.ds]=this.id,t[n.es.Fe]=this.enabled,t[n.es.we]=this.properties,t[n.es.xe]=this.trackingString,t}Pe(t){i.A.info(`Property is not of type ${t}.`)}ye(t){i.A.info(`${t} not found in feature flag properties.`)}Ie(t){return"string"===t.type&&"string"==typeof t.value}Te(t){return"number"===t.type&&"number"==typeof t.value}Ne(t){return"boolean"===t.type&&"boolean"==typeof t.value}Re(t){return"image"===t.type&&"string"==typeof t.value}Se(t){return"jsonobject"===t.type&&"object"==typeof t.value&&t.value.constructor==Object}Ae(t){return"datetime"===t.type&&"number"==typeof t.value}}n.es={ds:"id",Fe:"e",we:"pr",xe:"fts"},n.ui={ds:"id",Fe:"enabled",we:"properties",xe:"fts"}},FXju:(t,e,s)=>{s.d(e,{A:()=>A});var i=s("F7/r"),n=s("CgXj"),a=s("w7bV"),r=s("kkSs"),o=s("7esM"),l=s("DEgD"),c=s("QKCW"),u=s("jGgm"),h=s("TdiU"),d=s("J++8"),p=s("L0v4"),b=s("vRYs"),g=s("cqms");class f extends a.A{constructor(t,e,s,n,a){super(),this.Cs=t,this.C=e,this.B=s,this.Ss=n,this.S=a,this.Cs=t,this.C=e,this.B=s,this.Ss=n,this.S=a,this.Ts=new h.A,i.Ay.F(this.Ts),this.Rs=0,this.Us=0,this.cards=[],this.Ds();const r=b.A.Ls.Fs;new b.A(r,g.A).Ns(r.Ms.Js,(t=>{this.$s(t)})),this.Bs=null,this.N=null,this.Es=null,this.Ps=null,this.Xs=10}_s(){return this.Bs}Gs(t){this.Bs=t}Ct(){return this.N}Tt(t){this.N=t}Ds(){if(!this.C)return;const t=this.C.ft(u.d.gt.Hs)||[],e=[];for(let s=0;s<t.length;s++){const i=(0,c._l)(t[s]);null!=i&&e.push(i)}this.cards=this.Is(this.Ks(e,!1)),this.Rs=this.C.ft(u.d.gt.Os)||this.Rs,this.Us=this.C.ft(u.d.gt.Qs)||this.Us}Vs(t,e=!1,s=0,i=0){let n;if(e){n=[];for(const t of this.cards)t.test&&n.push(t)}else n=this.cards.slice();for(let s=0;s<t.length;s++){const i=t[s];let a=null;for(let t=0;t<this.cards.length;t++)if(i.id===this.cards[t].id){a=this.cards[t];break}if(e){const t=(0,c.Fu)(i);null!=a&&a.viewed&&t&&(t.viewed=!0),null!=t&&n.push(t)}else if(null==a){const t=(0,c.Fu)(i);null!=t&&n.push(t)}else if(!a.ri(i))for(let t=0;t<n.length;t++)if(i.id===n[t].id){n.splice(t,1);break}}this.cards=this.Is(this.Ks(n,e)),this.Ws(),this.Rs=s,this.Us=i,this.C&&(this.C.Bt(u.d.gt.Os,this.Rs),this.C.Bt(u.d.gt.Qs,this.Us))}U(t){if(this.Ys()&&null!=t&&t.cards){this.C&&this.C.Bt(u.d.gt.Zs,i.Ay.fi());const e=t.full_sync;e||this.Ds(),this.Vs(t.cards,e,t.last_full_sync_at,t.last_card_updated_at),this.Ts.X(this.di(!0))}}pi(t){this.Ci(),this.Es=t}$s(t){var e;if(!this.Ys())return;this.Ds();const s=this.cards.slice();let i=null;i=null===(e=this.Cs)||void 0===e?void 0:e.getUserId();for(let e=0;e<t.length;e++)if(i===t[e].userId||null==i&&null==t[e].userId){const i=t[e].card;let n=null;for(let t=0;t<this.cards.length;t++)if(i.id===this.cards[t].id){n=this.cards[t];break}if(null==n){const t=(0,c.Fu)(i);null!=t&&s.push(t)}else if(!n.ri(i))for(let t=0;t<s.length;t++)if(i.id===s[t].id){s.splice(t,1);break}}this.cards=this.Is(this.Ks(s,!1)),this.Ws(),this.Ts.X(this.di(!0))}Ks(t,e){let s={},i={},n={};this.C&&(s=this.C.ft(u.d.gt.Kt)||{},i=this.C.ft(u.d.gt.Yt)||{},n=this.C.ft(u.d.gt.Vt)||{});const a={},r={},o={};for(let e=0;e<t.length;e++){const l=t[e].id;l&&(s[l]&&(t[e].clicked=!0,a[l]=!0),i[l]&&(t[e].viewed=!0,r[l]=!0),n[l]&&(t[e].dismissed=!0,o[l]=!0))}return e&&this.C&&(this.C.Bt(u.d.gt.Kt,a),this.C.Bt(u.d.gt.Yt,r),this.C.Bt(u.d.gt.Vt,o)),t}Is(t){const e=[],s=new Date;let i={};this.C&&(i=this.C.ft(u.d.gt.Vt)||{});let n=!1;for(let a=0;a<t.length;a++){const r=t[a].url;if(!this.Ss&&r&&(0,l.P)(r)){g.A.error(`Card with url ${r} will not be displayed because Javascript URLs are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable this card.`);continue}const o=t[a].expiresAt;let c=!0;if(null!=o&&(c=o>=s),c=c&&!t[a].dismissed,c)e.push(t[a]);else{const e=t[a].id;e&&(i[e]=!0),n=!0}}return n&&this.C&&this.C.Bt(u.d.gt.Vt,i),e}Ws(){var t;const e=[];for(let t=0;t<this.cards.length;t++)e.push(this.cards[t].bt());null===(t=this.C)||void 0===t||t.Bt(u.d.gt.Hs,e)}Ci(){this.Es&&(clearTimeout(this.Es),this.Es=null)}bi(t,e,s=!1){var a;const r=this.S,o=this.C;if(!r||!o)return void("function"==typeof e&&e());if(s&&(d.A.vi(o,d.A.O.wi),this.Ci()),!this.Ys())return void(null===(a=this.B)||void 0===a||a.gi((()=>{this.bi(t,e,!0)})));const l=r.H({},!0);o.ft(u.d.gt.Zs)!==i.Ay.fi()&&this.ji(),l.last_full_sync_at=this.Rs,l.last_card_updated_at=this.Us;const c=r.J(l,d.A.O.wi,s);let h=!1;r.V(l,((s=-1)=>{if(this.C){const t=(new Date).valueOf();d.A.W(this.C,d.A.O.wi,t)}-1!==s&&c.push(["X-Braze-Req-Tokens-Remaining",s.toString()]),n.A.Y({url:`${r.Z()}/content_cards/sync`,data:l,headers:c,tt:s=>{if(!r.st(l,s,c))return h=!0,void("function"==typeof e&&e());r.it(),this.U(s),h=!1,"function"==typeof t&&t()},error:t=>{r.et(t,"retrieving content cards"),h=!0,"function"==typeof e&&e()},nt:(s,i)=>{let n;if(h){let t=this.Ps;(null==t||t<1e3*this.Xs)&&(t=1e3*this.Xs),n=Math.min(3e5,(0,p.C)(1e3*this.Xs,3*t))}r.rt(i,(()=>{this.bi(t,e,!1)}),d.A.O.wi,(t=>this.pi(t)),(()=>this.Ci()),n)}})}),d.A.O.wi,e)}di(t){t||this.Ds();const e=this.Is(this.cards);e.sort(((t,e)=>t.pinned&&!e.pinned?-1:e.pinned&&!t.pinned?1:t.updated&&e.updated&&t.updated>e.updated?-1:t.updated&&e.updated&&e.updated>t.updated?1:0));let s=Math.max(this.Us||0,this.Rs||0);return 0===s&&(s=void 0),this.C&&this.C.ft(u.d.gt.Qs)===this.Us&&void 0===s&&(s=this.Us),new r.A(e,(0,o.Zo)(s))}qt(t){return this.Ts.Dt(t)}ji(){this.Rs=0,this.Us=0,this.C&&(this.C.Ut(u.d.gt.Os),this.C.Ut(u.d.gt.Qs))}changeUser(t){t||(this.cards=[],this.Ts.X(new r.A(this.cards.slice(),null)),this.C&&(this.C.Ut(u.d.gt.Hs),this.C.Ut(u.d.gt.Kt),this.C.Ut(u.d.gt.Yt),this.C.Ut(u.d.gt.Vt))),this.Ci(),this.ji()}clearData(t){this.Rs=0,this.Us=0,this.cards=[],this.Ts.X(new r.A(this.cards.slice(),null)),t&&this.C&&(this.C.Ut(u.d.gt.Hs),this.C.Ut(u.d.gt.Kt),this.C.Ut(u.d.gt.Yt),this.C.Ut(u.d.gt.Vt),this.C.Ut(u.d.gt.Os),this.C.Ut(u.d.gt.Qs)),this.Ci()}Ys(){return!(!this.B||!this.B.yi()&&(0!==this.B.Et()&&this.Ri(),1))}Ri(){this.Ts.X(new r.A([],new Date)),this.C&&this.C.Ut(u.d.gt.Hs)}}const m={l:!1,provider:null,m:()=>(m.p(),m.provider||(m.provider=new f(i.Ay.ir(),i.Ay.j(),i.Ay.v(),i.Ay.tr(),i.Ay.g()),i.Ay._(m.provider)),m.provider),p:()=>{m.l||(i.Ay.h(m),m.l=!0)},destroy:()=>{m.provider=null,m.l=!1}},A=m},FggB:(t,e,s)=>{s.d(e,{$k:()=>i,FE:()=>f,Fn:()=>h,KG:()=>l,RW:()=>r,aV:()=>o,et:()=>b,fX:()=>n,mO:()=>d,og:()=>g,s1:()=>a,uR:()=>p,uy:()=>u,xE:()=>c});const i=100,n="inAppMessage must be an InAppMessage object",a="must be a Card object",r=500,o="logCustomEvent",l="setCustomUserAttribute",c="Braze must be initialized before calling methods.",u=30,h=30,d=72e5,p=15,b=1,g="data-update-subscription-id",f="Banners are disabled. Make sure you have at least one campaign and relaunch the app."},FyZC:(t,e,s)=>{s.d(e,{v:()=>B});var i=s("F7/r"),n=s("rvbG"),a=s("I0nJ"),r=s("LbZy"),o=s("u56O"),l=s("+/8Z"),c=s("QVqW"),u=s("zxwP"),h=s("L0Yc");function d(t,e){return null==t?"":(t=parseInt(t.toString()),isNaN(t)?"":(e&&!isNaN(parseFloat(e.toString()))||(e=1),"rgba("+[(16711680&(t>>>=0))>>>16,(65280&t)>>>8,255&t,((4278190080&t)>>>24)/255*e].join(",")+")"))}var p=s("ikR4"),b=s("iXlr"),g=s("fXrE"),f=s("xAw5"),m=s("b8BB"),A=s("DEgD"),v=s("xoq4");const y=(t,e,s,i)=>{const n=s.getAttribute("href"),a=s.onclick;return o=>{if(null!=a&&"function"==typeof a&&!1===a.bind(s)(o))return;let l=(0,A.y)(n).abButtonId;if(null!=l&&""!==l||(l=s.getAttribute("id")||void 0),null!=n&&""!==n&&0!==n.indexOf("#")){const a="blank"===(s.getAttribute("target")||"").toLowerCase().replace("_",""),c=i||t.openTarget===r.A.OpenTarget.BLANK||a,u=()=>{(0,f.h)(t,l,n),v.uD.openUri(n,c,o)};c?u():t.ll(e,u)}else(0,f.h)(t,l,n||void 0);return o.stopPropagation(),!1}};var w=s("1O+u"),x=s("SfNv"),E=s("KiAB");const C={Io:t=>{const e=t.querySelectorAll(".ab-close-button, .ab-message-text, .ab-message-button");let s;for(let t=0;t<e.length;t++)s=e[t],s.tabIndex=0;if(e.length>0){const s=e[0],i=e[e.length-1];t.addEventListener("keydown",(e=>{const n=document.activeElement;e.keyCode===E.c.Ao&&(e.shiftKey||n!==i&&n!==t?!e.shiftKey||n!==s&&n!==t||(e.preventDefault(),i.focus()):(e.preventDefault(),s.focus()))}))}},To:(t,e)=>{e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-label","Modal Message"),t&&e.setAttribute("aria-labelledby",t)},Lo:(t,e,s,i)=>{if(t.buttons&&t.buttons.length>0){const n=document.createElement("div");n.className="ab-message-buttons",s.appendChild(n);const a=s.getElementsByClassName("ab-message-text")[0];null!=a&&(a.className+=" ab-with-buttons");const o=n=>a=>(t.ll(s,(()=>{(0,x.K)(n,t),n.clickAction===r.A.ClickAction.URI?(0,b.U)(n.uri||"",i||t.openTarget===r.A.OpenTarget.BLANK,a):n.clickAction===r.A.ClickAction.NEWS_FEED&&e()})),a.stopPropagation(),!1);for(let e=0;e<t.buttons.length;e++){const s=t.buttons[e],i=document.createElement("button");i.className="ab-message-button",i.setAttribute("type","button"),(0,u.P4)(i,"touchstart");let a=s.text;""===s.text&&(a=" "),i.appendChild(document.createTextNode(a)),t.lo()||(i.style.backgroundColor=d(s.backgroundColor),i.style.color=d(s.textColor),i.style.borderColor=d(s.borderColor)),i.onclick=o(s),n.appendChild(i)}}}};var S=s("cqms"),k=s("HXl4");function N(t,e,s,i,n,A,v,x=document.body,E="ltr"){if(t.wo=document.activeElement,t instanceof a.A)return function(t,e,s,i,n,a){const o=document.createElement("iframe");if(o.setAttribute("title","Modal Message"),n&&(o.style.zIndex=(n+1).toString()),(0,w.Te)(o,t.message,a),o.onload=()=>{const n=o.contentWindow;n.focus();const l=n.document.getElementsByTagName("head")[0];if(null!=l){if(t.lo()){const e=document.createElement("style");e.innerHTML=t.css||"",e.id=t.do()||"",null!=a&&e.setAttribute("nonce",a),l.appendChild(e)}const e=n.document.createElement("base");null!=e&&(e.setAttribute("target","_parent"),l.appendChild(e))}const c=n.document.getElementsByTagName("title");c&&c.length>0&&o.setAttribute("title",c[0].textContent||"");const u=Object.assign(Object.assign({},(0,w.KV)(o,e,((e,s)=>t.ll(e,s)))),{closeMessage:function(){t.ll(o)},logClick:function(){(0,f.h)(t,...arguments)}});if(n.appboyBridge=u,n.brazeBridge=u,t.uo!==r.A.bo.po){const e=n.document.getElementsByTagName("a");for(let s=0;s<e.length;s++)e[s].onclick=y(t,o,e[s],i);const s=n.document.getElementsByTagName("button");for(let e=0;e<s.length;e++)s[e].onclick=y(t,o,s[e],i)}const h=n.document.body;if(null!=h){t.ho()&&(h.id=t.htmlId||"");const e=document.createElement("hidden");e.onclick=u.closeMessage,e.className="ab-programmatic-close-button",h.appendChild(e)}n.dispatchEvent(new CustomEvent("ab.BridgeReady")),-1!==o.className.indexOf("ab-start-hidden")&&(o.className=o.className.replace("ab-start-hidden",""),s(o))},o.className="ab-in-app-message ab-start-hidden ab-html-message ab-modal-interactions",g.A.OS===m.u.ao){const e=document.createElement("div");return e.className="ab-ios-scroll-wrapper",e.appendChild(o),t.jo=e,e}return t.jo=o,o}(t,e,s,n,A,v);const N=function(t,e,s,i,n,a,o=document.body,l="ltr"){let c=null;const g=document.createElement("div");g.dir=l,g.className="ab-in-app-message ab-start-hidden ab-background",a&&(g.style.zIndex=(a+1).toString()),t.vo()&&(g.className+=" ab-modal-interactions",g.setAttribute("tabindex","-1")),t.lo()||(g.style.color=d(t.textColor),g.style.backgroundColor=d(t.backgroundColor),function(t){return null!=t&&(t=parseInt(t.toString()),!isNaN(t)&&(4278190080&t)>>>24==0)}(t.backgroundColor)&&(g.className+=" ab-no-shadow"));const f=()=>{-1!==g.className.indexOf("ab-start-hidden")&&(g.className=g.className.replace("ab-start-hidden",""),document.querySelectorAll(".ab-iam-img-loading").length>0?i(`Cannot show in-app message ${t.message} because another message is being shown.`,r.A.Co.xo):s(g))},m=(e=!0)=>{let s=document.querySelectorAll(".ab-iam-root");s&&0!==s.length||(s=o.querySelectorAll(".ab-iam-root")),s&&s.length>0&&(s[0].classList.remove("ab-iam-img-loading"),c&&(clearTimeout(c),c=null),e?f():S.A.error(`Cannot show in-app message ${t.message} because the image failed to load.`))};t.imageStyle===r.A.ImageStyle.GRAPHIC&&(g.className+=" graphic"),t.orientation===r.A.Orientation.LANDSCAPE&&(g.className+=" landscape"),null!=t.buttons&&0===t.buttons.length&&(t.clickAction!==r.A.ClickAction.NONE&&(g.className+=" ab-clickable"),g.onclick=s=>(t.ll(g,(()=>{(0,p.q)(t),t.clickAction===r.A.ClickAction.URI?(0,b.U)(t.uri||"",n||t.openTarget===r.A.OpenTarget.BLANK,s):t.clickAction===r.A.ClickAction.NEWS_FEED&&e()})),s.stopPropagation(),!1));const A=(0,h.p)("Close Message",t.lo()?void 0:d(t.closeButtonColor),(()=>{t.ll(g)}),l);g.appendChild(A),a&&(A.style.zIndex=(a+2).toString());const v=document.createElement("div");v.className="ab-message-text",v.dir=l;const y=(t.messageAlignment||t.$o).toLowerCase();v.className+=" "+y+"-aligned";let w=!1;const x=document.createElement("div");if(x.className="ab-image-area",t.imageUrl){if(t.cropType===r.A.CropType.CENTER_CROP){const e=document.createElement("span");e.className="ab-center-cropped-img",e.style.backgroundImage="url("+t.imageUrl+")",e.setAttribute("role","img"),e.setAttribute("aria-label","Modal Image"),t.ko(e),x.appendChild(e)}else{const e=document.createElement("img");if(e.setAttribute("src",t.imageUrl),t.ko(e),0===document.querySelectorAll(".ab-iam-img-loading").length){w=!0;const t=document.querySelectorAll(".ab-iam-root");t&&t.length>0&&t[0].classList.add("ab-iam-img-loading"),c=window.setTimeout((()=>{m(!1)}),6e4),e.onload=()=>{m()},e.onerror=()=>{m(!1)}}x.appendChild(e)}g.appendChild(x),v.className+=" ab-with-image"}else if(t.icon){x.className+=" ab-icon-area";const e=document.createElement("span");e.className="ab-icon",t.lo()||(e.style.backgroundColor=d(t.iconBackgroundColor),e.style.color=d(t.iconColor));const s=document.createElement("i");s.className="fa",s.appendChild(document.createTextNode(t.icon)),s.setAttribute("aria-hidden","true"),e.appendChild(s),x.appendChild(e),g.appendChild(x),v.className+=" ab-with-icon"}if((0,u.P4)(v,"touchstart"),t.header&&t.header.length>0){const e=document.createElement("h1");e.className="ab-message-header",t.Mo=k.A.ce(),e.id=t.Mo;const s=(t.headerAlignment||r.A.TextAlignment.CENTER).toLowerCase();e.className+=" "+s+"-aligned",t.lo()||(e.style.color=d(t.headerTextColor)),e.appendChild(document.createTextNode(t.header)),v.appendChild(e)}return v.appendChild(t.zo()),g.appendChild(v),w||f(),t.jo=g,g}(t,e,s,i,n,A,x,E);if(t instanceof l.A||t instanceof c.A){const s=t instanceof l.A?"ab-fullscreen":"ab-modal";N.className+=` ${s} ab-centered`,C.Lo(t,e,N,n),C.Io(N),C.To(t.Mo,N)}else if(t instanceof o.A){N.className+=" ab-slideup";const e=N.getElementsByClassName("ab-close-button")[0];if(null!=e){const s=(0,u.RJ)("0 0 11.38 19.44","M11.38 9.72l-9.33 9.72L0 17.3l7.27-7.58L0 2.14 2.05 0l9.33 9.72z",t.lo()?void 0:d(t.closeButtonColor));s.setAttribute("class",`ab-chevron ${E}`),e.appendChild(s)}let s,i;(0,u.sr)(N,u.X.ie,(t=>{N.className+=" ab-swiped-left",null!=e&&null!=e.onclick&&e.onclick(t)})),(0,u.sr)(N,u.X.de,(t=>{N.className+=" ab-swiped-right",null!=e&&null!=e.onclick&&e.onclick(t)})),t.slideFrom===r.A.SlideFrom.TOP?(s=u.X.qo,i=" ab-swiped-up"):(s=u.X.yo,i=" ab-swiped-down"),(0,u.sr)(N,s,(t=>{N.className+=i,null!=e&&null!=e.onclick&&e.onclick(t)}))}return N}var T=s("5QSF"),_=s("IoO2"),O=s("FggB"),I=s("N2JA"),D=s("uogo");function B(t,e,u){if(!i.Ay.rr())return;if((0,_.B)(),null==t)return!1;if(t instanceof n.A)return S.A.info("User received control for a multivariate test, logging to Braze servers."),(0,T.z)(t),!0;if(!(t instanceof r.A))return!1;if(t.constructor===r.A)return!1;t.Lh();const h=t instanceof a.A;if(h&&!t.trusted&&!i.Ay.tr())return S.A.error('HTML in-app messages are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable these messages.'),!1;if(null==e&&(e=document.body),t.vo()&&e.querySelectorAll(".ab-modal-interactions").length>0)return S.A.info(`Cannot show in-app message ${t.message} because another message is being shown.`),!1;if(v.uD.Uo()){const e=v.uD.No();if(e===v.j3.PORTRAIT&&t.orientation===r.A.Orientation.LANDSCAPE||e===v.j3.LANDSCAPE&&t.orientation===r.A.Orientation.PORTRAIT){const s=e===v.j3.PORTRAIT?"portrait":"landscape",i=t.orientation===r.A.Orientation.PORTRAIT?"portrait":"landscape";return S.A.info(`Not showing ${i} in-app message ${t.message} because the screen is currently ${s}`),!1}}if(!i.Ay.tr()){let e=!1;if(t.buttons&&t.buttons.length>0){const s=t.buttons;for(let t=0;t<s.length;t++)if(s[t].clickAction===r.A.ClickAction.URI){const i=s[t].uri;e=(0,A.P)(i)}}else t.clickAction===r.A.ClickAction.URI&&(e=(0,A.P)(t.uri));if(e)return S.A.error('Javascript click actions are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable these actions.'),!1}const p=document.createElement("div");if(p.className="ab-iam-root v3",p.className+=function(t){let e="";return t.animateIn&&(e+=" ab-animate-in"),t.animateOut&&(e+=" ab-animate-out"),t instanceof l.A?e+=" ab-effect-fullscreen":t instanceof a.A?e+=" ab-effect-html":t instanceof c.A?e+=" ab-effect-modal":t instanceof o.A&&(e+=" ab-effect-slide"),e}(t),p.setAttribute("role","complementary"),t.ho()&&(p.id=t.htmlId),i.Ay.ee(i.lw.Go)&&(p.style.zIndex=(i.Ay.ee(i.lw.Go)+1).toString()),e.appendChild(p),t.lo()){const e=document.createElement("style");e.innerHTML=t.css,e.id=t.do(),null!=i.Ay.ee(i.lw.er)&&e.setAttribute("nonce",i.Ay.ee(i.lw.er)),document.getElementsByTagName("head")[0].appendChild(e)}const b=t instanceof o.A,g=N(t,(()=>{Promise.resolve().then(s.bind(s,"RBYJ")).then((t=>{i.Ay.nn()?t.showFeed():S.A.error(O.xE)}))}),(e=>{if(t.vo()&&t.Po()){const s=document.createElement("div");if(s.className="ab-page-blocker",t.lo()||(s.style.backgroundColor=d(t.frameColor)),i.Ay.ee(i.lw.Go)&&(s.style.zIndex=i.Ay.ee(i.lw.Go).toString()),p.appendChild(s),!i.Ay.ee(i.lw.mh)){const i=(new Date).valueOf();s.onclick=s=>{(new Date).valueOf()-i>r.A.ph&&(t.ll(e),s.stopPropagation())}}p.appendChild(e),e.focus(),t.Ah(p)}else if(b){const s=document.querySelectorAll(".ab-slideup");let i=null;for(let t=s.length-1;t>=0;t--)if(s[t]!==e){i=s[t];break}if(t.slideFrom===r.A.SlideFrom.TOP){let t=0;null!=i&&(t=i.offsetTop+i.offsetHeight),e.style.top=Math.max(t,0)+"px"}else{let t=0;null!=i&&(t=(window.innerHeight||document.documentElement.clientHeight)-i.offsetTop),e.style.bottom=Math.max(t,0)+"px"}}else if(h&&!i.Ay.ee(i.lw.mh)){const s=t;(0,I.B)(e)&&e.contentWindow&&e.contentWindow.addEventListener("keydown",(function(t){t.keyCode===E.c._h&&s.closeMessage()}))}(0,T.z)(t),t.dismissType===r.A.DismissType.AUTO_DISMISS&&setTimeout((()=>{p.contains(e)&&t.ll(e)}),t.duration),"function"==typeof u&&u()}),(t=>{S.A.info(t)}),i.Ay.ee(i.lw.Ko),i.Ay.ee(i.lw.Go),i.Ay.ee(i.lw.er),e,D.A.ea().Oo());return(h||b)&&(p.appendChild(g),t.Ah(p)),!0}},G8bm:(t,e,s)=>{function i(t){return null!=t&&!!t.getAttribute("data-ab-had-top-impression")}function n(t){null!=t&&t.setAttribute("data-ab-had-top-impression","true")}function a(t){return null!=t&&!!t.getAttribute("data-ab-had-bottom-impression")}function r(t){null!=t&&t.setAttribute("data-ab-had-bottom-impression","true")}s.d(e,{M4:()=>n,MX:()=>r,M_:()=>a,rA:()=>o,sf:()=>i});const o={oo:i,no:a}},HXl4:(t,e,s)=>{s.d(e,{A:()=>i});const i={ce:function(){const t=(t=!1)=>{const e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e};return t()+t(!0)+t(!0)+t()}}},HiHM:(t,e,s)=>{s.d(e,{x:()=>l});var i=s("muIz"),n=s("nO15"),a=s("FggB"),r=s("F7/r"),o=s("cqms");function l(t,e){return!!r.Ay.rr()&&(t instanceof i.A?n.A.ea().logClick(t,e).tt:(o.A.error("card "+a.s1),!1))}},Homo:(t,e,s)=>{s.d(e,{VV:()=>i});class i{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(t,e=!1){return this.onePassHasher.start().appendStr(t).end(e)}static hashAsciiStr(t,e=!1){return this.onePassHasher.start().appendAsciiStr(t).end(e)}static _hex(t){const e=i.hexChars,s=i.hexOut;let n,a,r,o;for(o=0;o<4;o+=1)for(a=8*o,n=t[o],r=0;r<8;r+=2)s[a+1+r]=e.charAt(15&n),n>>>=4,s[a+0+r]=e.charAt(15&n),n>>>=4;return s.join("")}static _md5cycle(t,e){let s=t[0],i=t[1],n=t[2],a=t[3];s+=(i&n|~i&a)+e[0]-680876936|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[1]-389564586|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[2]+606105819|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[3]-1044525330|0,i=(i<<22|i>>>10)+n|0,s+=(i&n|~i&a)+e[4]-176418897|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[5]+1200080426|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[6]-1473231341|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[7]-45705983|0,i=(i<<22|i>>>10)+n|0,s+=(i&n|~i&a)+e[8]+1770035416|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[9]-1958414417|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[10]-42063|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[11]-1990404162|0,i=(i<<22|i>>>10)+n|0,s+=(i&n|~i&a)+e[12]+1804603682|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[13]-40341101|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[14]-1502002290|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[15]+1236535329|0,i=(i<<22|i>>>10)+n|0,s+=(i&a|n&~a)+e[1]-165796510|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[6]-1069501632|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[11]+643717713|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[0]-373897302|0,i=(i<<20|i>>>12)+n|0,s+=(i&a|n&~a)+e[5]-701558691|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[10]+38016083|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[15]-660478335|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[4]-405537848|0,i=(i<<20|i>>>12)+n|0,s+=(i&a|n&~a)+e[9]+568446438|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[14]-1019803690|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[3]-187363961|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[8]+1163531501|0,i=(i<<20|i>>>12)+n|0,s+=(i&a|n&~a)+e[13]-1444681467|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[2]-51403784|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[7]+1735328473|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[12]-1926607734|0,i=(i<<20|i>>>12)+n|0,s+=(i^n^a)+e[5]-378558|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[8]-2022574463|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[11]+1839030562|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[14]-35309556|0,i=(i<<23|i>>>9)+n|0,s+=(i^n^a)+e[1]-1530992060|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[4]+1272893353|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[7]-155497632|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[10]-1094730640|0,i=(i<<23|i>>>9)+n|0,s+=(i^n^a)+e[13]+681279174|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[0]-358537222|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[3]-722521979|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[6]+76029189|0,i=(i<<23|i>>>9)+n|0,s+=(i^n^a)+e[9]-640364487|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[12]-421815835|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[15]+530742520|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[2]-995338651|0,i=(i<<23|i>>>9)+n|0,s+=(n^(i|~a))+e[0]-198630844|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[7]+1126891415|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[14]-1416354905|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[5]-57434055|0,i=(i<<21|i>>>11)+n|0,s+=(n^(i|~a))+e[12]+1700485571|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[3]-1894986606|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[10]-1051523|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[1]-2054922799|0,i=(i<<21|i>>>11)+n|0,s+=(n^(i|~a))+e[8]+1873313359|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[15]-30611744|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[6]-1560198380|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[13]+1309151649|0,i=(i<<21|i>>>11)+n|0,s+=(n^(i|~a))+e[4]-145523070|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[11]-1120210379|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[2]+718787259|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[9]-343485551|0,i=(i<<21|i>>>11)+n|0,t[0]=s+t[0]|0,t[1]=i+t[1]|0,t[2]=n+t[2]|0,t[3]=a+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(i.stateIdentity),this}appendStr(t){const e=this._buffer8,s=this._buffer32;let n,a,r=this._bufferLength;for(a=0;a<t.length;a+=1){if(n=t.charCodeAt(a),n<128)e[r++]=n;else if(n<2048)e[r++]=192+(n>>>6),e[r++]=63&n|128;else if(n<55296||n>56319)e[r++]=224+(n>>>12),e[r++]=n>>>6&63|128,e[r++]=63&n|128;else{if(n=1024*(n-55296)+(t.charCodeAt(++a)-56320)+65536,n>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[r++]=240+(n>>>18),e[r++]=n>>>12&63|128,e[r++]=n>>>6&63|128,e[r++]=63&n|128}r>=64&&(this._dataLength+=64,i._md5cycle(this._state,s),r-=64,s[0]=s[16])}return this._bufferLength=r,this}appendAsciiStr(t){const e=this._buffer8,s=this._buffer32;let n,a=this._bufferLength,r=0;for(;;){for(n=Math.min(t.length-r,64-a);n--;)e[a++]=t.charCodeAt(r++);if(a<64)break;this._dataLength+=64,i._md5cycle(this._state,s),a=0}return this._bufferLength=a,this}appendByteArray(t){const e=this._buffer8,s=this._buffer32;let n,a=this._bufferLength,r=0;for(;;){for(n=Math.min(t.length-r,64-a);n--;)e[a++]=t[r++];if(a<64)break;this._dataLength+=64,i._md5cycle(this._state,s),a=0}return this._bufferLength=a,this}getState(){const t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){const e=t.buffer,s=t.state,i=this._state;let n;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],n=0;n<e.length;n+=1)this._buffer8[n]=e.charCodeAt(n)}end(t=!1){const e=this._bufferLength,s=this._buffer8,n=this._buffer32,a=1+(e>>2);this._dataLength+=e;const r=8*this._dataLength;if(s[e]=128,s[e+1]=s[e+2]=s[e+3]=0,n.set(i.buffer32Identity.subarray(a),a),e>55&&(i._md5cycle(this._state,n),n.set(i.buffer32Identity)),r<=4294967295)n[14]=r;else{const t=r.toString(16).match(/(.*?)(.{0,8})$/);if(null===t)return;const e=parseInt(t[2],16),s=parseInt(t[1],16)||0;n[14]=e,n[15]=s}return i._md5cycle(this._state,n),t?this._state:i._hex(this._state)}}if(i.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),i.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i.hexChars="0123456789abcdef",i.hexOut=[],i.onePassHasher=new i,"5d41402abc4b2a76b9719d911017c592"!==i.hashStr("hello"))throw new Error("Md5 self test failed.")},I0nJ:(t,e,s)=>{s.d(e,{A:()=>n});var i=s("LbZy");class n extends i.A{constructor(t,e,s,n,a,r,o,l,c,u,h,d){super(t,void 0,void 0,e,s,void 0,void 0,void 0,n=n||i.A.DismissType.MANUAL,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r,o,void 0,void 0,void 0,l,void 0,void 0,void 0,c,u,d),this.messageFields=h,this.messageFields=h}Po(){return!1}$t(t){if(this.uo===i.A.bo.Ur){if(this.So)return!1;this.So=!0}return this.ti.X(t),!0}bt(){const t=super.bt(n.cs);return t[i.A.es.Eo]=this.messageFields,t}static Qr(t){return new n(t[i.A.es.ra],t[i.A.es.qs],t[i.A.es.ta],t[i.A.es.pa],t[i.A.es.ma],t[i.A.es.ja],t[i.A.es.xa],t[i.A.es.wa],t[i.A.es.ka],t[i.A.es.CSS],t[i.A.es.Eo],t[i.A.es.qa])}}n.cs=i.A.bo.Ur},"IID/":(t,e,s)=>{s.d(e,{A:()=>o});var i=s("15I7"),n=s("HiHM"),a=s("ByVl"),r=s("E8S9");class o extends i.A{constructor(t,e){super(t,e)}logCardImpressions(t){(0,a.j)(t,!1)}logCardClick(t){return(0,n.x)(t,!1)}sr(){(0,r.R)()}nr(){return!1}}},Ibo5:(t,e,s)=>{s.d(e,{A:()=>i});const i={BROWSER:"browser",BROWSER_VERSION:"browserVersion",OS:"os",RESOLUTION:"resolution",LANGUAGE:"language",TIME_ZONE:"timeZone",USER_AGENT:"userAgent"}},IfEg:(t,e,s)=>{s.d(e,{k:()=>a});var i=s("F7/r"),n=s("5fch");function a(t){if(i.Ay.rr())return n.A.m().qt(t)}},IoO2:(t,e,s)=>{s.d(e,{B:()=>a});var i=s("lm4s"),n=s("S4Qt");function a(){(0,i.n)(undefined,"iam",".ab-pause-scrolling,body.ab-pause-scrolling,html.ab-pause-scrolling{overflow:hidden;touch-action:none}.ab-iam-root.v3{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:9011;-webkit-tap-highlight-color:transparent}.ab-iam-root.v3:focus{outline:0}.ab-iam-root.v3.ab-effect-fullscreen,.ab-iam-root.v3.ab-effect-html,.ab-iam-root.v3.ab-effect-modal{opacity:0}.ab-iam-root.v3.ab-effect-fullscreen.ab-show,.ab-iam-root.v3.ab-effect-html.ab-show,.ab-iam-root.v3.ab-effect-modal.ab-show{opacity:1}.ab-iam-root.v3.ab-effect-fullscreen.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-html.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-modal.ab-show.ab-animate-in{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-iam-root.v3.ab-effect-fullscreen.ab-hide,.ab-iam-root.v3.ab-effect-html.ab-hide,.ab-iam-root.v3.ab-effect-modal.ab-hide{opacity:0}.ab-iam-root.v3.ab-effect-fullscreen.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-html.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-modal.ab-hide.ab-animate-out{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-iam-root.v3.ab-effect-slide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-iam-root.v3.ab-effect-slide.ab-show .ab-in-app-message{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-iam-root.v3.ab-effect-slide.ab-show.ab-animate-in .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-left{-webkit-transform:translateX(-535px);-moz-transform:translateX(-535px);-ms-transform:translateX(-535px);transform:translateX(-535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-up{-webkit-transform:translateY(-535px);-moz-transform:translateY(-535px);-ms-transform:translateY(-535px);transform:translateY(-535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-down{-webkit-transform:translateY(535px);-moz-transform:translateY(535px);-ms-transform:translateY(535px);transform:translateY(535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide.ab-animate-out .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-iam-root.v3 .ab-ios-scroll-wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;pointer-events:all;touch-action:auto;-webkit-overflow-scrolling:touch}.ab-iam-root.v3 .ab-in-app-message{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:fixed;text-align:center;-webkit-box-shadow:0 0 4px rgba(0,0,0,.3);-moz-box-shadow:0 0 4px rgba(0,0,0,.3);box-shadow:0 0 4px rgba(0,0,0,.3);line-height:normal;letter-spacing:normal;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;z-index:9011;max-width:100%;overflow:hidden;display:inline-block;pointer-events:all;color:#333;color-scheme:normal}.ab-iam-root.v3 .ab-in-app-message.ab-no-shadow{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.ab-iam-root.v3 .ab-in-app-message :focus,.ab-iam-root.v3 .ab-in-app-message:focus{outline:0}.ab-iam-root.v3 .ab-in-app-message.ab-clickable{cursor:pointer}.ab-iam-root.v3 .ab-in-app-message.ab-background{background-color:#fff}.ab-iam-root.v3 .ab-in-app-message .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;top:0;z-index:9021}.ab-iam-root.v3 .ab-in-app-message .ab-close-button[dir=rtl]{left:0}.ab-iam-root.v3 .ab-in-app-message .ab-close-button[dir=ltr]{right:0}.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b;height:auto;width:100%}.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg.ab-chevron{display:none}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:active{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:focus{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover svg{fill-opacity:.8}.ab-iam-root.v3 .ab-in-app-message .ab-message-text{float:none;line-height:1.5;margin:20px 25px;max-width:100%;overflow:hidden;overflow-y:auto;vertical-align:text-bottom;word-wrap:break-word;white-space:pre-wrap;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif}.ab-iam-root.v3 .ab-in-app-message .ab-message-text.start-aligned{text-align:start}.ab-iam-root.v3 .ab-in-app-message .ab-message-text.end-aligned{text-align:end}.ab-iam-root.v3 .ab-in-app-message .ab-message-text.center-aligned{text-align:center}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar{-webkit-appearance:none;width:14px}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-thumb{-webkit-appearance:none;border:4px solid transparent;background-clip:padding-box;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;background-color:rgba(0,0,0,.2)}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-button{width:0;height:0;display:none}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-corner{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-message-header{float:none;letter-spacing:0;margin:0;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;display:block;font-size:20px;margin-bottom:10px;line-height:1.3}.ab-iam-root.v3 .ab-in-app-message .ab-message-header.start-aligned{text-align:start}.ab-iam-root.v3 .ab-in-app-message .ab-message-header.end-aligned{text-align:end}.ab-iam-root.v3 .ab-in-app-message .ab-message-header.center-aligned{text-align:center}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;cursor:pointer;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:14px;font-weight:700;margin:20px;margin-top:calc(constant(safe-area-inset-top,0) + 20px);margin-right:calc(constant(safe-area-inset-right,0) + 20px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 20px);margin-left:calc(constant(safe-area-inset-left,0) + 20px);margin-top:calc(env(safe-area-inset-top,0) + 20px);margin-right:calc(env(safe-area-inset-right,0) + 20px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 20px);margin-left:calc(env(safe-area-inset-left,0) + 20px);max-height:150px;padding:10px;right:0;background-color:#efefef}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button svg:not(.ab-chevron){display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button svg.ab-chevron.rtl{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-message-text{border-right-width:40px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text{max-width:100%;border-right-width:10px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text span{max-height:66px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area{width:50px;height:50px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area img{max-width:100%;max-height:100%;width:auto;height:auto}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-message-text{opacity:.8}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-close-button svg.ab-chevron{fill-opacity:.8}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 25px 5px 10px;max-width:430px;vertical-align:middle;margin:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text[dir=rtl]{border-width:5px 10px 5px 25px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{display:block;max-height:150px;overflow:auto}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:365px;border-top:0;border-bottom:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;top:0;z-index:9021}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button[dir=rtl]{left:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button[dir=ltr]{right:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b;height:auto;width:100%}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg.ab-chevron{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:active{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:focus{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover svg{fill-opacity:.8}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{float:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;vertical-align:top;width:60px;margin:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area.ab-icon-area{width:auto}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{float:none;width:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal{font-size:14px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{float:none;position:relative;display:block;overflow:hidden}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area .ab-center-cropped-img,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area .ab-center-cropped-img{background-size:cover;background-repeat:no-repeat;background-position:50% 50%;position:absolute;top:0;right:0;bottom:0;left:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-icon{margin-top:20px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{padding:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-text{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-buttons{bottom:0;left:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{float:none;height:auto;margin:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{display:block;top:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none}.ab-iam-root.v3 .ab-in-app-message.ab-modal{padding-top:20px;width:450px;max-width:450px;max-height:720px}.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone{max-width:91%;max-width:calc(100% - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone.graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text{max-height:660px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-image{max-height:524.82758621px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon{max-height:610px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons{margin-bottom:93px;max-height:587px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image{max-height:451.82758621px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon{max-height:537px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{margin-top:-20px;max-height:155.17241379px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area img{max-width:100%;max-height:155.17241379px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area.ab-icon-area{height:auto}.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{width:auto;overflow:hidden}.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{width:auto;max-height:720px;max-width:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen{width:450px;max-height:720px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape{width:720px;max-height:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-image-area{height:225px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape.graphic .ab-image-area{height:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-message-text{max-height:112px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text{max-height:247px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text.ab-with-buttons{margin-bottom:93px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area{height:360px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area{height:720px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-html-message{background-color:transparent;border:none;height:100%;overflow:auto;position:relative;touch-action:auto;width:100%}.ab-iam-root.v3 .ab-in-app-message .ab-message-buttons{position:absolute;bottom:0;width:100%;padding:17px 25px 30px 25px;z-index:inherit;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ab-iam-root.v3 .ab-in-app-message .ab-message-button{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;cursor:pointer;display:inline-block;font-size:14px;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;height:44px;line-height:normal;letter-spacing:normal;margin:0;max-width:100%;min-width:80px;padding:0 12px;position:relative;text-transform:none;width:48%;width:calc(50% - 5px);border:1px solid #1b78cf;-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;word-wrap:normal;white-space:nowrap}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type{float:left;background-color:#fff;color:#1b78cf}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:last-of-type{float:right;background-color:#1b78cf;color:#fff}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type:last-of-type{float:none;width:auto}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:hover{opacity:.8}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:active:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.08)}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:focus:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.15)}.ab-iam-root.v3 .ab-in-app-message .ab-message-button a{color:inherit;text-decoration:inherit}.ab-iam-root.v3 .ab-in-app-message img{float:none;display:inline-block}.ab-iam-root.v3 .ab-in-app-message .ab-icon{float:none;display:inline-block;padding:10px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-iam-root.v3 .ab-in-app-message .ab-icon .fa{float:none;font-size:30px;width:30px}.ab-iam-root.v3 .ab-start-hidden{visibility:hidden}.ab-iam-root.v3 .ab-centered{margin:auto;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ab-iam-root.v3{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ab-iam-root.v3 .ab-page-blocker{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9001;pointer-events:all;background-color:rgba(51,51,51,.75)}@media (max-width:600px){.ab-iam-root.v3 .ab-in-app-message.ab-slideup{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg:not(.ab-chevron){display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button svg.ab-chevron.rtl{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-message-text{border-right-width:40px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{max-width:100%;border-right-width:10px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{max-height:66px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{width:50px;height:50px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{max-width:100%;max-height:100%;width:auto;height:auto}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-close-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic),.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic) .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic{display:block}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-message-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:480px){.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop){max-width:91%;max-width:calc(100% - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}}@media (max-height:750px){.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop){max-height:91%;max-height:calc(100% - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img{max-height:91vh;max-height:calc(100vh - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text{max-height:65vh;max-height:calc(100vh - 30px - 60px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-image{max-height:45vh;max-height:calc(100vh - 30px - 155.17241379310346px - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-icon{max-height:45vh;max-height:calc(100vh - 30px - 70px - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons{max-height:50vh;max-height:calc(100vh - 30px - 93px - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-image{max-height:30vh;max-height:calc(100vh - 30px - 155.17241379310346px - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-icon{max-height:30vh;max-height:calc(100vh - 30px - 70px - 93px - 20px)}}@media (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area img{max-height:100%;max-width:100%}}@media (max-height:750px) and (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important;width:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-height:480px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:750px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}"),(0,n.N)()}},"J++8":(t,e,s)=>{s.d(e,{A:()=>r});var i=s("FggB"),n=s("jGgm");const a={O:{Nu:"data",wi:"content_cards/sync",Le:"feature_flags/sync",Er:"template",K:"banners/sync"},Vu:t=>null==t?void 0:t.ft(n.d.gt.lE),sm:t=>null==t?void 0:t.ft(n.d.gt.SE),nm:(t,e)=>{null==t||t.Bt(n.d.gt.lE,e)},rm:(t,e)=>{null==t||t.Bt(n.d.gt.SE,e)},zu:(t,e)=>{if(!t||!e)return-1;const s=a.Vu(t);if(null==s)return-1;const i=s[e];return null==i||isNaN(i)?-1:i},ju:(t,e)=>{let s=i.et;if(!t||!e)return s;const n=a.sm(t);return null==n?s:(s=n[e],null==s||isNaN(s)?i.et:s)},W:(t,e,s)=>{if(!t||!e)return;let i=a.Vu(t);null==i&&(i={}),i[e]=s,a.nm(t,i)},Mu:(t,e,s)=>{if(!t||!e)return;let i=a.sm(t);null==i&&(i={}),i[e]=s,a.rm(t,i)},vi:(t,e)=>{t&&e&&a.Mu(t,e,i.et)},Uu:(t,e)=>{if(!t||!e)return;const s=a.ju(t,e);a.Mu(t,e,s+1)}},r=a},"J/SO":(t,e,s)=>{s.d(e,{A:()=>n});var i=s("7esM");class n{constructor(t,e,s,i,n){this.endpoint=t,this.En=e,this.publicKey=s,this.Vl=i,this.fl=n,this.endpoint=t||null,this.En=e||null,this.publicKey=s||null,this.Vl=i||null,this.fl=n||null}bt(){return{e:this.endpoint,c:this.En,p:this.publicKey,u:this.Vl,v:this.fl}}static Rn(t){return new n(t.e,(0,i.jU)(t.c),t.p,t.u,t.v)}}},Jdpe:(t,e,s)=>{s.d(e,{A:()=>i});class i{constructor(t=!1,e=[]){this.tt=t,this.$e=e,this.tt=t,this.$e=e}ns(t){this.tt=this.tt&&t.tt,this.$e.push(...t.$e)}}},KiAB:(t,e,s)=>{s.d(e,{c:()=>i});const i={Wo:32,Ao:9,Xo:13,_h:27}},KuXe:(t,e,s)=>{s.d(e,{A:()=>o});var i=s("F7/r"),n=s("4j5/"),a=s("azH7"),r=s("7esM");class o{constructor(t,e,s,i,n){this.userId=t,this.type=e,this.time=s,this.sessionId=i,this.data=n,this.userId=t,this.type=e,this.time=(0,r.S3)(s),this.sessionId=i,this.data=n}Nr(){var t;const e={name:this.type,time:(0,r.UK)(this.time),data:this.data||{},session_id:this.sessionId};null!=this.userId&&(e.user_id=this.userId);const s=(null===(t=i.Ay.Sr())||void 0===t?void 0:t.jh())||!1;if(!e.user_id&&!s){const t=(0,n.b)(i.Ay.j());t&&(e.alias=t)}return e}bt(){return{u:this.userId,t:this.type,ts:this.time,s:this.sessionId,d:this.data}}static fromJson(t){return new o(t.user_id,t.name,t.time,t.session_id,t.data)}static RE(t){return null!=t&&(0,a.Gv)(t)&&null!=t.t&&""!==t.t}static Rn(t){return new o(t.u,t.t,t.ts,t.s,t.d)}}},L0Yc:(t,e,s)=>{s.d(e,{p:()=>a});var i=s("zxwP"),n=s("KiAB");function a(t,e,s,a="ltr"){const r=document.createElement("button");r.setAttribute("aria-label",t),r.setAttribute("tabindex","0"),r.setAttribute("role","button"),r.dir=a,(0,i.P4)(r,"touchstart"),r.className="ab-close-button";const o=(0,i.RJ)("0 0 15 15","M15 1.5L13.5 0l-6 6-6-6L0 1.5l6 6-6 6L1.5 15l6-6 6 6 1.5-1.5-6-6 6-6z",e);return r.appendChild(o),r.addEventListener("keydown",(t=>{t.keyCode!==n.c.Wo&&t.keyCode!==n.c.Xo||(s(),t.stopPropagation())})),r.onclick=t=>{s(),t.stopPropagation()},r}},L0v4:(t,e,s)=>{s.d(e,{C:()=>i});const i=(t,e)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t)},LbZy:(t,e,s)=>{s.d(e,{A:()=>c});var i=s("F7/r"),n=s("fXrE"),a=s("zxwP"),r=s("KiAB"),o=s("TdiU"),l=s("N2JA");class c{constructor(t,e,s,i,n,a,r,l,u,h,d,p,b,g,f,m,A,v,y,w,x,E,C,S,k,N,T,_,O,I){this.message=t,this.messageAlignment=e,this.slideFrom=s,this.extras=i,this.triggerId=n,this.clickAction=a,this.uri=r,this.openTarget=l,this.dismissType=u,this.duration=h,this.icon=d,this.imageUrl=p,this.imageStyle=b,this.iconColor=g,this.iconBackgroundColor=f,this.backgroundColor=m,this.textColor=A,this.closeButtonColor=v,this.animateIn=y,this.animateOut=w,this.header=x,this.headerAlignment=E,this.headerTextColor=C,this.frameColor=S,this.buttons=k,this.cropType=N,this.orientation=T,this.htmlId=_,this.css=O,this.messageExtras=I,this.message=t,this.messageAlignment=e||c.TextAlignment.CENTER,this.duration=h||5e3,this.slideFrom=s||c.SlideFrom.BOTTOM,this.extras=i||{},this.triggerId=n,this.clickAction=a||c.ClickAction.NONE,this.uri=r,this.openTarget=l||c.OpenTarget.NONE,this.dismissType=u||c.DismissType.AUTO_DISMISS,this.icon=d,this.imageUrl=p,this.imageStyle=b||c.ImageStyle.TOP,this.iconColor=g||c.th.ih,this.iconBackgroundColor=f||c.th.sh,this.backgroundColor=m||c.th.ih,this.textColor=A||c.th.hh,this.closeButtonColor=v||c.th.eh,this.animateIn=y,null==this.animateIn&&(this.animateIn=!0),this.animateOut=w,null==this.animateOut&&(this.animateOut=!0),this.header=x,this.headerAlignment=E||c.TextAlignment.CENTER,this.headerTextColor=C||c.th.hh,this.frameColor=S||c.th.Eh,this.buttons=k||[],this.cropType=N||c.CropType.FIT_CENTER,this.orientation=T,this.htmlId=_,this.css=O,this.isControl=!1,this.messageExtras=I,this.nh=!1,this.Ht=!1,this.So=!1,this.Th=!1,this.jo=null,this.wo=null,this.ti=new o.A,this.oh=new o.A,this.$o=c.TextAlignment.CENTER}subscribeToClickedEvent(t){return this.ti.Dt(t)}subscribeToDismissedEvent(t){return this.oh.Dt(t)}removeSubscription(t){this.ti.removeSubscription(t),this.oh.removeSubscription(t)}removeAllSubscriptions(){this.ti.removeAllSubscriptions(),this.oh.removeAllSubscriptions()}closeMessage(){this.ll(this.jo)}vo(){return!0}Po(){return this.vo()}ho(){return null!=this.htmlId&&this.htmlId.length>4}lo(){return this.ho()&&null!=this.css&&this.css.length>0}do(){if(this.ho()&&this.lo())return this.htmlId+"-css"}_t(){return!this.Ht&&(this.Ht=!0,!0)}Bo(){return this.Ht}$t(t){return!this.So&&(this.So=!0,this.ti.X(),!0)}Qt(){return!this.Th&&(this.Th=!0,this.oh.X(),!0)}hide(t){if(t&&t.parentNode){let e=t.closest(".ab-iam-root");if(null==e&&(e=t),this.vo()&&null!=e.parentNode){const t=e.parentNode.classList;t&&t.contains(c.rh)&&t.remove(c.rh),document.body.removeEventListener("touchmove",c.lh)}e.className=e.className.replace(c.uh,c.ah)}return this.animateOut||!1}ll(t,e){if(null==t)return;let s;this.jo=null,s=-1===t.className.indexOf("ab-in-app-message")?t.getElementsByClassName("ab-in-app-message")[0]:t;let i=!1;s&&(i=this.hide(s));const a=document.body;let r;null!=a&&(r=a.scrollTop);const o=()=>{if(t&&t.parentNode){let e=t.closest(".ab-iam-root");null==e&&(e=t),e.parentNode&&e.parentNode.removeChild(e)}const s=this.do();if(null!=s){const t=document.getElementById(s);t&&t.parentNode&&t.parentNode.removeChild(t)}null!=a&&"Safari"===n.A.browser&&(a.scrollTop=r),e?e():this.Qt()};i?setTimeout(o,c.Ih):o(),this.wo&&this.wo.focus()}zo(){return document.createTextNode(this.message||"")}ko(t){let e="";this.message||this.header||!this.vo()||(e="Modal Image"),t.setAttribute("alt",e)}static lh(t){if(t.targetTouches&&t.targetTouches.length>1)return;const e=t.target;e&&e.classList&&e.classList.contains("ab-message-text")&&e.scrollHeight>e.clientHeight||document.querySelector(`.${c.rh}`)&&t.cancelable&&t.preventDefault()}Ah(t){const e=t.parentNode;this.vo()&&null!=e&&this.orientation!==c.Orientation.LANDSCAPE&&(null!=e.classList&&e.classList.add(c.rh),document.body.addEventListener("touchmove",c.lh,!!(0,a.CF)()&&{passive:!1})),t.className+=" "+c.uh}static Oh(t){if(t.keyCode===r.c._h&&!i.Ay.ee(i.lw.mh)&&document.querySelectorAll(".ab-modal-interactions").length>0){const t=document.getElementsByClassName("ab-html-message");let e=!1;for(const s of t){let t=null;(0,l.B)(s)&&s.contentWindow&&(t=s.contentWindow.document.getElementsByClassName("ab-programmatic-close-button")[0]),null!=t&&((0,a.jp)(t),e=!0)}if(!e){const t=document.querySelectorAll(".ab-modal-interactions > .ab-close-button")[0];null!=t&&(0,a.jp)(t)}}}Lh(){this.nh||i.Ay.ee(i.lw.mh)||(document.addEventListener("keydown",c.Oh,!1),i.Ay.Nh((()=>{document.removeEventListener("keydown",c.Oh)})),this.nh=!0)}bt(t){const e={};return t?(e[c.es.ra]=this.message,e[c.es.sa]=this.messageAlignment,e[c.es.Sh]=this.slideFrom,e[c.es.qs]=this.extras,e[c.es.ta]=this.triggerId,e[c.es.ia]=this.clickAction,e[c.es.URI]=this.uri,e[c.es.oa]=this.openTarget,e[c.es.pa]=this.dismissType,e[c.es.ma]=this.duration,e[c.es.na]=this.icon,e[c.es.ls]=this.imageUrl,e[c.es.ua]=this.imageStyle,e[c.es.ca]=this.iconColor,e[c.es.fa]=this.iconBackgroundColor,e[c.es.da]=this.backgroundColor,e[c.es.la]=this.textColor,e[c.es.ga]=this.closeButtonColor,e[c.es.ja]=this.animateIn,e[c.es.xa]=this.animateOut,e[c.es.za]=this.header,e[c.es.ha]=this.headerAlignment,e[c.es.va]=this.headerTextColor,e[c.es.wa]=this.frameColor,e[c.es.ya]=this.buttons,e[c.es.Sa]=this.cropType,e[c.es.ba]=this.orientation,e[c.es.ka]=this.htmlId,e[c.es.CSS]=this.css,e[c.es.hs]=t,e[c.es.qa]=this.messageExtras,e):e}}c.th={hh:4281545523,ih:4294967295,sh:4278219733,Rh:4293914607,Mh:4283782485,Eh:3224580915,eh:4288387995},c.Co={Dh:"hd",xo:"ias",Ch:"of",dh:"do",Uh:"umt",bh:"tf",Ph:"te"},c.SlideFrom={TOP:"TOP",BOTTOM:"BOTTOM"},c.ClickAction={NEWS_FEED:"NEWS_FEED",URI:"URI",NONE:"NONE"},c.DismissType={AUTO_DISMISS:"AUTO_DISMISS",MANUAL:"SWIPE"},c.OpenTarget={NONE:"NONE",BLANK:"BLANK"},c.ImageStyle={TOP:"TOP",GRAPHIC:"GRAPHIC"},c.Orientation={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE"},c.TextAlignment={START:"START",CENTER:"CENTER",END:"END"},c.CropType={CENTER_CROP:"CENTER_CROP",FIT_CENTER:"FIT_CENTER"},c.bo={Wr:"SLIDEUP",Vr:"MODAL",Fo:"MODAL_STYLED",Lr:"FULL",Ur:"WEB_HTML",po:"HTML",Jo:"HTML_FULL"},c.Ih=500,c.ph=200,c.uh="ab-show",c.ah="ab-hide",c.rh="ab-pause-scrolling",c.es={ra:"m",sa:"ma",Sh:"sf",qs:"e",ta:"ti",ia:"ca",URI:"u",oa:"oa",pa:"dt",ma:"d",na:"i",ls:"iu",ua:"is",ca:"ic",fa:"ibc",da:"bc",la:"tc",ga:"cbc",ja:"ai",xa:"ao",za:"h",ha:"ha",va:"htc",wa:"fc",ya:"b",Sa:"ct",ba:"o",ka:"hi",CSS:"css",hs:"type",Eo:"messageFields",qa:"me"}},LltV:(t,e,s)=>{s.d(e,{u:()=>i});const i=t=>t instanceof Error?t.message:String(t)},"N+FJ":(t,e,s)=>{s.d(e,{A:()=>n});var i=s("muIz");class n extends i.A{constructor(t,e,s,i,n,a,r,o,l,c,u,h,d,p,b,g){super(t,e,s,i,n,a,r,o,l,c,u,h,d,p,b,g),this.oe="ab-captioned-image",this.ae=!0,this.test=!1}bt(){const t={};return t[i.A.es.hs]=i.A.cs.os,t[i.A.es.ds]=this.id,t[i.A.es.ps]=this.viewed,t[i.A.es.us]=this.title,t[i.A.es.ls]=this.imageUrl,t[i.A.es.fs]=this.description,t[i.A.es.xs]=this.updated,t[i.A.es.bs]=this.created,t[i.A.es.gs]=this.categories,t[i.A.es.js]=this.expiresAt,t[i.A.es.URL]=this.url,t[i.A.es.zs]=this.linkText,t[i.A.es.ks]=this.aspectRatio,t[i.A.es.qs]=this.extras,t[i.A.es.vs]=this.pinned,t[i.A.es.ws]=this.dismissible,t[i.A.es.ys]=this.clicked,t[i.A.es.As]=this.test,t}}},N2JA:(t,e,s)=>{s.d(e,{B:()=>i});const i=t=>null!==t&&"IFRAME"===t.tagName},Os1q:(t,e,s)=>{s.d(e,{A:()=>n});var i=s("muIz");class n extends i.A{constructor(t,e,s,i,n,a,r,o,l,c,u,h,d,p,b,g){super(t,e,s,i,n,a,r,o,l,c,u,h,d,p,b,g),this.oe="ab-classic-card",this.ae=!0}bt(){const t={};return t[i.A.es.hs]=i.A.cs.Ii,t[i.A.es.ds]=this.id,t[i.A.es.ps]=this.viewed,t[i.A.es.us]=this.title,t[i.A.es.ls]=this.imageUrl,t[i.A.es.fs]=this.description,t[i.A.es.xs]=this.updated,t[i.A.es.bs]=this.created,t[i.A.es.gs]=this.categories,t[i.A.es.js]=this.expiresAt,t[i.A.es.URL]=this.url,t[i.A.es.zs]=this.linkText,t[i.A.es.ks]=this.aspectRatio,t[i.A.es.qs]=this.extras,t[i.A.es.vs]=this.pinned,t[i.A.es.ws]=this.dismissible,t[i.A.es.ys]=this.clicked,t[i.A.es.As]=this.test,t}}},PDhD:(t,e,s)=>{s.r(e),s.d(e,{changeUser:()=>l});var i=s("F7/r"),n=s("+aDo"),a=s("cqms"),r=s("TaGn"),o=s("TnFm");function l(t,e){if(!i.Ay.rr())return;if(null==t||0===t.length||t!=t)return void a.A.error("changeUser requires a non-empty userId.");if((0,n.N)(t)>r.A.ur)return void a.A.error(`Rejected user id "${t}" because it is longer than ${r.A.ur} bytes.`);if(null!=e&&!(0,o.rK)(e,"set signature for new user","signature"))return;const s=i.Ay.rn();s&&s.changeUser(t.toString(),i.Ay.ar(),e)}},QKCW:(t,e,s)=>{s.d(e,{Fu:()=>h,R:()=>d,_l:()=>p});var i=s("muIz"),n=s("o8vE"),a=s("N+FJ"),r=s("Os1q"),o=s("vfwm"),l=s("7esM"),c=s("cqms");function u(t,e,s,l,u,h,d,p,b,g,f,m,A,v,y,w,x,E){let C;if(e===i.A.cs.Ti||e===i.A.cs.Ii)C=new r.A(t,s,l,u,h,d,p,b,g,f,m,A,v,y,w,x);else if(e===i.A.cs.os)C=new a.A(t,s,l,u,h,d,p,b,g,f,m,A,v,y,w,x);else if(e===i.A.cs.ai)C=new n.A(t,s,u,d,p,b,g,f,m,A,v,y,w,x);else{if(e!==i.A.cs.ci)return c.A.error("Ignoring card with unknown type "+e),null;C=new o.A(t,s,p,g,v,y)}return E&&(C.test=E),C}function h(t){if(t[i.A.ui.Ei])return null;const e=t[i.A.ui.ds],s=t[i.A.ui.hs],n=t[i.A.ui.ps],a=t[i.A.ui.us],r=t[i.A.ui.ls],o=t[i.A.ui.fs],c=(0,l.Zo)(t[i.A.ui.xs]),h=c;let d;return d=t[i.A.ui.js]===i.A.oi?null:(0,l.Zo)(t[i.A.ui.js]),u(e,s,n,a,r,o,h,c,null,d,t[i.A.ui.URL],t[i.A.ui.zs],t[i.A.ui.ks],t[i.A.ui.qs],t[i.A.ui.vs],t[i.A.ui.ws],t[i.A.ui.ys],t[i.A.ui.As]||!1)}function d(t){return u(t.id,t.type,t.viewed,t.title,t.image,t.description,(0,l.Zo)(t.created),(0,l.Zo)(t.updated),t.categories,(0,l.Zo)(t.expires_at),t.url,t.domain,t.aspect_ratio,t.extras,!1,!1)}function p(t){return u(t[i.A.es.ds],t[i.A.es.hs],t[i.A.es.ps],t[i.A.es.us],t[i.A.es.ls],t[i.A.es.fs],(0,l.jU)(t[i.A.es.bs]),(0,l.jU)(t[i.A.es.xs]),t[i.A.es.gs],(0,l.jU)(t[i.A.es.js]),t[i.A.es.URL],t[i.A.es.zs],t[i.A.es.ks],t[i.A.es.qs],t[i.A.es.vs],t[i.A.es.ws],t[i.A.es.ys],t[i.A.es.As]||!1)||void 0}},QOIJ:(t,e,s)=>{s.d(e,{A:()=>i});const i={Du:"invalid_api_key",Tu:"blacklisted",ku:"no_device_identifier",Au:"invalid_json_response",bu:"empty_response",__:"sdk_auth_error"}},QVqW:(t,e,s)=>{s.d(e,{A:()=>a});var i=s("Rl7B"),n=s("LbZy");class a extends n.A{constructor(t,e,s,i,a,r,o,l,c,u,h,d,p,b,g,f,m,A,v,y,w,x,E,C,S,k,N,T){super(t,e,void 0,s,i,a,r,o,l=l||n.A.DismissType.MANUAL,c,u,h,d,p,b,g,f,m,A,v,y,w,x,E,C,S=S||n.A.CropType.FIT_CENTER,void 0,k,N,T),this.$o=n.A.TextAlignment.CENTER}bt(){return super.bt(a.cs)}static Qr(t){return new a(t[n.A.es.ra],t[n.A.es.sa],t[n.A.es.qs],t[n.A.es.ta],t[n.A.es.ia],t[n.A.es.URI],t[n.A.es.oa],t[n.A.es.pa],t[n.A.es.ma],t[n.A.es.na],t[n.A.es.ls],t[n.A.es.ua],t[n.A.es.ca],t[n.A.es.fa],t[n.A.es.da],t[n.A.es.la],t[n.A.es.ga],t[n.A.es.ja],t[n.A.es.xa],t[n.A.es.za],t[n.A.es.ha],t[n.A.es.va],t[n.A.es.wa],(0,i.x)(t[n.A.es.ya]),t[n.A.es.Sa],t[n.A.es.ka],t[n.A.es.CSS],t[n.A.es.qa])}}a.cs=n.A.bo.Vr},RBYJ:(t,e,s)=>{s.r(e),s.d(e,{showFeed:()=>p});var i=s("F7/r"),n=s("x6Ot"),a=s("IID/"),r=s("VB97"),o=s("IfEg"),l=s("5fch"),c=s("azH7"),u=s("zW8y"),h=s("CaYi"),d=s("cqms");function p(t,e,s){if(!i.Ay.rr())return;(0,h.s)();const p=(t,e)=>{if(null==e)return t;const s=[];for(let t=0;t<e.length;t++)s.push(e[t].toLowerCase());const i=[];for(let e=0;e<t.length;e++){const n=[],a=t[e].categories||[];for(let t=0;t<a.length;t++)n.push(a[t].toLowerCase());(0,c.E$)(n,s).length>0&&i.push(t[e])}return i},b=i.Ay.ee(i.lw.tn)||i.Ay.ee(i.lw.en)||!1;let g=!1;null==t&&(t=document.body,g=!0);let f,m=!1;null==e?(f=l.A.m().ki(),(0,n.Z7)(f,p(f.cards,s),f.lastUpdated,null,b),m=!0):f=new a.A(p(e,s),new Date);const A=(0,n.Nc)(f,b,g);if(m){(null==f.lastUpdated||(new Date).valueOf()-f.lastUpdated.valueOf()>a.A.dr)&&(d.A.info(`Cached feed was older than max TTL of ${a.A.dr} ms, requesting an update from the server.`),(0,n.Y9)(f,A));const t=(new Date).valueOf(),e=(0,o.k)((function(e){const i=A.querySelectorAll(".ab-refresh-button")[0];if(null!=i){let e=500;e-=(new Date).valueOf()-t;const s=A.getAttribute(n.Ql);if(s){const t=parseInt(s);isNaN(t)||(e-=(new Date).valueOf()-t)}setTimeout((function(){i.className=i.className.replace(/fa-spin/g,"")}),Math.max(e,0))}(0,n.Z7)(f,p(e.cards,s),e.lastUpdated,A,b)}));(0,n.kz)(e,A)}const v=t=>{const e=t.querySelectorAll(".ab-feed");let s=null;for(let i=0;i<e.length;i++)e[i].parentNode===t&&(s=e[i]);null!=s?((0,n.ID)(s),s.parentNode&&s.parentNode.replaceChild(A,s)):t.appendChild(A),setTimeout((function(){A.className=A.className.replace("ab-hide","ab-show")}),0),g&&A.focus(),(0,r.o)(),(0,n.UH)(f,A),f&&(0,u.cM)(f.cards,t)};var y;null!=t?v(t):window.onload=(y=window.onload,function(){"function"==typeof y&&y(new Event("oldLoad")),v(document.body)})}},Rl7B:(t,e,s)=>{s.d(e,{g:()=>h,x:()=>d});var i=s("LbZy"),n=s("rvbG"),a=s("+/8Z"),r=s("I0nJ"),o=s("yBih"),l=s("QVqW"),c=s("u56O"),u=s("cqms");function h(t){if(!t)return null;if(t.is_control)return n.A.fromJson(t);let e=t.type;null!=e&&(e=e.toUpperCase());const s=t.message,h=t.text_align_message,d=t.slide_from,p=t.extras,b=t.trigger_id,g=t.click_action,f=t.uri,m=t.open_target,A=t.message_close,v=t.duration,y=t.icon,w=t.image_url,x=t.image_style,E=t.icon_color,C=t.icon_bg_color,S=t.bg_color,k=t.text_color,N=t.close_btn_color,T=t.header,_=t.text_align_header,O=t.header_text_color,I=t.frame_color,D=[];let B=t.btns;null==B&&(B=[]);for(let t=0;t<B.length;t++)D.push(o.A.fromJson(B[t]));const z=t.crop_type,P=t.orientation,F=t.animate_in,M=t.animate_out;let U=t.html_id,L=t.css;null!=U&&""!==U&&null!=L&&""!==L||(U=void 0,L=void 0);const R=t.message_extras;let $;if(e===l.A.cs||e===i.A.bo.Fo)$=new l.A(s,h,p,b,g,f,m,A,v,y,w,x,E,C,S,k,N,F,M,T,_,O,I,D,z,U,L,R);else if(e===a.A.cs)$=new a.A(s,h,p,b,g,f,m,A,v,y,w,x,E,C,S,k,N,F,M,T,_,O,I,D,z,P,U,L,R);else if(e===c.A.cs)$=new c.A(s,h,d,p,b,g,f,m,A,v,y,w,E,C,S,k,N,F,M,U,L,R);else{if(e!==r.A.cs&&e!==i.A.bo.po&&e!==i.A.bo.Jo)return void u.A.error("Ignoring message with unknown type "+e);{const e=t.message_fields;$=new r.A(s,p,b,A,v,F,M,I,U,L,e,R),$.trusted=t.trusted||!1}}return $.uo=e,$}function d(t){const e=[];for(const s of t)e.push(new o.A(s.text,s.backgroundColor,s.textColor,s.borderColor,s.clickAction,s.uri,s.id));return e}},S4Qt:(t,e,s)=>{s.d(e,{N:()=>n});var i=s("F7/r");function n(){if(i.Ay.ee(i.lw.Ia))return;const t="https://use.fontawesome.com/7f85a56ba4.css";if(null===document.querySelector('link[rel=stylesheet][href="'+t+'"]')){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)}}},SfNv:(t,e,s)=>{s.d(e,{K:()=>h});var i=s("F7/r"),n=s("FggB"),a=s("LbZy"),r=s("yBih"),o=s("D1mP"),l=s("cqms"),c=s("87bj"),u=s("rv22");function h(t,e){var s;if(!i.Ay.rr())return!1;if(!(t instanceof r.A))return l.A.error("button must be an InAppMessageButton object"),!1;if(!(e instanceof a.A))return l.A.error(n.fX),!1;const h=o.A.ea().Wi(t,e);if(h.tt)for(let i=0;i<h.$e.length;i++)u.B.m().Ce(c.A.Zr,[e.triggerId,null===(s=t.id)||void 0===s?void 0:s.toString()],h.$e[i]);return h.tt}},TaGn:(t,e,s)=>{s.d(e,{A:()=>c});var i=s("azH7"),n=s("cqms"),a=s("wzJC"),r=s("TnFm"),o=s("FggB"),l=s("7esM");class c{constructor(t,e){this.Cs=t,this.Fi=e,this.Cs=t,this.Fi=e}getUserId(t){const e=this.Cs.getUserId();if("function"!=typeof t)return e;n.A.warn("The callback for getUserId is deprecated. You can access its return value directly instead (e.g. `const id = braze.getUser().getUserId()`)"),t(e)}addAlias(t,e){return!(0,r.rK)(t,"add alias","the alias",!1)||t.length<=0?(n.A.error("addAlias requires a non-empty alias"),!1):!(0,r.rK)(e,"add alias","the label",!1)||e.length<=0?(n.A.error("addAlias requires a non-empty label"),!1):this.Fi.Cn(t,e).tt}setFirstName(t){return!!(0,r.rK)(t,"set first name","the firstName",!0)&&this.Cs.nu("first_name",t)}setLastName(t){return!!(0,r.rK)(t,"set last name","the lastName",!0)&&this.Cs.nu("last_name",t)}setEmail(t){return null===t||(0,r.B9)(t)?this.Cs.nu("email",t):(n.A.error(`Cannot set email address - "${t}" did not pass RFC-5322 validation.`),!1)}setGender(t){return"string"==typeof t&&(t=t.toLowerCase()),!(null!==t&&!(0,i.BY)(c.Genders,t,`Gender "${t}" is not a valid gender.`,"User.Genders"))&&this.Cs.nu("gender",t)}setDateOfBirth(t,e,s){return null===t&&null===e&&null===s?this.Cs.nu("dob",null):(t=null!=t?parseInt(t.toString()):null,e=null!=e?parseInt(e.toString()):null,s=null!=s?parseInt(s.toString()):null,null==t||null==e||null==s||isNaN(t)||isNaN(e)||isNaN(s)||e>12||e<1||s>31||s<1?(n.A.error("Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);"),!1):this.Cs.nu("dob",`${t}-${e}-${s}`))}setCountry(t){return!!(0,r.rK)(t,"set country","the country",!0)&&this.Cs.nu("country",t)}setHomeCity(t){return!!(0,r.rK)(t,"set home city","the homeCity",!0)&&this.Cs.nu("home_city",t)}setLanguage(t){return!!(0,r.rK)(t,"set language","the language",!0)&&this.Cs.nu("language",t)}setEmailNotificationSubscriptionType(t){return!!(0,i.BY)(c.NotificationSubscriptionTypes,t,`Email notification setting "${t}" is not a valid subscription type.`,"User.NotificationSubscriptionTypes")&&this.Cs.nu("email_subscribe",t)}setPushNotificationSubscriptionType(t){return!!(0,i.BY)(c.NotificationSubscriptionTypes,t,`Push notification setting "${t}" is not a valid subscription type.`,"User.NotificationSubscriptionTypes")&&this.Cs.nu("push_subscribe",t)}setPhoneNumber(t){return!!(0,r.rK)(t,"set phone number","the phoneNumber",!0)&&(null===t||t.match(c.Fn)?this.Cs.nu("phone",t):(n.A.error(`Cannot set phone number - "${t}" did not pass validation.`),!1))}setLastKnownLocation(t,e,s,i,a){return null==t||null==e?(n.A.error("Cannot set last-known location - latitude and longitude are required."),!1):(t=parseFloat(t.toString()),e=parseFloat(e.toString()),null!=s&&(s=parseFloat(s.toString())),null!=i&&(i=parseFloat(i.toString())),null!=a&&(a=parseFloat(a.toString())),isNaN(t)||isNaN(e)||null!=s&&isNaN(s)||null!=i&&isNaN(i)||null!=a&&isNaN(a)?(n.A.error("Cannot set last-known location - all supplied parameters must be numeric."),!1):t>90||t<-90||e>180||e<-180?(n.A.error("Cannot set last-known location - latitude and longitude are bounded by ±90 and ±180 respectively."),!1):null!=s&&s<0||null!=a&&a<0?(n.A.error("Cannot set last-known location - accuracy and altitudeAccuracy may not be negative."),!1):this.Fi.setLastKnownLocation(this.Cs.getUserId(),t,e,i,s,a).tt)}setCustomUserAttribute(t,e,s){if(!(0,r.ZJ)(t))return!1;const n=e=>{const[s]=(0,r.fB)(e,o.KG,"attribute value",`set custom user attribute "${t}"`,"custom user attribute");return s};if((0,i.cy)(e)){const[s,i]=(0,r.Z2)(t,e);if(!s&&!i&&0!==e.length)return!1;if(s||0===e.length)return this.Fi.Ln(a.w.$n,t,e).tt;for(const t of e)if(!n(t))return!1}else if((0,i.Gv)(e)){if(!n(e))return!1;if(s)return this.Fi.Ln(a.w.Bn,t,e).tt}else{if(void 0===e||!(0,r.uZ)(e))return!1;if((0,i.$P)(e)&&(e=(0,l.EQ)(e)),"string"==typeof e&&!(0,r.Dz)(e,`set custom user attribute "${t}"`,"the element in the given array"))return!1}return this.Cs.setCustomUserAttribute(t,e)}addToCustomAttributeArray(t,e){return!!(0,r.Dz)(t,"add to custom user attribute array","the given key")&&!(null!=e&&!(0,r.Dz)(e,"add to custom user attribute array","the given value"))&&this.Fi.Ln(a.w.On,t,e).tt}removeFromCustomAttributeArray(t,e){return!!(0,r.Dz)(t,"remove from custom user attribute array","the given key")&&!(null!=e&&!(0,r.Dz)(e,"remove from custom user attribute array","the given value"))&&this.Fi.Ln(a.w.Gn,t,e).tt}incrementCustomUserAttribute(t,e){if(!(0,r.Dz)(t,"increment custom user attribute","the given key"))return!1;null==e&&(e=1);const s=parseInt(e.toString());return isNaN(s)||s!==parseFloat(e.toString())?(n.A.error(`Cannot increment custom user attribute because the given incrementValue "${e}" is not an integer.`),!1):this.Fi.Ln(a.w.Hn,t,s).tt}setCustomLocationAttribute(t,e,s){return!!(0,r.Dz)(t,"set custom location attribute","the given key")&&((null!==e||null!==s)&&(e=null!=e?parseFloat(e.toString()):null,s=null!=s?parseFloat(s.toString()):null,null==e&&null!=s||null!=e&&null==s||null!=e&&(isNaN(e)||e>90||e<-90)||null!=s&&(isNaN(s)||s>180||s<-180))?(n.A.error("Received invalid values for latitude and/or longitude. Latitude and longitude are bounded by ±90 and ±180 respectively, or must both be null for removal."),!1):this.Fi.Kn(t,e,s).tt)}addToSubscriptionGroup(t){return!(0,r.rK)(t,"add user to subscription group","subscription group ID",!1)||t.length<=0?(n.A.error("addToSubscriptionGroup requires a non-empty subscription group ID"),!1):this.Fi.Mn(t,c.Yn.SUBSCRIBED).tt}removeFromSubscriptionGroup(t){return!(0,r.rK)(t,"remove user from subscription group","subscription group ID",!1)||t.length<=0?(n.A.error("removeFromSubscriptionGroup requires a non-empty subscription group ID"),!1):this.Fi.Mn(t,c.Yn.UNSUBSCRIBED).tt}setLineId(t){return(0,r.rK)(t,"set LINE user ID","the ID",!0)&&0!==(null==t?void 0:t.length)?t&&t.length>c.Jn?(n.A.error(`Rejected LINE user ID ${t} because it is longer than ${c.Jn} characters.`),!1):this.Cs.nu("native_line_id",t):(n.A.error("setLineId requires a non-empty ID"),!1)}An(t,e,s,i,n){this.Cs.An(t,e,s,i,n),this.Fi.Qn()}xn(t){this.Cs.xn(t)}}c.Genders={MALE:"m",FEMALE:"f",OTHER:"o",UNKNOWN:"u",NOT_APPLICABLE:"n",PREFER_NOT_TO_SAY:"p"},c.NotificationSubscriptionTypes={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},c.Fn=/^[0-9 .\\(\\)\\+\\-]+$/,c.Yn={SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},c.Xn="user_id",c.lu="custom",c.ur=997,c.Jn=33},TdiU:(t,e,s)=>{s.d(e,{A:()=>n});var i=s("HXl4");class n{constructor(){this.Mi={}}Dt(t){if("function"!=typeof t)return null;const e=i.A.ce();return this.Mi[e]=t,e}removeSubscription(t){delete this.Mi[t]}removeAllSubscriptions(){this.Mi={}}hc(){return Object.keys(this.Mi).length}X(t){const e=[];for(const s in this.Mi){const i=this.Mi[s];e.push(i(t))}return e}}},TnFm:(t,e,s)=>{s.d(e,{B9:()=>E,Dz:()=>g,L4:()=>k,To:()=>S,Z2:()=>x,ZJ:()=>f,fB:()=>w,nx:()=>p,rK:()=>y,uZ:()=>m,xs:()=>C});var i=s("azH7"),n=s("+aDo"),a=s("cqms"),r=s("7esM"),o=s("l6Yh"),l=s("FggB");const c=/^[^\x00-\x1F\x22]+$/,u=/[$.]/,h=["$add","$update","$remove","$identifier_key","$identifier_value","$new_object","$time","$google_ad_personalization","$google_ad_user_data"],d=new RegExp(/^.+@.+\..+$/),p=/^brazeActions:\/\/v\d+\//,b=/^[^\s]+$/;function g(t,e,s){const i=null!=t&&"string"==typeof t&&(""===t||null!=t.match(c));return i||a.A.error(`Cannot ${e} because ${s} "${t}" is invalid.`),i}function f(t){return null!=t&&t.match(u)&&-1===h.indexOf(t)&&a.A.warn("Custom attribute keys cannot contain '$' or '.'"),g(t,"set custom user attribute","the given key")}function m(t){const e=typeof t;return null==t||"number"===e||"boolean"===e||(0,i.$P)(t)||"string"===e}function A(t,e,s){const n=-1!==s;if(n&&s>50)return a.A.error("Nested attributes cannot be more than 50 levels deep."),!1;const o=n?s+1:-1;if((0,i.cy)(t)&&(0,i.cy)(e)){for(let s=0;s<t.length&&s<e.length;s++)if((0,i.$P)(t[s])&&(e[s]=(0,r.EQ)(t[s])),!A(t[s],e[s],o))return!1}else{if(!(0,i.Gv)(t))return m(t);for(const s of(0,i.HP)(t)){const a=t[s];if(n&&!f(s))return!1;if((0,i.$P)(a)&&(e[s]=(0,r.EQ)(a)),!A(a,e[s],o))return!1}}return!0}function v(t,e,s,n,r){let o;return o=(0,i.Gv)(t)||(0,i.cy)(t)?A(t,e,r?1:-1):m(t),o||a.A.error(`Cannot ${s} because ${n} "${t}" is invalid.`),o}function y(t,e,s,i=!1){const n="string"==typeof t||null===t&&i;return n||a.A.error(`Cannot ${e} because ${s} "${t}" is invalid.`),n}function w(t,e,s,o,c){if(null==t&&(t={}),"object"!=typeof t||(0,i.cy)(t))return a.A.error(`${e} requires that ${s} be an object. Ignoring ${c}.`),[!1,null];let u,h;e===l.KG?(u=76800,h="75KB"):(u=51200,h="50KB");const d=JSON.stringify(t);if((0,n.N)(d)>u)return a.A.error(`Could not ${o} because ${s} was greater than the max size of ${h}.`),[!1,null];let p;try{p=JSON.parse(d)}catch(t){return a.A.error(`Could not ${o} because ${s} did not contain valid JSON.`),[!1,null]}for(const s in t){if(e===l.KG&&!f(s))return[!1,null];if(!g(s,o,`the ${c} property name`))return[!1,null];const n=t[s];if(e===l.KG||null!=n){if((0,i.$P)(n)&&(p[s]=(0,r.EQ)(n)),!v(n,p[s],o,`the ${c} property "${s}"`,e===l.KG))return[!1,null]}else delete t[s],delete p[s]}return[!0,p]}function x(t,e){let s=!1,n=!1;const r=()=>{a.A.error("Custom attribute arrays must be either string arrays or object arrays.")};for(const a of e)if("string"==typeof a){if(n)return r(),[!1,!1];if(!g(a,`set custom user attribute "${t}"`,"the element in the given array"))return[!1,!1];s=!0}else{if(!(0,i.Gv)(a))return r(),[!1,!1];if(s)return r(),[!1,!1];if(!w(a,l.KG,"attribute value",`set custom user attribute "${t}"`,"custom user attribute"))return[!1,!1];n=!0}return[s,n]}function E(t){return"string"==typeof t&&null!=t.toLowerCase().match(d)}function C(t){if(!(o.V.properties.type in t))return!1;switch(t[o.V.properties.type]){case o.V.types.io:if(o.V.properties.eo in t)return!0;break;case o.V.types.logCustomEvent:case o.V.types.setEmailNotificationSubscriptionType:case o.V.types.setPushNotificationSubscriptionType:case o.V.types.setCustomUserAttribute:case o.V.types.addToSubscriptionGroup:case o.V.types.removeFromSubscriptionGroup:case o.V.types.addToCustomAttributeArray:case o.V.types.removeFromCustomAttributeArray:case o.V.types.co:case o.V.types.mo:if(o.V.properties.so in t)return!0;break;case o.V.types.requestPushPermission:return!0;default:return!1}return!1}function S(t){let e=!1;return Object.keys(o.V.types).forEach((s=>{o.V.types[s]!==t.toString()||(e=!0)})),e}function k(t){return b.test(t)}},VB97:(t,e,s)=>{s.d(e,{o:()=>a});var i=s("F7/r"),n=s("wzJC");function a(){var t;if(i.Ay.rr())return null===(t=i.Ay.g())||void 0===t?void 0:t.zr(n.j.Fr).tt}},Vqo0:(t,e,s)=>{s.d(e,{A:()=>m});var i=s("7esM"),n=s("cqms");class a{constructor(t){this.xc=t,this.xc=t}zc(t){return null==this.xc||this.xc===t[0]}static fromJson(t){return new a(t?t.event_name:null)}bt(){return this.xc}}var r=s("azH7");class o{constructor(t,e,s,n){this.yE=t,this.HE=e,this.comparator=s,this.LE=n,this.yE=t,this.HE=e,this.comparator=s,this.LE=n,this.HE===o.QE.UE&&this.comparator!==o.wE.XE&&this.comparator!==o.wE.BE&&this.comparator!==o.wE.jE&&this.comparator!==o.wE.zE&&(this.LE=(0,i.Zo)(this.LE))}zc(t){let e=null;switch(null!=t&&(e=t[this.yE]),this.comparator){case o.wE.FE:return null!=e&&e.valueOf()===this.LE.valueOf();case o.wE.kE:return null==e||e.valueOf()!==this.LE.valueOf();case o.wE.xE:return null!=e&&typeof e==typeof this.LE&&e>this.LE;case o.wE.XE:return this.HE===o.QE.UE?null!=e&&(0,r.$P)(e)&&(0,i.Jd)(e)<=this.LE.valueOf():null!=e&&typeof e==typeof this.LE&&e>=this.LE;case o.wE.JE:return null!=e&&typeof e==typeof this.LE&&e<this.LE;case o.wE.BE:return this.HE===o.QE.UE?null!=e&&(0,r.$P)(e)&&(0,i.Jd)(e)>=this.LE.valueOf():null!=e&&typeof e==typeof this.LE&&e<=this.LE;case o.wE.VE:return null!=e&&"string"==typeof e&&typeof e==typeof this.LE&&null!=e.match(this.LE);case o.wE.qE:return null!=e;case o.wE.PE:return null==e;case o.wE.jE:return null!=e&&(0,r.$P)(e)&&(0,i.DA)(e)<this.LE;case o.wE.zE:return null!=e&&(0,r.$P)(e)&&(0,i.DA)(e)>this.LE;case o.wE.WE:return null==e||typeof e!=typeof this.LE||"string"!=typeof e||null==e.match(this.LE)}return!1}static fromJson(t){return new o(t.property_key,t.property_type,t.comparator,t.property_value)}bt(){let t=this.LE;return(0,r.$P)(this.LE)&&(t=(0,i.UK)(t.valueOf())),{k:this.yE,t:this.HE,c:this.comparator,v:t}}static Rn(t){return new o(t.k,t.t,t.c,t.v)}}o.QE={ZE:"boolean",$E:"number",tT:"string",UE:"date"},o.wE={FE:1,kE:2,xE:3,XE:4,JE:5,BE:6,VE:10,qE:11,PE:12,jE:15,zE:16,WE:17};class l{constructor(t){this.filters=t,this.filters=t}zc(t){let e=!0;for(let s=0;s<this.filters.length;s++){const i=this.filters[s];let n=!1;for(let e=0;e<i.length;e++)if(i[e].zc(t)){n=!0;break}if(!n){e=!1;break}}return e}static fromJson(t){if(null==t||!(0,r.cy)(t))return null;const e=[];for(let s=0;s<t.length;s++){const i=[],n=t[s];for(let t=0;t<n.length;t++)i.push(o.fromJson(n[t]));e.push(i)}return new l(e)}bt(){const t=[];for(let e=0;e<this.filters.length;e++){const s=this.filters[e],i=[];for(let t=0;t<s.length;t++)i.push(s[t].bt());t.push(i)}return t}static Rn(t){const e=[];for(let s=0;s<t.length;s++){const i=[],n=t[s];for(let t=0;t<n.length;t++)i.push(o.Rn(n[t]));e.push(i)}return new l(e)}}class c{constructor(t,e){this.xc=t,this.tf=e,this.xc=t,this.tf=e}zc(t){if(null==this.xc||null==this.tf)return!1;const e=t[0],s=t[1];return e===this.xc&&this.tf.zc(s)}static fromJson(t){return new c(t?t.event_name:null,t?l.fromJson(t.property_filters):null)}bt(){return{e:this.xc,pf:this.tf?this.tf.bt():null}}}class u{constructor(t,e){this.if=t,this.rf=e,this.if=t,this.rf=e}zc(t){if(null==this.if)return!1;const e=f.sf(t[0],this.if);if(!e)return!1;let s=null==this.rf||0===this.rf.length;if(null!=this.rf)for(let e=0;e<this.rf.length;e++)if(this.rf[e]===t[1]){s=!0;break}return e&&s}static fromJson(t){return new u(t?t.id:null,t?t.buttons:null)}bt(){return this.if}}class h{constructor(t){this.productId=t,this.productId=t}zc(t){return null==this.productId||t[0]===this.productId}static fromJson(t){return new h(t?t.product_id:null)}bt(){return this.productId}}class d{constructor(t,e){this.productId=t,this.tf=e,this.productId=t,this.tf=e}zc(t){if(null==this.productId||null==this.tf)return!1;const e=t[0],s=t[1];return e===this.productId&&this.tf.zc(s)}static fromJson(t){return new d(t?t.product_id:null,t?l.fromJson(t.property_filters):null)}bt(){return{id:this.productId,pf:this.tf?this.tf.bt():null}}}class p{constructor(t){this.if=t,this.if=t}zc(t){return null==this.if||f.sf(t[0],this.if)}static fromJson(t){return new p(t?t.campaign_id:null)}bt(){return this.if}}var b=s("87bj"),g=s("LltV");class f{constructor(t,e){this.type=t,this.data=e,this.type=t,this.data=e}_c(t,e){return f.Ec[this.type]===t&&(null==this.data||this.data.zc(e))}static sf(t,e){let s=null;try{s=window.atob(t)}catch(e){return n.A.info("Failed to unencode analytics id "+t+": "+(0,g.u)(e)),!1}return e===s.split("_")[0]}static fromJson(t){const e=t.type;let s=null;switch(e){case f.Or.OPEN:case f.Or.As:break;case f.Or.Rr:s=h.fromJson(t.data);break;case f.Or.Cc:s=d.fromJson(t.data);break;case f.Or.hr:s=p.fromJson(t.data);break;case f.Or.Ee:s=a.fromJson(t.data);break;case f.Or.Pc:s=c.fromJson(t.data);break;case f.Or.Zr:s=u.fromJson(t.data)}return new f(e,s)}bt(){return{t:this.type,d:this.data?this.data.bt():null}}static Rn(t){let e,s=null;switch(t.t){case f.Or.OPEN:case f.Or.As:break;case f.Or.Rr:s=new h(t.d);break;case f.Or.Cc:e=t.d||{},s=new d(e.id,l.Rn(e.pf||[]));break;case f.Or.hr:s=new p(t.d);break;case f.Or.Ee:s=new a(t.d);break;case f.Or.Pc:e=t.d||{},s=new c(e.e,l.Rn(e.pf||[]));break;case f.Or.Zr:s=new u(t.d)}return new f(t.t,s)}}f.Or={OPEN:"open",Rr:"purchase",Cc:"purchase_property",hr:"push_click",Ee:"custom_event",Pc:"custom_event_property",Zr:"iam_click",As:"test"},f.Ec={},f.Ec[f.Or.OPEN]=b.A.OPEN,f.Ec[f.Or.Rr]=b.A.Rr,f.Ec[f.Or.Cc]=b.A.Rr,f.Ec[f.Or.hr]=b.A.hr,f.Ec[f.Or.Ee]=b.A.Ee,f.Ec[f.Or.Pc]=b.A.Ee,f.Ec[f.Or.Zr]=b.A.Zr,f.Ec[f.Or.As]=b.A.As;class m{constructor(t,e=[],s,i,n=0,a,r,o=0,l=m.td,c,u,h){this.id=t,this.sd=e,this.startTime=s,this.endTime=i,this.priority=n,this.type=a,this.data=r,this.ed=o,this.rd=l,this.Jr=c,this.hd=u,this.od=h,this.id=t,this.sd=e||[],void 0===s&&(s=null),this.startTime=s,void 0===i&&(i=null),this.endTime=i,this.priority=n||0,this.type=a,this.ed=o||0,null==c&&(c=1e3*(this.ed+30)),this.Jr=c,this.data=r,null!=l&&(this.rd=l),this.hd=u,this.od=h||null}nd(t){return null==this.od||this.rd!==m.td&&t-this.od>=1e3*this.rd}ad(t){this.od=t}ud(t){const e=t+1e3*this.ed;return Math.max(e-(new Date).valueOf(),0)}dd(t){const e=(new Date).valueOf()-t,s=null==t||isNaN(e)||null==this.Jr||e<this.Jr;return s||n.A.info(`Trigger action ${this.type} is no longer eligible for display - fired ${e}ms ago and has a timeout of ${this.Jr}ms.`),!s}static fromJson(t){const e=t.id,s=[];for(let e=0;e<t.trigger_condition.length;e++)s.push(f.fromJson(t.trigger_condition[e]));const n=(0,i.Zo)(t.start_time),a=(0,i.Zo)(t.end_time),o=t.priority,l=t.type,c=t.delay,u=t.re_eligibility,h=t.timeout,d=t.data,p=t.min_seconds_since_last_trigger;return(0,r.BY)(m.Or,l,"Could not construct Trigger from server data","Trigger.Types")?new m(e,s,n,a,o,l,d,c,u,h,p):null}bt(){const t=[];for(let e=0;e<this.sd.length;e++)t.push(this.sd[e].bt());return{i:this.id,c:t,s:this.startTime,e:this.endTime,p:this.priority,t:this.type,da:this.data,d:this.ed,r:this.rd,tm:this.Jr,ss:this.hd,ld:this.od}}static Rn(t){const e=[],s=t.c||[];for(let t=0;t<s.length;t++)e.push(f.Rn(s[t]));return new m(t.i,e,(0,i.jU)(t.s),(0,i.jU)(t.e),t.p,t.t,t.da,t.d,t.r,t.tm,t.ss,t.ld)}}m.Or={Cr:"inapp",md:"templated_iam"},m.td=-1},Z43y:(t,e,s)=>{s.d(e,{A:()=>o});var i=s("cqms"),n=s("F7/r"),a=s("KuXe"),r=s("Jdpe");const o={ut:(t,e,s)=>{var o,l;const c=new r.A,u=n.Ay.P();if(!u)return i.A.info(`Not logging event with type "${t}" because the current session ID could not be found.`),c;const h=u.Qo();return c.$e.push(new a.A(s||(null===(o=n.Ay.ir())||void 0===o?void 0:o.getUserId()),t,(new Date).valueOf(),h,e)),c.tt=(null===(l=n.Ay.j())||void 0===l?void 0:l.Vo(c.$e))||!1,c}}},azH7:(t,e,s)=>{s.d(e,{$P:()=>o,BY:()=>a,E$:()=>c,Gv:()=>l,HP:()=>u,cy:()=>r,n4:()=>h,zu:()=>n});var i=s("cqms");function n(t){const e=[];let s;for(const i in t)s=i,Object.prototype.hasOwnProperty.call(t,s)&&void 0!==t[s]&&e.push(t[s]);return e}function a(t,e,s,a){const r=n(t);return-1!==r.indexOf(e)||(i.A.error(`${s} Valid values from ${a} are "${r.join('"/"')}".`),!1)}function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"[object Date]"===Object.prototype.toString.call(t)}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t,...e){null==t&&(t=[]);const s=[],i=arguments.length;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(-1!==s.indexOf(n))continue;let a=1;for(a=1;a<i&&-1!==arguments[a].indexOf(n);a++);a===i&&s.push(n)}return s}function u(t){const e=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.push(s);return e}function h(t,e){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;const s=t.toString();if(s!==e.toString())return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}const i="[object Array]"===s;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;const s=t.constructor,i=e.constructor;if(s!==i&&!("function"==typeof s&&s instanceof s&&"function"==typeof i&&i instanceof i)&&"constructor"in t&&"constructor"in e)return!1}const n=[],a=[];let r=n.length;for(;r--;)if(n[r]===t)return a[r]===e;if(n.push(t),a.push(e),i){if(r=t.length,r!==e.length)return!1;for(;r--;)if(!h(t[r],e[r]))return!1}else{const s=u(t);let i;if(r=s.length,u(e).length!==r)return!1;for(;r--;)if(i=s[r],!Object.prototype.hasOwnProperty.call(e,i)||!h(t[i],e[i]))return!1}return n.pop(),a.pop(),!0}},b8BB:(t,e,s)=>{s.d(e,{c:()=>i,u:()=>n});const i={rO:"Chrome",eO:"Edge",oO:"Opera",Bg:"Safari",OO:"Firefox"},n={xg:"Android",ao:"iOS",Pg:"Mac",Og:"Windows"}},bDF2:(t,e,s)=>{s.d(e,{bg:()=>a,R2:()=>o,Fj:()=>r});var i=s("+9dH");let n=function(t){return t.CLICK="click",t.PAGE="updatepage",t}({});function a(){var t,e,s;return(t=window).dataLayer||(t.dataLayer=[]),null!=(e=null==(s=window.dataLayer.findLast((t=>t.pagename)))?void 0:s.pagename)?e:null}function r(t){var e;Object.keys(t).length&&((e=window).dataLayer||(e.dataLayer=[]),window.dataLayer.push(t))}function o(t){if(void 0===(e=t).eventcategory||void 0===e.eventaction)throw new Error("The following fields are missing or undefined: eventcategory, eventaction");var e;r((0,i.A)({event:n.CLICK},t))}},cqms:(t,e,s)=>{s.d(e,{A:()=>n});const i={init:function(t){void 0===t&&void 0!==i.zg||(i.zg=!!t),i.l||(i.l=!0)},destroy:function(){i.l=!1,i.zg=void 0,i.vd=void 0},setLogger:function(t){"function"==typeof t?(i.init(),i.vd=t):i.info("Ignoring setLogger call since logger is not a function")},toggleLogging:function(){i.init(),i.zg?(console.log("Disabling Braze logging"),i.zg=!1):(console.log("Enabled Braze logging"),i.zg=!0)},info:function(t){if(i.zg){const e="Braze: "+t;null!=i.vd?i.vd(e):console.log(e)}},warn:function(t){if(i.zg){const e="Braze SDK Warning: "+t+" (v5.9.1)";null!=i.vd?i.vd(e):console.warn(e)}},error:function(t){if(i.zg){const e="Braze SDK Error: "+t+" (v5.9.1)";null!=i.vd?i.vd(e):console.error(e)}}},n=i},dQ1G:(t,e,s)=>{s.d(e,{A:()=>o});var i=s("cqms"),n=s("HXl4"),a=s("azH7"),r=s("LltV");class o{constructor(t,e,s){this.eu=t,null==t&&(t=n.A.ce()),!s||isNaN(s)?this.Gl=(new Date).valueOf():this.Gl=s,this.eu=t,this.ql=(new Date).valueOf(),this.kl=e}bt(){return`g:${encodeURIComponent(this.eu)}|e:${this.kl}|c:${this.Gl}|l:${this.ql}`}static hE(t){if("string"!=typeof t)return null;const e=t.lastIndexOf("|e:"),s=t.substring(0,e),i=s.split("g:")[1];let n;return n=/[|:]/.test(i)?encodeURIComponent(i):i,t.replace(s,`g:${n}`)}static Rn(t){let e;if("string"==typeof t)try{const s=t.split("|");if(!(0,a.cy)(s)||4!==s.length)return null;const i=t=>t.split(":")[1],n=t=>{const e=parseInt(i(t));if(!isNaN(e))return e};e=new o(decodeURIComponent(i(s[0])),n(s[1]),n(s[2])),e.ql=n(s[3])}catch(e){i.A.info(`Unable to parse cookie string ${t}, failed with error: ${(0,r.u)(e)}`)}else{if(null==t||null==t.g)return null;e=new o(t.g,t.e,t.c),e.ql=t.l}return e}}},eis7:(t,e,s)=>{s.d(e,{A:()=>n});const i={mn:()=>"serviceWorker"in navigator&&"undefined"!=typeof ServiceWorkerRegistration&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window,vn:()=>"safari"in window&&"pushNotification"in window.safari&&"function"==typeof window.safari.pushNotification.permission&&"function"==typeof window.safari.pushNotification.requestPermission,isPushSupported:()=>i.mn()||i.vn(),isPushBlocked:()=>{const t=i.isPushSupported()&&"Notification"in window&&null!=window.Notification&&null!=window.Notification.permission&&"denied"===window.Notification.permission,e=i.isPushSupported()&&(!("Notification"in window)||null==window.Notification);return t||e},isPushPermissionGranted:()=>i.isPushSupported()&&"Notification"in window&&null!=window.Notification&&null!=window.Notification.permission&&"granted"===window.Notification.permission,Tr:()=>!i.isPushBlocked()&&i.isPushSupported()&&!i.isPushPermissionGranted()},n=i},fXrE:(t,e,s)=>{s.d(e,{A:()=>c});var i=s("azH7");class n{constructor(){}ef(){}ff(){}ec(t){}static nf(t,e){if(t&&e)if(t=t.toLowerCase(),(0,i.cy)(e.cf)){for(let s=0;s<e.cf.length;s++)if(-1!==t.indexOf(e.cf[s].toLowerCase()))return e.identity}else if(-1!==t.indexOf(e.cf.toLowerCase()))return e.identity}}var a=s("b8BB");class r extends n{constructor(){if(super(),this.userAgentData=navigator.userAgentData,this.browser=null,this.version=null,this.userAgentData){const t=this.Bc();this.browser=t.browser||"Unknown Browser",this.version=t.version||"Unknown Version"}this.OS=null}ef(){return this.browser}ff(){return this.version}ec(t){if(this.OS)return Promise.resolve(this.OS);const e=e=>{for(let s=0;s<t.length;s++){const i=r.nf(e,t[s]);if(i)return this.OS=i,this.OS}return e};return this.userAgentData.platform?Promise.resolve(e(this.userAgentData.platform)):this.getHighEntropyValues().then((t=>t.platform?e(t.platform):navigator.platform)).catch((()=>navigator.platform))}Bc(){const t={},e=this.userAgentData.brands;if(e&&e.length)for(const s of e){const e=this.Vc(a.c),i=s.brand.match(e);if(i&&i.length>0){t.browser=i[0],t.version=s.version;break}}return t}Vc(t){const e=[];for(const s in t){const i=s;e.push(t[i])}return new RegExp("("+e.join("|")+")","i")}getHighEntropyValues(){return this.userAgentData.getHighEntropyValues?this.userAgentData.getHighEntropyValues(["platform"]):Promise.reject()}}class o extends n{constructor(){super(),this.fd=o.Bc(navigator.userAgent||"")}ef(){return this.fd[0]||"Unknown Browser"}ff(){return this.fd[1]||"Unknown Version"}ec(t){for(let e=0;e<t.length;e++){const s=t[e].string;let i=o.nf(s,t[e]);if(i)return i===a.u.Pg&&navigator.maxTouchPoints>1&&(i=a.u.ao),Promise.resolve(i)}return Promise.resolve(navigator.platform)}static Bc(t){let e,s=t.match(/(samsungbrowser|tizen|roku|konqueror|icab|crios|opera|ucbrowser|chrome|safari|firefox|camino|msie|trident(?=\/))\/?\s*(\.?\d+(\.\d+)*)/i)||[];if(-1!==t.indexOf("(Web0S; Linux/SmartTV)"))return["LG Smart TV",null];if(-1!==t.indexOf("CrKey"))return["Chromecast",null];if(-1!==t.indexOf("BRAVIA")||-1!==t.indexOf("SonyCEBrowser")||-1!==t.indexOf("SonyDTV"))return["Sony Smart TV",null];if(-1!==t.indexOf("PhilipsTV"))return["Philips Smart TV",null];if(t.match(/\b(Roku)\b/))return["Roku",null];if(t.match(/\bAFTM\b/))return["Amazon Fire Stick",null];if(s[1]===a.c.rO&&(e=t.match(/\b(OPR|Edge|EdgA|Edg|UCBrowser)\/(\.?\d+(\.\d+)*)/),null!=e))return e=e.slice(1),e[0]=e[0].replace("OPR",a.c.oO),e[0]=e[0].replace("EdgA",a.c.eO),"Edg"===e[0]&&(e[0]=a.c.eO),[e[0],e[1]];if(s[1]===a.c.Bg&&(e=t.match(/\b(EdgiOS)\/(\.?\d+(\.\d+)*)/),null!=e))return e=e.slice(1),e[0]=e[0].replace("EdgiOS",a.c.eO),[e[0],e[1]];if(s=s[2]?[s[1],s[2]]:[null,null],s[0]===a.c.Bg&&null!=(e=t.match(/version\/(\.?\d+(\.\d+)*)/i))&&s.splice(1,1,e[1]),null!=(e=t.match(/\b(UCBrowser)\/(\.?\d+(\.\d+)*)/))&&s.splice(1,1,e[2]),s[0]===a.c.oO&&null!=(e=t.match(/mini\/(\.?\d+(\.\d+)*)/i)))return["Opera Mini",e[1]||""];if(s[0]){const t=s[0].toLowerCase();"crios"===t&&(s[0]=a.c.rO),"tizen"===t&&(s[0]="Samsung Smart TV",s[1]=null),"samsungbrowser"===t&&(s[0]="Samsung Browser")}return s}}class l{constructor(){const t=navigator.userAgentData?r:o;this.Sg=new t,this.userAgent=navigator.userAgent,this.browser=this.Sg.ef(),this.version=this.Sg.ff(),this.OS=null,this.ec().then((t=>this.OS=t));const e=navigator;this.language=(e.userLanguage||e.language||e.browserLanguage||e.systemLanguage||"").toLowerCase(),this.Ja=l.vg(this.userAgent)}fE(){return this.browser===a.c.Bg}ic(){return this.OS||null}ec(){return this.OS?Promise.resolve(this.OS):this.Sg.ec(l.kg).then((t=>(this.OS=t,t)))}static vg(t){t=t.toLowerCase();const e=["googlebot","bingbot","slurp","duckduckbot","baiduspider","yandex","facebookexternalhit","sogou","ia_archiver","https://github.com/prerender/prerender","aolbuild","bingpreview","msnbot","adsbot","mediapartners-google","teoma","taiko"];for(let s=0;s<e.length;s++)if(-1!==t.indexOf(e[s]))return!0;return!1}}l.kg=[{string:navigator.platform,cf:"Win",identity:a.u.Og},{string:navigator.platform,cf:"Mac",identity:a.u.Pg},{string:navigator.platform,cf:"BlackBerry",identity:"BlackBerry"},{string:navigator.platform,cf:"FreeBSD",identity:"FreeBSD"},{string:navigator.platform,cf:"OpenBSD",identity:"OpenBSD"},{string:navigator.platform,cf:"Nintendo",identity:"Nintendo"},{string:navigator.platform,cf:"SunOS",identity:"SunOS"},{string:navigator.platform,cf:"PlayStation",identity:"PlayStation"},{string:navigator.platform,cf:"X11",identity:"X11"},{string:navigator.userAgent,cf:["iPhone","iPad","iPod"],identity:a.u.ao},{string:navigator.platform,cf:"Pike v",identity:a.u.ao},{string:navigator.userAgent,cf:["Web0S"],identity:"WebOS"},{string:navigator.userAgent,cf:"Tizen",identity:"Tizen"},{string:navigator.platform,cf:["Linux armv7l","Android"],identity:a.u.xg},{string:navigator.userAgent,cf:["Android"],identity:a.u.xg},{string:navigator.platform,cf:"Linux",identity:"Linux"}];const c=new l},groe:(t,e,s)=>{s.d(e,{w:()=>n});var i=s("F7/r");function n(){if(i.Ay.rr())return i.Ay.mr()}},gxpy:(t,e,s)=>{s.d(e,{A:()=>f});var i=s("F7/r"),n=s("cqms"),a=s("w7bV"),r=s("jGgm"),o=s("TdiU"),l=s("L0v4"),c=s("CgXj"),u=s("FOzX");function h(t){if(t[u.A.ui.ds]&&"boolean"==typeof t[u.A.ui.Fe])return new u.A(t[u.A.ui.ds],t[u.A.ui.Fe],t[u.A.ui.we],t[u.A.ui.xe]);n.A.info(`Unable to create feature flag from ${JSON.stringify(t,null,2)}`)}function d(t){if(t[u.A.es.ds]&&"boolean"==typeof t[u.A.es.Fe])return new u.A(t[u.A.es.ds],t[u.A.es.Fe],t[u.A.es.we],t[u.A.es.xe]);n.A.info(`Unable to deserialize feature flag from ${JSON.stringify(t,null,2)}`)}var p=s("J++8");class b extends a.A{constructor(t,e,s,n){super(),this.B=t,this.S=e,this.C=s,this.T=n,this.De=[],this.qe=0,this.B=t,this.S=e,this.C=s,this.T=n,this.ze=null,this.Ue=new o.A,this.R=10,this.I=null,this.q=null,i.Ay.F(this.Ue)}U(t){var e;if((null===(e=this.B)||void 0===e?void 0:e.ke())&&null!=t&&t.feature_flags){this.De=[];for(const e of t.feature_flags){const t=h(e);t&&this.De.push(t)}this.qe=(new Date).getTime(),this.Be(),this.Ue.X(this.De)}}Me(){let t={};this.C&&(t=this.C.ft(r.d.gt.Xe));const e={};for(const s in t){const i=d(t[s]);i&&(e[i.id]=i)}return e}_e(){var t;return(null===(t=this.C)||void 0===t?void 0:t.ft(r.d.gt.Ge))||{}}He(t){this.C&&this.C.Bt(r.d.gt.Ge,t)}qt(t){return this.Ue.Dt(t)}refreshFeatureFlags(t,e,s=!1,i=!0){const n=()=>{"function"==typeof e&&e(),this.Ue.X(this.De)};if(!this.Je(s))return!this.ze&&this.B&&(this.ze=this.B.Ke((()=>{this.refreshFeatureFlags(t,e)}))),void n();const a=this.S;if(!a)return void n();i&&this.G();const r=a.H({},!0),o=a.J(r,p.A.O.Le);let u=!1;a.V(r,((i=-1)=>{const a=this.S;if(!a)return void n();const h=(new Date).valueOf();p.A.W(this.C,p.A.O.Le,h),-1!==i&&o.push(["X-Braze-Req-Tokens-Remaining",i.toString()]),c.A.Y({url:`${a.Z()}/feature_flags/sync`,headers:o,data:r,tt:e=>{if(!a.st(r,e,o))return u=!0,void n();a.it(),this.U(e),u=!1,"function"==typeof t&&t()},error:t=>{a.et(t,"retrieving feature flags"),u=!0,n()},nt:(i,n)=>{let r;if(u){let t=this.I;(null==t||t<1e3*this.R)&&(t=1e3*this.R),r=Math.min(3e5,(0,l.C)(1e3*this.R,3*t))}a.rt(n,(()=>{this.refreshFeatureFlags(t,e,s,!0)}),p.A.O.Le,(t=>this.ot(t)),(()=>this.G()),r)}})}),p.A.O.Le,e)}G(){null!=this.q&&(clearTimeout(this.q),this.q=null)}ot(t){this.G(),this.q=t}Je(t){if(!this.B)return!1;if(!t){const t=this.B.Oe();if(null==t)return!1;let e=!1;if(!isNaN(t)){if(-1===t)return n.A.info("Feature flag refreshes not allowed"),!1;e=(new Date).getTime()>=(this.qe||0)+1e3*t}if(!e)return n.A.info(`Feature flag refreshes were rate limited to ${t} seconds`),!1}return this.B.ke()}Qe(){var t;return(null===(t=this.C)||void 0===t?void 0:t.ft(r.d.gt.Ve))||null}We(){var t,e;null===(t=this.C)||void 0===t||t.Bt(r.d.gt.Ve,null===(e=this.T)||void 0===e?void 0:e.St())}Ye(){var t;const e=null===(t=this.T)||void 0===t?void 0:t.St(),s=this.Qe();return null==s||e===s}Be(){if(!this.C)return;const t={};for(const e of this.De){const s=e.bt();t[e.id]=s}this.C.Bt(r.d.gt.Xe,t),this.C.Bt(r.d.gt.Ze,this.qe),this.We()}changeUser(){this.G()}clearData(){this.G()}}const g={l:!1,provider:null,m:()=>(g.p(),g.provider||(g.provider=new b(i.Ay.v(),i.Ay.g(),i.Ay.j(),i.Ay.P()),i.Ay._(g.provider)),g.provider),p:()=>{g.l||(i.Ay.h(g),g.l=!0)},destroy:()=>{g.provider=null,g.l=!1}},f=g},iXlr:(t,e,s)=>{s.d(e,{U:()=>d,V:()=>p});var i=s("cqms"),n=s("FggB"),a=s("F7/r"),r=s("l6Yh"),o=s("fXrE"),l=s("b8BB"),c=s("TnFm"),u=s("xoq4"),h=s("groe");function d(t,e,d){if(a.Ay.rr())if(c.nx.test(t)){const e=(0,r.jj)(t);if(!e)return;const d=t=>{if(!(0,c.xs)(t))return void i.A.error(`Decoded Braze Action json is invalid: ${JSON.stringify(t,null,2)}`);const e=r.V.properties.type,p=r.V.properties.eo,b=r.V.properties.so,g=t[e];if(g===r.V.types.io){const e=t[p];for(const t of e)d(t)}else{const e=t[b];let c,d;switch(g){case r.V.types.logCustomEvent:Promise.resolve().then(s.bind(s,"2tha")).then((({logCustomEvent:t})=>{a.Ay.nn()?(d=Array.prototype.slice.call(e),t(...d)):i.A.error(n.xE)}));break;case r.V.types.requestPushPermission:Promise.resolve().then(s.bind(s,"8j4a")).then((({requestPushPermission:t})=>{a.Ay.nn()?"Safari"===o.A.browser&&o.A.OS===l.u.ao?window.navigator.standalone&&t():t():i.A.error(n.xE)}));break;case r.V.types.setEmailNotificationSubscriptionType:case r.V.types.setPushNotificationSubscriptionType:case r.V.types.setCustomUserAttribute:case r.V.types.addToSubscriptionGroup:case r.V.types.removeFromSubscriptionGroup:case r.V.types.addToCustomAttributeArray:case r.V.types.removeFromCustomAttributeArray:c=(0,h.w)(),c&&c[g](...Array.prototype.slice.call(e));break;case r.V.types.co:case r.V.types.mo:d=Array.prototype.slice.call(e),u.uD.openUri(...d);break;default:i.A.info(`Ignoring unknown Braze Action: ${g}`)}}};d(e)}else u.uD.openUri(t,e,d)}function p(t,e){d(t,e)}},ikR4:(t,e,s)=>{s.d(e,{q:()=>d});var i=s("F7/r"),n=s("LbZy"),a=s("D1mP"),r=s("5QSF"),o=s("FggB"),l=s("cqms"),c=s("wzJC"),u=s("87bj"),h=s("rv22");function d(t){if(!i.Ay.rr())return!1;if(!(t instanceof n.A))return l.A.error(o.fX),!1;const e=a.A.ea().ut(t,c.w.Li);if(e){t.Bo()||(0,r.z)(t);for(let s=0;s<e.$e.length;s++)h.B.m().Ce(u.A.Zr,[t.triggerId],e.$e[s])}return e.tt}},jGgm:(t,e,s)=>{s.d(e,{A:()=>d,d:()=>h});var i=s("KuXe"),n=s("dQ1G"),a=s("azH7"),r=s("cqms"),o=s("wzJC"),l=s("TaGn"),c=s("fXrE"),u=s("LltV");const h={iu:{su:"ab.storage.userId",Na:"ab.storage.deviceId",Nl:"ab.storage.sessionId"},gt:{ac:"ab.test",tE:"ab.storage.events",eE:"ab.storage.attributes",sE:"ab.storage.attributes.anonymous_user",oc:"ab.storage.device",pu:"ab.storage.sdk_metadata",Ru:"ab.storage.session_id_for_cached_metadata",zn:"ab.storage.pushToken",qi:"ab.storage.newsFeed",zi:"ab.storage.lastNewsFeedRefresh",Zt:"ab.storage.cardImpressions",ml:"ab.storage.serverConfig",rE:"ab.storage.triggers",oE:"ab.storage.triggers.ts",Hl:"ab.storage.messagingSessionStart",Hs:"ab.storage.cc",Os:"ab.storage.ccLastFullSync",Qs:"ab.storage.ccLastCardUpdated",Hu:"ab.storage.globalRateLimitCurrentTokenCount",_u:"ab.storage.dynamicRateLimitCurrentTokenCount",Kt:"ab.storage.ccClicks",Yt:"ab.storage.ccImpressions",Vt:"ab.storage.ccDismissals",nE:"ab.storage.lastDisplayedTriggerTimesById",aE:"ab.storage.lastDisplayedTriggerTime",iE:"ab.storage.triggerFireInstancesById",qh:"ab.storage.signature",EE:"ab.storage.brazeSyncRetryCount",Zs:"ab.storage.sdkVersion",Xe:"ab.storage.ff",Ge:"ab.storage.ffImpressions",Ze:"ab.storage.ffLastRefreshAt",Ve:"ab.storage.ff.sessionId",lE:"ab.storage.lastReqToEndpoint",SE:"ab.storage.requestAttempts",Kr:"ab.storage.deferredIam",Ku:"ab.storage.lastSdkReq",_E:"ab.storage.alias",vt:"ab.storage.banners",Nt:"ab.storage.banners.impressions",yt:"ab.storage.banners.sessionId"},me:"ab.optOut"};class d{constructor(t,e){this.uE=t,this.cE=e,this.uE=t,this.cE=e}Ha(t){const e=(0,a.HP)(h.iu),s=new d.se(t);for(const t of e)s.remove(h.iu[t])}uu(t,e){let s=null;null!=e&&e instanceof n.A&&(s=e.bt()),this.uE.store(t,s)}TE(t){const e=this.tu(t);null!=e&&(e.ql=(new Date).valueOf(),this.uu(t,e))}tu(t){const e=this.uE.gr(t),s=(t=>{let e;try{e=JSON.parse(t)}catch(t){e=null}return e})(e);let i;if(s)i=n.A.Rn(s)||null,i&&this.uu(t,i);else{const s=n.A.hE(e);i=n.A.Rn(s)||null,s!==e&&i&&this.uu(t,i)}return i}Jl(t){this.uE.remove(t)}Xa(){const t=(0,a.HP)(h.iu);let e;for(const s of t)e=this.tu(h.iu[s]),null!=e&&this.uu(h.iu[s],e)}Vo(t){let e;if(null==t||0===t.length)return!1;e=(0,a.cy)(t)?t:[t];let s=this.cE.gr(h.gt.tE);null!=s&&(0,a.cy)(s)||(s=[]);for(let t=0;t<e.length;t++)s.push(e[t].bt());return this.cE.store(h.gt.tE,s)}Al(t){return null!=t&&this.Vo([t])}AE(){let t=this.cE.gr(h.gt.tE);this.cE.remove(h.gt.tE),null==t&&(t=[]);const e=[];let s=!1,n=null;if((0,a.cy)(t))for(let s=0;s<t.length;s++)i.A.RE(t[s])?e.push(i.A.Rn(t[s])):n=s;else s=!0;if(s||null!=n){let a="Stored events could not be deserialized as Events";s&&(a+=", was "+Object.prototype.toString.call(t)+" not an array"),null!=n&&(a+=", value at index "+n+" does not look like an event"),a+=", serialized values were of type "+typeof t+": "+JSON.stringify(t),e.push(new i.A(null,o.w.qu,(new Date).valueOf(),null,{e:a}))}return e}Bt(t,e){return!!(0,a.BY)(h.gt,t,"StorageManager cannot store object.","STORAGE_KEYS.OBJECTS")&&this.cE.store(t,e)}ft(t){return!!(0,a.BY)(h.gt,t,"StorageManager cannot retrieve object.","STORAGE_KEYS.OBJECTS")&&this.cE.gr(t)}Ut(t){return!!(0,a.BY)(h.gt,t,"StorageManager cannot remove object.","STORAGE_KEYS.OBJECTS")&&(this.cE.remove(t),!0)}clearData(){const t=(0,a.HP)(h.iu),e=(0,a.HP)(h.gt);for(let e=0;e<t.length;e++){const s=t[e];this.uE.remove(h.iu[s])}for(let t=0;t<e.length;t++){const s=e[t];this.cE.remove(h.gt[s])}}gE(t){return t||h.gt.sE}Cu(t){let e=this.cE.gr(h.gt.eE);null==e&&(e={});const s=this.gE(t[l.A.Xn]),i=e[s];for(const n in t)n!==l.A.Xn&&(null==e[s]||i&&null==i[n])&&this.mu(t[l.A.Xn],n,t[n])}mu(t,e,s){let i=this.cE.gr(h.gt.eE);null==i&&(i={});const n=this.gE(t);let a=i[n];if(null==a&&(a={},null!=t&&(a[l.A.Xn]=t)),e===l.A.lu){null==a[e]&&(a[e]={});for(const t in s)a[e][t]=s[t]}else a[e]=s;return i[n]=a,this.cE.store(h.gt.eE,i)}OE(){const t=this.cE.gr(h.gt.eE);this.cE.remove(h.gt.eE);const e=[];for(const s in t)null!=t[s]&&e.push(t[s]);return e}ru(t){const e=this.cE.gr(h.gt.eE);if(null!=e){const s=this.gE(null),i=e[s];null!=i&&(e[s]=void 0,this.cE.store(h.gt.eE,e),i[l.A.Xn]=t,this.Cu(i))}const s=this.tu(h.iu.Nl);let i=null;null!=s&&(i=s.eu);const n=this.AE();if(null!=n)for(let e=0;e<n.length;e++){const s=n[e];null==s.userId&&s.sessionId==i&&(s.userId=t),this.Al(s)}}IE(){return this.cE.dE}}d.gc=class{constructor(t){this.an=t,this.an=t,this.dE=c.A.fE()?3:10}bE(t){return t+"."+this.an}store(t,e){const s={v:e};try{return localStorage.setItem(this.bE(t),JSON.stringify(s)),!0}catch(t){return r.A.info("Storage failure: "+(0,u.u)(t)),!1}}gr(t){try{let e=null;const s=localStorage.getItem(this.bE(t));return null!=s&&(e=JSON.parse(s)),null==e?null:e.v}catch(t){return r.A.info("Storage retrieval failure: "+(0,u.u)(t)),null}}remove(t){try{localStorage.removeItem(this.bE(t))}catch(t){return r.A.info("Storage removal failure: "+(0,u.u)(t)),!1}}},d.uc=class{constructor(){this.KE={},this.mE=5242880,this.dE=3}store(t,e){const s={value:e},i=this.YE(e);return i>this.mE?(r.A.info("Storage failure: object is ≈"+i+" bytes which is greater than the max of "+this.mE),!1):(this.KE[t]=s,!0)}YE(t){const e=[],s=[t];let i=0;for(;s.length;){const t=s.pop();if("boolean"==typeof t)i+=4;else if("string"==typeof t)i+=2*t.length;else if("number"==typeof t)i+=8;else if("object"==typeof t&&-1===e.indexOf(t)){let i,n;e.push(t);for(const e in t)n=t,i=e,s.push(n[i])}}return i}gr(t){const e=this.KE[t];return null==e?null:e.value}remove(t){this.KE[t]=null}},d.se=class{constructor(t,e){this.an=t,this.NE=e,this.an=t,this.GE=this.DE(),this.CE=576e3,this.NE=!!e}bE(t){return null!=this.an?t+"."+this.an:t}DE(){let t=0,e=document.location.hostname;const s=e.split("."),i="ab._gd";for(;t<s.length-1&&-1===document.cookie.indexOf(i+"="+i);)t++,e="."+s.slice(-1-t).join("."),document.cookie=i+"="+i+";domain="+e+";";return document.cookie=i+"=;expires="+new Date(0).toUTCString()+";domain="+e+";",e}le(){const t=new Date;return t.setTime(t.getTime()+60*this.CE*1e3),t.getFullYear()}ME(){const t=(0,a.zu)(h.iu),e=document.cookie.split(";");for(let s=0;s<e.length;s++){let i=e[s];for(;" "===i.charAt(0);)i=i.substring(1);let n=!1;for(let e=0;e<t.length;e++)if(0===i.indexOf(t[e])){n=!0;break}if(n){const t=i.split("=")[0];-1===t.indexOf("."+this.an)&&this.pE(t)}}}store(t,e){this.ME();const s=new Date;s.setTime(s.getTime()+60*this.CE*1e3);const i="expires="+s.toUTCString(),n="domain="+this.GE;let a;a=this.NE?e:encodeURIComponent(e);const o=this.bE(t)+"="+a+";"+i+";"+n+";path=/";return o.length>=4093?(r.A.info("Storage failure: string is "+o.length+" chars which is too large to store as a cookie."),!1):(document.cookie=o,!0)}gr(t){const e=[],s=this.bE(t)+"=",i=document.cookie.split(";");for(let n=0;n<i.length;n++){let a=i[n];for(;" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(s))try{let t;t=this.NE?a.substring(s.length,a.length):decodeURIComponent(a.substring(s.length,a.length)),e.push(t)}catch(e){return r.A.info("Storage retrieval failure: "+(0,u.u)(e)),this.remove(t),null}}return e.length>0?e[e.length-1]:null}remove(t){this.pE(this.bE(t))}pE(t){const e=t+"=;expires="+new Date(0).toUTCString();document.cookie=e,document.cookie=e+";path=/";const s=e+";domain="+this.GE;document.cookie=s,document.cookie=s+";path=/"}},d.lc=class{constructor(t,e,s){this.an=t,this.vE=[],e&&this.vE.push(new d.se(t)),s&&this.vE.push(new d.gc(t)),this.vE.push(new d.uc)}store(t,e){let s=!0;for(let i=0;i<this.vE.length;i++)s=this.vE[i].store(t,e)&&s;return s}gr(t){for(let e=0;e<this.vE.length;e++){const s=this.vE[e].gr(t);if(null!=s)return s}return null}remove(t){new d.se(this.an).remove(t);for(let e=0;e<this.vE.length;e++)this.vE[e].remove(t)}}},kkSs:(t,e,s)=>{s.d(e,{A:()=>o});var i=s("15I7"),n=s("HiHM"),a=s("ByVl"),r=s("oRs1");class o extends i.A{constructor(t,e){super(t,e)}getUnviewedCardCount(){return super.getUnreadCardCount()}logCardImpressions(t){(0,a.j)(t,!0)}logCardClick(t){return(0,n.x)(t,!0)}sr(){(0,r.J)()}nr(){return!0}}o.dr=6e4},l6Yh:(t,e,s)=>{s.d(e,{$6:()=>c,V:()=>o,dy:()=>p,jj:()=>u,mY:()=>l,qj:()=>d});var i=s("cqms"),n=s("LltV"),a=s("+aDo"),r=s("TnFm");const o={types:{io:"container",logCustomEvent:"logCustomEvent",setEmailNotificationSubscriptionType:"setEmailNotificationSubscriptionType",setPushNotificationSubscriptionType:"setPushNotificationSubscriptionType",setCustomUserAttribute:"setCustomUserAttribute",requestPushPermission:"requestPushPermission",addToSubscriptionGroup:"addToSubscriptionGroup",removeFromSubscriptionGroup:"removeFromSubscriptionGroup",addToCustomAttributeArray:"addToCustomAttributeArray",removeFromCustomAttributeArray:"removeFromCustomAttributeArray",co:"openLink",mo:"openLinkInWebView"},properties:{type:"type",eo:"steps",so:"args"}},l={Mr:"unknownBrazeAction",wr:"noPushPrompt"},c=(t,e)=>{switch(t){case l.Mr:return`${e} contains an unknown braze action type and will not be displayed.`;case l.wr:return`${e} contains a push prompt braze action, but is not eligible for a push prompt. Ignoring.`;default:return""}};function u(t){try{const e=t.match(r.nx),s=e?e[0].length:null,n=s?t.substring(s):null;if(null==s||s>t.length-1||!n)return void i.A.error(`Did not find base64 encoded brazeAction in url to process : ${t}`);const o=(0,a.u)(n);return o?JSON.parse(o):void i.A.error(`Failed to decode base64 encoded brazeAction: ${n}`)}catch(e){return void i.A.error(`Failed to process brazeAction URL ${t} : ${(0,n.u)(e)}`)}}function h(t,e){let s=!1;if(e)for(const i of e)if(s=s||t(i),s)return!0;return!1}function d(t){const e=o.properties.type,s=o.properties.eo;try{if(null==t)return!0;const i=t[e];return i===o.types.io?h(d,t[s]):!(0,r.To)(i)}catch(t){return!0}}function p(t){if(!t||!(0,r.xs)(t))return!1;const e=o.properties.type,s=o.properties.eo,i=t[e];return i===o.types.io?h(p,t[s]):i===o.types.requestPushPermission}},lm4s:(t,e,s)=>{s.d(e,{n:()=>n});var i=s("F7/r");function n(t,e,s){const n=t||document.querySelector("head"),a=`ab-${e}-css-definitions-${"5.9.1".replace(/\./g,"-")}`;if(!n)return;const r=n.ownerDocument||document;if(null==r.getElementById(a)){const t=r.createElement("style");t.innerHTML=s||"",t.id=a;const e=i.Ay.ee(i.lw.er);null!=e&&t.setAttribute("nonce",e),n.appendChild(t)}}},muIz:(t,e,s)=>{s.d(e,{A:()=>o});var i=s("7esM"),n=s("FggB"),a=s("TdiU"),r=s("cqms");class o{constructor(t,e,s,i,n,a,r,o,l,c,u,h,d,p,b,g){this.id=t,this.viewed=e,this.title=s,this.imageUrl=i,this.description=n,this.created=a,this.updated=r,this.categories=o,this.expiresAt=l,this.url=c,this.linkText=u,this.aspectRatio=h,this.extras=d,this.pinned=p,this.dismissible=b,this.clicked=g,this.id=t,this.viewed=e||!1,this.title=s||"",this.imageUrl=i,this.description=n||"",this.created=a||null,this.updated=r||null,this.categories=o||[],this.expiresAt=l||null,this.url=c,this.linkText=u,null==h?this.aspectRatio=null:(h=parseFloat(h.toString()),this.aspectRatio=isNaN(h)?null:h),this.extras=d||{},this.pinned=p||!1,this.dismissible=b||!1,this.dismissed=!1,this.clicked=g||!1,this.isControl=!1,this.test=!1,this.ti=null,this.ii=null,this.si=null}subscribeToClickedEvent(t){return this.hi().Dt(t)}subscribeToDismissedEvent(t){return this.ni().Dt(t)}removeSubscription(t){this.hi().removeSubscription(t),this.ni().removeSubscription(t)}removeAllSubscriptions(){this.hi().removeAllSubscriptions(),this.ni().removeAllSubscriptions()}dismissCard(){if(!this.dismissible||this.dismissed)return;"function"==typeof this.logCardDismissal&&this.logCardDismissal();let t=this.te;!t&&this.id&&(t=document.getElementById(this.id)),t&&(t.style.height=t.offsetHeight+"px",t.className=t.className+" ab-hide",setTimeout((function(){t&&t.parentNode&&(t.style.height="0",t.style.margin="0",setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),o.li))}),n.RW))}hi(){return null==this.ti&&(this.ti=new a.A),this.ti}ni(){return null==this.ii&&(this.ii=new a.A),this.ii}_t(){const t=(new Date).valueOf();return!(null!=this.si&&t-this.si<o.ei||(this.si=t,this.viewed=!0,0))}$t(){this.viewed=!0,this.clicked=!0,this.hi().X()}Qt(){return!(!this.dismissible||this.dismissed||(this.dismissed=!0,this.ni().X(),0))}ri(t){if(null==t||t[o.ui.ds]!==this.id)return!0;if(t[o.ui.Ei])return!1;if(null!=t[o.ui.xs]&&null!=this.updated&&parseInt(t[o.ui.xs])<(0,i.UK)(this.updated.valueOf()))return!0;if(t[o.ui.ps]&&!this.viewed&&(this.viewed=!0),t[o.ui.ys]&&!this.clicked&&(this.clicked=t[o.ui.ys]),null!=t[o.ui.us]&&(this.title=t[o.ui.us]),null!=t[o.ui.ls]&&(this.imageUrl=t[o.ui.ls]),null!=t[o.ui.fs]&&(this.description=t[o.ui.fs]),null!=t[o.ui.xs]){const e=(0,i.Zo)(t[o.ui.xs]);null!=e&&(this.updated=e)}if(null!=t[o.ui.js]){let e;e=t[o.ui.js]===o.oi?null:(0,i.Zo)(t[o.ui.js]),this.expiresAt=e}if(null!=t[o.ui.URL]&&(this.url=t[o.ui.URL]),null!=t[o.ui.zs]&&(this.linkText=t[o.ui.zs]),null!=t[o.ui.ks]){const e=parseFloat(t[o.ui.ks].toString());this.aspectRatio=isNaN(e)?null:e}return null!=t[o.ui.qs]&&(this.extras=t[o.ui.qs]),null!=t[o.ui.vs]&&(this.pinned=t[o.ui.vs]),null!=t[o.ui.ws]&&(this.dismissible=t[o.ui.ws]),null!=t[o.ui.As]&&(this.test=t[o.ui.As]),!0}bt(){r.A.error("Must be implemented in a subclass")}}o.oi=-1,o.ui={ds:"id",ps:"v",ws:"db",Ei:"r",xs:"ca",vs:"p",js:"ea",qs:"e",hs:"tp",ls:"i",us:"tt",fs:"ds",URL:"u",zs:"dm",ks:"ar",ys:"cl",As:"t"},o.cs={os:"captioned_image",Ti:"text_announcement",Ii:"short_news",ai:"banner_image",ci:"control"},o.es={ds:"id",ps:"v",ws:"db",bs:"cr",xs:"ca",vs:"p",gs:"t",js:"ea",qs:"e",hs:"tp",ls:"i",us:"tt",fs:"ds",URL:"u",zs:"dm",ks:"ar",ys:"cl",As:"s"},o.Ni={mi:"ADVERTISING",Si:"ANNOUNCEMENTS",Ai:"NEWS",Di:"SOCIAL"},o.li=400,o.ei=1e4},nO15:(t,e,s)=>{s.d(e,{A:()=>d});var i=s("vfwm"),n=s("Z43y"),a=s("Jdpe"),r=s("cqms"),o=s("wzJC"),l=s("jGgm");class c{constructor(t){this.C=t,this.C=t}logClick(t,e){const s=new a.A;if(t.$t(),null==t.url||""===t.url)return r.A.info(`Card ${t.id} has no url. Not logging click to Braze servers.`),s;if(e&&t.id&&this.C){const e=this.C.ft(l.d.gt.Kt)||{};e[t.id]=!0,this.C.Bt(l.d.gt.Kt,e)}const i=this.Lt([t]);if(null==i)return s;const c=e?o.w.Mt:o.w.Ot;return n.A.ut(c,i)}Pt(t){const e=new a.A;if(!t.Qt())return r.A.info(`Card ${t.id} refused this dismissal. Ignoring analytics event.`),e;if(t.id&&this.C){const e=this.C.ft(l.d.gt.Vt)||{};e[t.id]=!0,this.C.Bt(l.d.gt.Vt,e)}const s=this.Lt([t]);return null==s?e:n.A.ut(o.w.Wt,s)}Xt(t,e){const s=new a.A(!0),c=[],u=[];let h={};this.C&&(h=e?this.C.ft(l.d.gt.Yt)||{}:this.C.ft(l.d.gt.Zt)||{});for(const e of t)e._t()?(e instanceof i.A?u.push(e):c.push(e),e.id&&(h[e.id]=!0)):r.A.info(`Card ${e.id} logged an impression too recently. Ignoring analytics event.`);const d=this.Lt(c),p=this.Lt(u);if(null==d&&null==p)return s.tt=!1,s;if(this.C&&(e?this.C.Bt(l.d.gt.Yt,h):this.C.Bt(l.d.gt.Zt,h)),null!=d){const t=e?o.w.ts:o.w.ss,i=n.A.ut(t,d);s.ns(i)}if(null!=p&&e){const t=n.A.ut(o.w.rs,p);s.ns(t)}return s}Lt(t){let e,s=null;for(let i=0;i<t.length;i++)e=t[i].id,null!=e&&""!==e&&(s=s||{},s.ids=s.ids||[],s.ids.push(e));return s}}var u=s("F7/r");const h={l:!1,aa:null,ea:()=>(h.p(),h.aa||(h.aa=new c(u.Ay.j())),h.aa),p:()=>{h.l||(u.Ay.h(h),h.l=!0)},destroy:()=>{h.aa=null,h.l=!1}},d=h},ndKy:(t,e,s)=>{s.d(e,{z:()=>a});var i=s("F7/r"),n=s("cqms");function a(){n.A.info("Destroying Braze instance"),i.Ay.destroy(!0)}},o8vE:(t,e,s)=>{s.d(e,{A:()=>n});var i=s("muIz");class n extends i.A{constructor(t,e,s,i,n,a,r,o,l,c,u,h,d,p){super(t,e,null,s,null,i,n,a,r,o,l,c,u,h,d,p),this.oe="ab-image-only",this.ae=!1,this.test=!1}bt(){const t={};return t[i.A.es.hs]=i.A.cs.ai,t[i.A.es.ds]=this.id,t[i.A.es.ps]=this.viewed,t[i.A.es.ls]=this.imageUrl,t[i.A.es.xs]=this.updated,t[i.A.es.bs]=this.created,t[i.A.es.gs]=this.categories,t[i.A.es.js]=this.expiresAt,t[i.A.es.URL]=this.url,t[i.A.es.zs]=this.linkText,t[i.A.es.ks]=this.aspectRatio,t[i.A.es.qs]=this.extras,t[i.A.es.vs]=this.pinned,t[i.A.es.ws]=this.dismissible,t[i.A.es.ys]=this.clicked,t[i.A.es.As]=this.test,t}}},oBfN:(t,e,s)=>{s.r(e),s.d(e,{default:()=>b});var i=s("F7/r"),n=s("azH7"),a=s("J/SO"),r=s("cqms");const o_qn=function(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(e),i=new Uint8Array(s.length);for(let t=0;t<s.length;++t)i[t]=s.charCodeAt(t);return i};var l=s("jGgm"),c=s("TaGn"),u=s("eis7"),h=s("LltV");class d{constructor(t,e,s,i,n,a,r,o,l,c,h){this.un=t,this.an=e,this.hn=s,this.cn=n,this.fn=a,this.ln=r,this.B=o,this.dn=l,this.pn=c,this.C=h,this.un=t,this.an=e,this.hn=s,this.bn=i+"/safari/"+e,this.cn=n||"/service-worker.js",this.ln=r,this.B=o,this.dn=l||!1,this.pn=c||!1,this.C=h,this.yn=u.A.mn(),this.gn=u.A.vn()}wn(){return this.pn}kn(t,e,s,i,n){t.unsubscribe().then((t=>{t?this.Pn(e,s,i,n):(r.A.error("Failed to unsubscribe device from push."),"function"==typeof n&&n(!1))})).catch((t=>{r.A.error("Push unsubscription error: "+t),"function"==typeof n&&n(!1)}))}Dn(t,e,s){var i;const n=(t=>{if("string"==typeof t)return t;if(0!==t.endpoint.indexOf("https://android.googleapis.com/gcm/send"))return t.endpoint;let e=t.endpoint;const s=t;return s.Sn&&-1===t.endpoint.indexOf(s.Sn)&&(e=t.endpoint+"/"+s.Sn),e})(t);let a=null,o=null;const l=t;if(null!=l.getKey)try{const t=Array.from(new Uint8Array(l.getKey("p256dh"))),e=Array.from(new Uint8Array(l.getKey("auth")));a=btoa(String.fromCharCode.apply(null,t)),o=btoa(String.fromCharCode.apply(null,e))}catch(t){r.A.error((0,h.u)(t))}const c=(t=>{let e;return t.options&&(e=t.options.applicationServerKey)&&e.byteLength&&e.byteLength>0?btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(e)))).replace(/\+/g,"-").replace(/\//g,"_"):null})(l);null===(i=this.un)||void 0===i||i.An(n,e,a,o,c),n&&"function"==typeof s&&s(n,a,o)}jn(){var t;null===(t=this.un)||void 0===t||t.xn(!0)}Nn(t,e){var s;null===(s=this.un)||void 0===s||s.xn(!1),r.A.info(t),"function"==typeof e&&e(!1)}Un(t,e,s,i){var n;if("default"===e.permission)try{window.safari.pushNotification.requestPermission(this.bn,t,{api_key:this.an,device_id:(null===(n=this.hn)||void 0===n?void 0:n.ve().id)||""},(e=>{"granted"===e.permission&&this.un&&this.un.setPushNotificationSubscriptionType(c.A.NotificationSubscriptionTypes.OPTED_IN),this.Un(t,e,s,i)}))}catch(t){this.Nn("Could not request permission for push: "+t,i)}else"denied"===e.permission?this.Nn("The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.",i):"granted"===e.permission&&(r.A.info("Device successfully subscribed to push."),this.Dn(e.deviceToken,new Date,s))}requestPermission(t,e,s){const i=i=>{switch(i){case"granted":return void("function"==typeof t&&t());case"default":return void("function"==typeof e&&e());case"denied":return void("function"==typeof s&&s());default:r.A.error("Received unexpected permission result "+i)}};let n=!1;if("default"!==window.Notification.permission)i(Notification.permission);else{const t=window.Notification.requestPermission((t=>{n&&i(t)}));t?t.then((t=>{i(t)})):n=!0}}Pn(t,e,s,i){const n={userVisibleOnly:!0};null!=e&&(n.applicationServerKey=e),t.pushManager.subscribe(n).then((t=>{r.A.info("Device successfully subscribed to push."),this.Dn(t,new Date,s)})).catch((t=>{u.A.isPushBlocked()?(r.A.info("Permission for push notifications was denied."),"function"==typeof i&&i(!1)):(r.A.error("Push subscription failed: "+t),"function"==typeof i&&i(!0))}))}Wn(){if(this.dn)return navigator.serviceWorker.getRegistration(this.cn);const t=this.fn?{scope:this.fn}:void 0;return navigator.serviceWorker.register(this.cn,t).then((()=>navigator.serviceWorker.ready.then((t=>(t&&"function"==typeof t.update&&t.update().catch((t=>{r.A.info("ServiceWorker update failed: "+t)})),t)))))}_n(t){this.dn||(t.unregister(),r.A.info("Service worker successfully unregistered."))}subscribe(t,e){if(!u.A.isPushSupported())return r.A.info(d.Tn),void("function"==typeof e&&e(!1));if(this.yn){if(!this.dn&&null!=window.location){let t=this.cn;-1===t.indexOf(window.location.host)&&(t=window.location.host+t),-1===t.indexOf(window.location.protocol)&&(t=window.location.protocol+"//"+t)}if(u.A.isPushBlocked())return void this.Nn("Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.",e);if(this.B&&!this.B.In()&&0===this.B.Et())return r.A.info("Waiting for VAPID key from server config before subscribing to push."),void this.B.Vn((()=>{this.subscribe(t,e)}));const s=()=>{r.A.info("Permission for push notifications was denied."),"function"==typeof e&&e(!1)},i=()=>{let t="Permission for push notifications was ignored.";u.A.isPushBlocked()&&(t+=" The browser has automatically blocked further permission requests for a period (probably 1 week)."),r.A.info(t),"function"==typeof e&&e(!0)},h=u.A.isPushPermissionGranted(),d=()=>{!h&&this.un&&this.un.setPushNotificationSubscriptionType(c.A.NotificationSubscriptionTypes.OPTED_IN),this.Wn().then((s=>{if(null==s)return r.A.error("No service worker registration. Set the `manageServiceWorkerExternally` initialization option to false or ensure that your service worker is registered before calling registerPush."),void("function"==typeof e&&e(!0));s.pushManager.getSubscription().then((i=>{var c;let u=null;if(null!=(null===(c=this.B)||void 0===c?void 0:c.In())&&(u=o_qn(this.B.In())),i){let o,c=null,h=null;if(this.C&&(o=this.C.ft(l.d.gt.zn)),o&&!(0,n.cy)(o)){let t;try{t=a.A.Rn(o).En}catch(e){t=null}null==t||isNaN(t.getTime())||0===t.getTime()||(c=t,h=new Date(c),h.setMonth(c.getMonth()+6))}null!=u&&i.options&&i.options.applicationServerKey&&i.options.applicationServerKey.byteLength&&i.options.applicationServerKey.byteLength>0&&!(0,n.n4)(u,new Uint8Array(i.options.applicationServerKey))?(i.options.applicationServerKey.byteLength>12?r.A.info("Device was already subscribed to push using a different VAPID provider, creating new subscription."):r.A.info("Attempting to upgrade a gcm_sender_id-based push registration to VAPID - depending on the browser this may or may not result in the same gcm_sender_id-based subscription."),this.kn(i,s,u,t,e)):i.expirationTime&&new Date(i.expirationTime).valueOf()<=(new Date).valueOf()?(r.A.info("Push subscription is expired, creating new subscription."),this.kn(i,s,u,t,e)):o&&(0,n.cy)(o)?this.kn(i,s,u,t,e):null==h?(r.A.info("No push subscription creation date found, creating new subscription."),this.kn(i,s,u,t,e)):h.valueOf()<=(new Date).valueOf()?(r.A.info("Push subscription older than 6 months, creating new subscription."),this.kn(i,s,u,t,e)):(r.A.info("Device already subscribed to push, sending existing subscription to backend."),this.Dn(i,c,t))}else this.Pn(s,u,t,e)})).catch((t=>{r.A.error("Error checking current push subscriptions: "+t)}))})).catch((t=>{r.A.error("ServiceWorker registration failed: "+t)}))};this.requestPermission(d,i,s)}else if(this.gn){if(null==this.ln||""===this.ln)return r.A.error("You must supply the safariWebsitePushId initialization option in order to use registerPush on Safari"),void("function"==typeof e&&e(!0));const s=window.safari.pushNotification.permission(this.ln);this.Un(this.ln,s,t,e)}}unsubscribe(t,e){if(!u.A.isPushSupported())return r.A.info(d.Tn),void("function"==typeof e&&e());this.yn?navigator.serviceWorker.getRegistration(this.cn).then((s=>{s?s.pushManager.getSubscription().then((i=>{i?(this.jn(),i.unsubscribe().then((i=>{i?(r.A.info("Device successfully unsubscribed from push."),"function"==typeof t&&t()):(r.A.error("Failed to unsubscribe device from push."),"function"==typeof e&&e()),this._n(s)})).catch((t=>{r.A.error("Push unsubscription error: "+t),"function"==typeof e&&e()}))):(r.A.info("Device already unsubscribed from push."),"function"==typeof t&&t())})).catch((t=>{r.A.error("Error unsubscribing from push: "+t),"function"==typeof e&&e()})):(r.A.info("Device already unsubscribed from push."),"function"==typeof t&&t())})):this.gn&&(this.jn(),r.A.info("Device unsubscribed from push."),"function"==typeof t&&t())}}d.Tn="Push notifications are not supported in this browser.";const p={l:!1,aa:null,ea:()=>(p.p(),p.aa||(p.aa=new d(i.Ay.mr(),i.Ay.Ma(),i.Ay.ue(),i.Ay.Z(),i.Ay.ee(i.lw._a),i.Ay.ee(i.lw.Aa),i.Ay.ee(i.lw.Ba),i.Ay.v(),i.Ay.ee(i.lw.Ca),i.Ay.ee(i.lw.Da),i.Ay.j())),p.aa),p:()=>{p.l||(i.Ay.h(p),p.l=!0)},destroy:()=>{p.aa=null,p.l=!1}},b=p},oRs1:(t,e,s)=>{s.d(e,{J:()=>a});var i=s("F7/r"),n=s("FXju");function a(t,e){if(i.Ay.rr())return n.A.m().bi(t,e,!0)}},okAa:(t,e,s)=>{s.d(e,{a:()=>l});var i=s("muIz"),n=s("nO15"),a=s("FggB"),r=s("F7/r"),o=s("cqms");function l(t){return!!r.Ay.rr()&&(t instanceof i.A?n.A.ea().Pt(t).tt:(o.A.error("card "+a.s1),!1))}},osUK:(t,e,s)=>{s.d(e,{n:()=>n});var i=s("F7/r");function n(t,e){return i.Ay.initialize(t,e)}},rv22:(t,e,s)=>{s.d(e,{B:()=>g});var i=s("D1mP"),n=s("F7/r"),a=s("w7bV"),r=s("Rl7B"),o=s("KuXe"),l=s("azH7"),c=s("jGgm");class u{constructor(t,e,s,i,n){this.triggerId=t,this.Xr=e,this.$r=s,this.Hr=i,this.Jr=n,this.triggerId=t,this.Xr=e,this.$r=s,this.Hr=i,this.Jr=n}static fromJson(t,e,s,i,n){return null==t||null==t.trigger_id?null:new u(t.trigger_id,e,s,i,n)}}var h=s("Vqo0"),d=s("87bj"),p=s("cqms");class b extends a.A{constructor(t,e,s,i,n){super(),this.tg=t,this.Ts=e,this.C=s,this.Fi=i,this.ig=n,this.tg=t,this.Ts=e,this.C=s,this.Fi=i,this.ig=n,this.sg=[],this.eg=[],this.hg=null,this.ng={},this.og={},this.triggers=[],this.lg=0,this.ag(),this.gg()}fg(){if(this.C){this.hg=this.C.ft(c.d.gt.aE)||this.hg,this.ng=this.C.ft(c.d.gt.iE)||this.ng,this.og=this.C.ft(c.d.gt.nE)||this.og;for(let t=0;t<this.triggers.length;t++){const e=this.triggers[t];e.id&&null!=this.og[e.id]&&e.ad(this.og[e.id])}}}ag(){if(!this.C)return;this.lg=this.C.ft(c.d.gt.oE)||0;const t=this.C.ft(c.d.gt.rE)||[],e=[];for(let s=0;s<t.length;s++)e.push(h.A.Rn(t[s]));this.triggers=e,this.fg()}gg(){const t=this,e=function(e,s,i,n,a){return function(){t.cg(e,s,i,n,a)}},s={};for(const t of this.triggers)t.id&&(s[t.id]=t);let i=!1;for(let t=0;t<this.triggers.length;t++){const n=this.triggers[t];if(n.id&&null!=this.ng[n.id]){const t=this.ng[n.id],a=[];for(let i=0;i<t.length;i++){const r=t[i],c=n.ud(r.Hr||0);if(c>0){let t,i;a.push(r),null!=r.ug&&(t=r.ug),null!=r.dg&&o.A.RE(r.dg)&&(i=o.A.Rn(r.dg));const u=[];if(r.pg&&(0,l.cy)(r.pg))for(let t=0;t<r.pg.length;t++){const e=s[r.pg[t]];null!=e&&u.push(e)}this.eg.push(window.setTimeout(e(n,r.Hr||0,t,i,u),c))}}this.ng[n.id].length>a.length&&(this.ng[n.id]=a,i=!0,0===this.ng[n.id].length&&delete this.ng[n.id])}}i&&this.C&&this.C.Bt(c.d.gt.iE,this.ng)}mg(){if(!this.C)return;const t=[];for(let e=0;e<this.triggers.length;e++)t.push(this.triggers[e].bt());this.lg=(new Date).valueOf(),this.C.Bt(c.d.gt.rE,t),this.C.Bt(c.d.gt.oE,this.lg)}bg(){this.C&&((this.C.ft(c.d.gt.oE)||0)>this.lg?this.ag():this.fg())}U(t){let e=!1;if(null!=t&&t.triggers){this.ig.Yr(),this.fg();const s={},i={};this.triggers=[];for(let n=0;n<t.triggers.length;n++){const a=h.A.fromJson(t.triggers[n]);if(a){a.id&&null!=this.og[a.id]&&(a.ad(this.og[a.id]),s[a.id]=this.og[a.id]),a.id&&null!=this.ng[a.id]&&(i[a.id]=this.ng[a.id]);for(let t=0;t<a.sd.length;t++)if(a.sd[t]._c(d.A.As,null)){e=!0;break}this.triggers.push(a)}}(0,l.n4)(this.og,s)||(this.og=s,this.C&&this.C.Bt(c.d.gt.nE,this.og)),(0,l.n4)(this.ng,i)||(this.ng=i,this.C&&this.C.Bt(c.d.gt.iE,this.ng)),this.mg(),e&&(p.A.info("Trigger with test condition found, firing test."),this.Ce(d.A.As)),this.Ce(d.A.OPEN);const n=this.sg;let a;this.sg=[];for(let t=0;t<n.length;t++)a=Array.prototype.slice.call(n[t]),this.Ce(...a)}}cg(t,e,s,i,n){const a=i=>{this.fg();const n=(new Date).valueOf();t.dd(e)||(!1===navigator.onLine&&t.type===h.A.Or.Cr&&i.imageUrl?p.A.info(`Not showing ${t.type} trigger action ${t.id} due to offline state.`):t.nd(n)&&this.wg(t,n,s)?0===this.Ts.hc()?p.A.info(`Not displaying trigger ${t.id} because neither automaticallyShowInAppMessages() nor subscribeToInAppMessage() were called.`):(this.Ts.X([i]),this.yg(t,n)):p.A.info(`Not displaying trigger ${t.id} because display time fell outside of the acceptable time window.`))},o=()=>{this.fg();const a=n.pop();if(null!=a)if(this.Tg(a,e,s,i,n),a.dd(e)){let t=`Server aborted in-app message display, but the timeout on fallback trigger ${a.id} has already elapsed.`;n.length>0&&(t+=" Continuing to fall back."),p.A.info(t),o()}else{p.A.info(`Server aborted in-app message display. Falling back to lower priority ${a.type} trigger action ${t.id}.`);const r=1e3*a.ed-((new Date).valueOf()-e);r>0?this.eg.push(window.setTimeout((()=>{this.cg(a,e,s,i,n)}),r)):this.cg(a,e,s,i,n)}};let l,c,d;switch(t.type){case h.A.Or.Cr:if(l=(0,r.g)(t.data),null==l){p.A.error(`Could not parse trigger data for trigger ${t.id}, ignoring.`);break}if(c=this.ig.Ir(l),c){p.A.error(c),o();break}a(l);break;case h.A.Or.md:if(d=u.fromJson(t.data,a,o,e,t.Jr||0),null==d){p.A.error(`Could not parse trigger data for trigger ${t.id}, ignoring.`);break}this.ig.qr(d,s,i);break;default:p.A.error(`Trigger ${t.id} was of unexpected type ${t.type}, ignoring.`)}}Ce(t,e=null,s){if(!(0,l.BY)(d.A,t,"Cannot fire trigger action.","TriggerEvents"))return;if(this.Fi&&this.Fi.dc())return p.A.info("Trigger sync is currently in progress, awaiting sync completion before firing trigger event."),void this.sg.push(arguments);this.bg();const i=(new Date).valueOf(),n=i-(this.hg||0);let a=!0,r=!0;const o=[];for(let s=0;s<this.triggers.length;s++){const n=this.triggers[s],l=i+1e3*n.ed;if(n.nd(l)&&(null==n.startTime||n.startTime.valueOf()<=i)&&(null==n.endTime||n.endTime.valueOf()>=i)){let s=!1;for(let i=0;i<n.sd.length;i++)if(n.sd[i]._c(t,e)){s=!0;break}s&&(a=!1,this.wg(n,l,t)&&(r=!1,o.push(n)))}}if(a)return void p.A.info(`Trigger event ${t} did not match any trigger conditions.`);if(r)return void p.A.info(`Ignoring ${t} trigger event because a trigger was displayed ${n/1e3}s ago.`);o.sort(((t,e)=>t.priority-e.priority));const c=o.pop();null!=c&&(p.A.info(`Firing ${c.type} trigger action ${c.id} from trigger event ${t}.`),this.Tg(c,i,t,s,o),0===c.ed?this.cg(c,i,t,s,o):this.eg.push(window.setTimeout((()=>{this.cg(c,i,t,s,o)}),1e3*c.ed)))}changeUser(t=!1){if(this.triggers=[],this.C&&this.C.Ut(c.d.gt.rE),!t){this.sg=[],this.hg=null,this.og={},this.ng={};for(let t=0;t<this.eg.length;t++)clearTimeout(this.eg[t]);this.eg=[],this.C&&(this.C.Ut(c.d.gt.aE),this.C.Ut(c.d.gt.nE),this.C.Ut(c.d.gt.iE))}}clearData(){this.triggers=[],this.hg=null,this.og={},this.ng={};for(let t=0;t<this.eg.length;t++)clearTimeout(this.eg[t]);this.eg=[]}wg(t,e,s){if(null==this.hg)return!0;if(s===d.A.As)return p.A.info("Ignoring minimum interval between trigger because it is a test type."),!0;let i=t.hd;return null==i&&(i=this.tg),e-this.hg>=1e3*i}Tg(t,e,s,i,n){this.fg(),t.id&&(this.ng[t.id]=this.ng[t.id]||[]);const a={};let r;a.Hr=e,a.ug=s,null!=i&&(r=i.bt()),a.dg=r;const o=[];for(const t of n)t.id&&o.push(t.id);a.pg=o,t.id&&this.ng[t.id].push(a),this.C&&this.C.Bt(c.d.gt.iE,this.ng)}yg(t,e){this.fg(),t.ad(e),this.hg=e,t.id&&(this.og[t.id]=e),this.C&&(this.C.Bt(c.d.gt.aE,e),this.C.Bt(c.d.gt.nE,this.og))}}const g={l:!1,provider:null,m:()=>(g.p(),g.provider||g.rg(),g.provider),rg:()=>{if(!g.provider){const t=n.Ay.ee(n.lw.Xh);g.provider=new b(null!=t?t:30,i.A.ea().Oi(),n.Ay.j(),n.Ay.rn(),i.A.ea()),n.Ay._(g.provider)}},p:()=>{g.l||(g.rg(),n.Ay.h(g),g.l=!0)},destroy:()=>{g.provider=null,g.l=!1}}},rvbG:(t,e,s)=>{s.d(e,{A:()=>i});class i{constructor(t,e){this.triggerId=t,this.messageExtras=e,this.triggerId=t,this.messageExtras=e,this.extras={},this.isControl=!0,this.Ht=!1}static fromJson(t){return new i(t.trigger_id,t.message_extras)}_t(){return!this.Ht&&(this.Ht=!0,!0)}Bo(){return this.Ht}}},u56O:(t,e,s)=>{s.d(e,{A:()=>a});var i=s("LbZy"),n=s("zxwP");class a extends i.A{constructor(t,e,s,n,a,r,o,l,c,u,h,d,p,b,g,f,m,A,v,y,w,x){f=f||i.A.th.Mh,g=g||i.A.th.Rh,super(t,e=e||i.A.TextAlignment.START,s,n,a,r,o,l,c,u,h,d,void 0,p,b,g,f,m,A,v,void 0,void 0,void 0,void 0,void 0,void 0,void 0,y,w,x),this.$o=i.A.TextAlignment.START}vo(){return!1}zo(){const t=document.createElement("span");return t.appendChild(document.createTextNode(this.message||"")),t}Ah(t){const e=t.getElementsByClassName("ab-in-app-message")[0];n.e0.Ho(e,!0,!0)||(this.slideFrom===i.A.SlideFrom.TOP?e.style.top="0px":e.style.bottom="0px"),super.Ah(t)}bt(){return super.bt(a.cs)}static Qr(t){return new a(t[i.A.es.ra],t[i.A.es.sa],t[i.A.es.Sh],t[i.A.es.qs],t[i.A.es.ta],t[i.A.es.ia],t[i.A.es.URI],t[i.A.es.oa],t[i.A.es.pa],t[i.A.es.ma],t[i.A.es.na],t[i.A.es.ls],t[i.A.es.ca],t[i.A.es.fa],t[i.A.es.da],t[i.A.es.la],t[i.A.es.ga],t[i.A.es.ja],t[i.A.es.xa],t[i.A.es.ka],t[i.A.es.CSS],t[i.A.es.qa])}}a.cs=i.A.bo.Wr},uogo:(t,e,s)=>{s.d(e,{A:()=>c});var i=s("F7/r"),n=s("fXrE"),a=s("cqms");const r={en:{NO_CARDS_MESSAGE:"We have no updates for you at this time.<br/>Please check again later.",FEED_TIMEOUT_MESSAGE:"Sorry, this refresh timed out.<br/>Please try again later."},ar:{NO_CARDS_MESSAGE:"ليس لدينا أي تحديث. يرجى التحقق مرة أخرى لاحقاً",FEED_TIMEOUT_MESSAGE:"يرجى تكرار المحاولة لاحقا"},cs:{NO_CARDS_MESSAGE:"V tuto chvíli pro vás nemáme žádné aktualizace.<br/>Zkontrolujte prosím znovu později.",FEED_TIMEOUT_MESSAGE:"Prosím zkuste to znovu později."},da:{NO_CARDS_MESSAGE:"Vi har ingen updates.<br/>Prøv venligst senere.",FEED_TIMEOUT_MESSAGE:"Prøv venligst senere."},de:{NO_CARDS_MESSAGE:"Derzeit sind keine Updates verfügbar.<br/>Bitte später noch einmal versuchen.",FEED_TIMEOUT_MESSAGE:"Bitte später noch einmal versuchen."},es:{NO_CARDS_MESSAGE:"No tenemos actualizaciones.<br/>Por favor compruébelo más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor inténtelo más tarde."},"es-mx":{NO_CARDS_MESSAGE:"No tenemos ninguna actualización.<br/>Vuelva a verificar más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, vuelva a intentarlo más tarde."},et:{NO_CARDS_MESSAGE:"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.",FEED_TIMEOUT_MESSAGE:"Palun proovige hiljem uuesti."},fi:{NO_CARDS_MESSAGE:"Päivityksiä ei ole saatavilla.<br/>Tarkista myöhemmin uudelleen.",FEED_TIMEOUT_MESSAGE:"Yritä myöhemmin uudelleen."},fr:{NO_CARDS_MESSAGE:"Aucune mise à jour disponible.<br/>Veuillez vérifier ultérieurement.",FEED_TIMEOUT_MESSAGE:"Veuillez réessayer ultérieurement."},he:{NO_CARDS_MESSAGE:".אין לנו עדכונים. בבקשה בדוק שוב בקרוב",FEED_TIMEOUT_MESSAGE:".בבקשה נסה שוב בקרוב"},hi:{NO_CARDS_MESSAGE:"हमारे पास कोई अपडेट नहीं हैं। कृपया बाद में फिर से जाँच करें.।",FEED_TIMEOUT_MESSAGE:"कृपया बाद में दोबारा प्रयास करें।."},id:{NO_CARDS_MESSAGE:"Kami tidak memiliki pembaruan. Coba lagi nanti.",FEED_TIMEOUT_MESSAGE:"Coba lagi nanti."},it:{NO_CARDS_MESSAGE:"Non ci sono aggiornamenti.<br/>Ricontrollare più tardi.",FEED_TIMEOUT_MESSAGE:"Riprovare più tardi."},ja:{NO_CARDS_MESSAGE:"アップデートはありません。<br/>後でもう一度確認してください。",FEED_TIMEOUT_MESSAGE:"後でもう一度試してください。"},ko:{NO_CARDS_MESSAGE:"업데이트가 없습니다. 다음에 다시 확인해 주십시오.",FEED_TIMEOUT_MESSAGE:"나중에 다시 시도해 주십시오."},ms:{NO_CARDS_MESSAGE:"Tiada kemas kini. Sila periksa kemudian.",FEED_TIMEOUT_MESSAGE:"Sila cuba kemudian."},nl:{NO_CARDS_MESSAGE:"Er zijn geen updates.<br/>Probeer het later opnieuw.",FEED_TIMEOUT_MESSAGE:"Probeer het later opnieuw."},no:{NO_CARDS_MESSAGE:"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.",FEED_TIMEOUT_MESSAGE:"Vennligst prøv igjen senere."},pl:{NO_CARDS_MESSAGE:"Brak aktualizacji.<br/>Proszę sprawdzić ponownie później.",FEED_TIMEOUT_MESSAGE:"Proszę spróbować ponownie później."},pt:{NO_CARDS_MESSAGE:"Não temos atualizações.<br/>Por favor, verifique mais tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, tente mais tarde."},"pt-br":{NO_CARDS_MESSAGE:"Não temos nenhuma atualização.<br/>Verifique novamente mais tarde.",FEED_TIMEOUT_MESSAGE:"Tente novamente mais tarde."},ru:{NO_CARDS_MESSAGE:"Обновления недоступны.<br/>Пожалуйста, проверьте снова позже.",FEED_TIMEOUT_MESSAGE:"Пожалуйста, повторите попытку позже."},sv:{NO_CARDS_MESSAGE:"Det finns inga uppdateringar.<br/>Försök igen senare.",FEED_TIMEOUT_MESSAGE:"Försök igen senare."},th:{NO_CARDS_MESSAGE:"เราไม่มีการอัพเดต กรุณาตรวจสอบภายหลัง.",FEED_TIMEOUT_MESSAGE:"กรุณาลองใหม่ภายหลัง."},uk:{NO_CARDS_MESSAGE:"Оновлення недоступні.<br/>ласка, перевірте знову пізніше.",FEED_TIMEOUT_MESSAGE:"Будь ласка, спробуйте ще раз пізніше."},vi:{NO_CARDS_MESSAGE:"Chúng tôi không có cập nhật nào.<br/>Vui lòng kiểm tra lại sau.",FEED_TIMEOUT_MESSAGE:"Vui lòng thử lại sau."},"zh-hk":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},"zh-hans":{NO_CARDS_MESSAGE:"暂时没有更新.<br/>请稍后再试.",FEED_TIMEOUT_MESSAGE:"请稍候再试."},"zh-hant":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},"zh-tw":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},zh:{NO_CARDS_MESSAGE:"暂时没有更新.<br/>请稍后再试.",FEED_TIMEOUT_MESSAGE:"请稍候再试."}};class o{constructor(t,e=!1){if(this.language=t,null!=t&&(t=t.toLowerCase()),null!=t&&null==r[t]){const e=t.indexOf("-");e>0&&(t=t.substring(0,e))}if(null==r[t]){const s="Braze does not yet have a localization for language "+t+", defaulting to English. Please contact us if you are willing and able to help us translate our SDK into this language.";e?a.A.error(s):a.A.info(s),t="en"}this.language=t}get(t){return r[this.language][t]}Oo(){switch(this.language){case"ar":case"he":case"fa":return"rtl";default:return"ltr"}}}const l={l:!1,aa:null,ea:()=>{if(l.p(),!l.aa){let t=n.A.language,e=!1;i.Ay.ee(i.lw.Zn)&&(t=i.Ay.ee(i.lw.Zn),e=!0),l.aa=new o(t,e)}return l.aa},p:()=>{l.l||(i.Ay.h(l),l.l=!0)},destroy:()=>{l.aa=null,l.l=!1}},c=l},vRYs:(t,e,s)=>{s.d(e,{A:()=>i});class i{constructor(t,e){this.database=t,this.vd=e,this.parent="undefined"==typeof window?self:window,this.database=t,this.vd=e}Dd(){if("indexedDB"in this.parent)return this.parent.indexedDB}isSupported(){var t;try{if(null==this.Dd())return!1;{const e=null===(t=this.Dd())||void 0===t?void 0:t.open("Braze IndexedDB Support Test");if(e&&(e.onupgradeneeded=()=>e.result.close(),e.onsuccess=()=>e.result.close()),"undefined"!=typeof window){const t=window,e=t.chrome||t.browser||t.pd;if(e&&e.runtime&&e.runtime.id)return this.vd.info("Not using IndexedDB for storage because we are running inside an extension"),!1}return!0}}catch(t){return this.vd.info("Not using IndexedDB for storage due to following error: "+t),!1}}Bd(t,e){var s;const i=null===(s=this.Dd())||void 0===s?void 0:s.open(this.database.Sd,this.database.VERSION);if(null==i)return"function"==typeof e&&e(),!1;const n=this;return i.onupgradeneeded=t=>{var e;n.vd.info("Upgrading indexedDB "+n.database.Sd+" to v"+n.database.VERSION+"...");const s=null===(e=t.target)||void 0===e?void 0:e.result;for(const t in n.database.Ms){const e=t;n.database.Ms.hasOwnProperty(t)&&!s.objectStoreNames.contains(n.database.Ms[e])&&s.createObjectStore(n.database.Ms[e])}},i.onsuccess=s=>{var i;const a=null===(i=s.target)||void 0===i?void 0:i.result;a.onversionchange=()=>{a.close(),"function"==typeof e&&e(),n.vd.error("Needed to close the database unexpectedly because of an upgrade in another tab")},t(a)},i.onerror=t=>{var s;const i=t;return n.vd.info("Could not open indexedDB "+n.database.Sd+" v"+n.database.VERSION+": "+(null===(s=i.target)||void 0===s?void 0:s.errorCode)),"function"==typeof e&&e(),!0},!0}setItem(t,e,s,i,n){if(!this.isSupported())return"function"==typeof n&&n(),!1;const a=this;return this.Bd((r=>{if(!r.objectStoreNames.contains(t))return a.vd.error("Could not store object "+e+" in "+t+" on indexedDB "+a.database.Sd+" - "+t+" is not a valid objectStore"),"function"==typeof n&&n(),void r.close();const o=r.transaction([t],"readwrite");o.oncomplete=()=>r.close();const l=o.objectStore(t).put(s,e);l.onerror=()=>{a.vd.error("Could not store object "+e+" in "+t+" on indexedDB "+a.database.Sd),"function"==typeof n&&n()},l.onsuccess=()=>{"function"==typeof i&&i()}}),n)}getItem(t,e,s){if(!this.isSupported())return!1;const i=this;return this.Bd((n=>{if(!n.objectStoreNames.contains(t))return i.vd.error("Could not retrieve object "+e+" in "+t+" on indexedDB "+i.database.Sd+" - "+t+" is not a valid objectStore"),void n.close();const a=n.transaction([t],"readonly");a.oncomplete=()=>n.close();const r=a.objectStore(t).get(e);r.onerror=()=>{i.vd.error("Could not retrieve object "+e+" in "+t+" on indexedDB "+i.database.Sd)},r.onsuccess=t=>{var e;const i=null===(e=t.target)||void 0===e?void 0:e.result;null!=i&&s(i)}}))}cr(t,e,s){if(!this.isSupported())return"function"==typeof s&&s(),!1;const i=this;return this.Bd((n=>{if(!n.objectStoreNames.contains(t))return i.vd.error("Could not retrieve last record from "+t+" on indexedDB "+i.database.Sd+" - "+t+" is not a valid objectStore"),"function"==typeof s&&s(),void n.close();const a=n.transaction([t],"readonly");a.oncomplete=()=>n.close();const r=a.objectStore(t).openCursor(null,"prev");r.onerror=()=>{i.vd.error("Could not open cursor for "+t+" on indexedDB "+i.database.Sd),"function"==typeof s&&s()},r.onsuccess=t=>{var i;const n=null===(i=t.target)||void 0===i?void 0:i.result;null!=n&&null!=n.value&&null!=n.key?e(n.key,n.value):"function"==typeof s&&s()}}),s)}ge(t,e){if(!this.isSupported())return!1;const s=this;return this.Bd((i=>{if(!i.objectStoreNames.contains(t))return s.vd.error("Could not delete record "+e+" from "+t+" on indexedDB "+s.database.Sd+" - "+t+" is not a valid objectStore"),void i.close();const n=i.transaction([t],"readwrite");n.oncomplete=()=>i.close(),n.objectStore(t).delete(e).onerror=()=>{s.vd.error("Could not delete record "+e+" from "+t+" on indexedDB "+s.database.Sd)}}))}Ns(t,e){if(!this.isSupported())return!1;const s=this;return this.Bd((i=>{if(!i.objectStoreNames.contains(t))return s.vd.error("Could not retrieve objects from "+t+" on indexedDB "+s.database.Sd+" - "+t+" is not a valid objectStore"),void i.close();const n=i.transaction([t],"readwrite");n.oncomplete=()=>i.close();const a=n.objectStore(t),r=a.openCursor(),o=[];r.onerror=()=>{o.length>0?(s.vd.info("Cursor closed midway through for "+t+" on indexedDB "+s.database.Sd),e(o)):s.vd.error("Could not open cursor for "+t+" on indexedDB "+s.database.Sd)},r.onsuccess=t=>{var s;const i=null===(s=t.target)||void 0===s?void 0:s.result;null!=i?(null!=i.value&&null!=i.key&&(a.delete(i.key).onsuccess=()=>{o.push(i.value)}),"function"==typeof i.continue&&i.continue()):o.length>0&&e(o)}}))}clearData(){if(!this.isSupported())return!1;const t=[];for(const e in this.database.Ms){const s=e;this.database.Ms.hasOwnProperty(e)&&this.database.Ms[s]!==this.database.Ms.pe&&t.push(this.database.Ms[s])}const e=this;return this.Bd((function(s){const i=s.transaction(t,"readwrite");i.oncomplete=()=>s.close();for(let s=0;s<t.length;s++){const n=t[s];i.objectStore(n).clear().onerror=function(){e.vd.error("Could not clear "+this.source.name+" on indexedDB "+e.database.Sd)}}i.onerror=function(){e.vd.error("Could not clear object stores on indexedDB "+e.database.Sd)}}))}}i.Ls={Fs:{Sd:"AppboyServiceWorkerAsyncStorage",VERSION:6,Ms:{Nu:"data",jr:"pushClicks",cu:"pushSubscribed",Cd:"fallbackDevice",Js:"cardUpdates",pe:"optOut",kr:"pendingData",yh:"sdkAuthenticationSignature"},be:1}}},vfwm:(t,e,s)=>{s.d(e,{A:()=>n});var i=s("muIz");class n extends i.A{constructor(t,e,s,i,n,a){super(t,e,null,null,null,null,s,null,i,null,null,null,n,a),this.isControl=!0,this.oe="ab-control-card",this.ae=!1}bt(){const t={};return t[i.A.es.hs]=i.A.cs.ci,t[i.A.es.ds]=this.id,t[i.A.es.ps]=this.viewed,t[i.A.es.xs]=this.updated,t[i.A.es.js]=this.expiresAt,t[i.A.es.qs]=this.extras,t[i.A.es.vs]=this.pinned,t[i.A.es.As]=this.test,t}}},vrNg:(t,e,s)=>{s.d(e,{f:()=>l});var i=s("F7/r"),n=s("cqms"),a=s("vRYs"),r=s("87bj"),o=s("rv22");function l(){if(!i.Ay.rr())return;const t=i.Ay.rn();if(!t)return;t.openSession();const e=a.A.Ls.Fs,s=new a.A(e,n.A);s.cr(e.Ms.jr,((i,a)=>{const l=a.lastClick,c=a.trackingString;n.A.info(`Firing push click trigger from ${c} push click at ${l}`);const u=t.lr(l,c),h=function(){o.B.m().Ce(r.A.hr,[c],u)};t.br(h,h),s.ge(e.Ms.jr,i)})),s.Ns(e.Ms.kr,(function(e){t.vr(e)}))}},w7bV:(t,e,s)=>{s.d(e,{A:()=>i});class i{constructor(){}U(t){}changeUser(t=!1){}clearData(t=!1){}}},wzJC:(t,e,s)=>{s.d(e,{j:()=>n,w:()=>i});const i={CustomEvent:"ce",Pr:"p",wc:"pc",Ac:"ca",Su:"i",qu:"ie",ts:"cci",rs:"ccic",Mt:"ccc",Wt:"ccd",Fl:"ss",Dl:"se",Ki:"si",Li:"sc",Qi:"sbc",Mc:"sfe",Do:"iec",bc:"lr",vc:"uae",ss:"ci",Ot:"cc",Sc:"lcaa",yc:"lcar",Hn:"inc",On:"add",Gn:"rem",$n:"set",Bn:"ncam",jc:"sgu",yr:"ffi",ro:"bi",ct:"bc"},n={Fr:"feed_displayed",Dc:"content_cards_displayed"}},wzQJ:(t,e,s)=>{s.d(e,{a:()=>n});var i=s("F7/r");function n(t){i.Ay.rr()&&i.Ay.removeSubscription(t)}},x6Ot:(t,e,s)=>{s.d(e,{ID:()=>y,Nc:()=>C,Ql:()=>A,UH:()=>x,Y9:()=>E,Z7:()=>S,kz:()=>k});var i=s("15I7"),n=s("zW8y"),a=s("zxwP"),r=s("muIz"),o=s("vfwm"),l=s("azH7"),c=s("KiAB"),u=s("uogo"),h=s("wzQJ"),d=s("cqms"),p=s("HXl4"),b=s("TnFm"),g=s("l6Yh"),f=s("G8bm"),m=s("FggB");const A="data-last-requested-refresh",v={};function y(t){t&&(t.className=t.className.replace("ab-show","ab-hide"),setTimeout((()=>{t&&t.parentNode&&t.parentNode.removeChild(t)}),i.A.Ih));const e=t.getAttribute(m.og);null!=e&&(0,h.a)(e);const s=t.getAttribute("data-listener-id");null!=s&&(window.removeEventListener("scroll",v[s]),delete v[s])}function w(t,e){const s=u.A.ea(),i=document.createElement("div");if(i.className="ab-feed-body",i.setAttribute("aria-label","Feed"),i.setAttribute("role","feed"),null==t.lastUpdated){const t=document.createElement("div");t.className="ab-no-cards-message";const e=document.createElement("i");e.className="fa fa-spinner fa-spin fa-4x ab-initial-spinner",t.appendChild(e),i.appendChild(t)}else{let a=!1;const r=e=>t.logCardClick(e);for(const l of t.cards){const c=l instanceof o.A;!c||t.nr()?(i.appendChild((0,n.ZZ)(l,r,e,s.Oo())),a=a||!c):d.A.error("Received a control card for a legacy news feed. Control cards are only supported with content cards.")}if(!a){const t=document.createElement("div");t.className="ab-no-cards-message",t.innerHTML=s.get("NO_CARDS_MESSAGE")||"",t.setAttribute("role","article"),i.appendChild(t)}}return i}function x(t,e){if(null!=t&&null!=e){const s=[],i=e.querySelectorAll(".ab-card");t._o||(t._o={});for(let e=0;e<i.length;e++){const r=(0,n.O_)(i[e]),o=(0,a.Kz)(i[e]),l=(0,a.K)(i[e]);if(t._o[r]){o||l||(0,n.GH)(i[e]);continue}let c=(0,f.sf)(i[e]),u=(0,f.M_)(i[e]);const h=c,d=u;if(!c&&o&&(c=!0,(0,f.M4)(i[e])),!u&&l&&(u=!0,(0,f.MX)(i[e])),c&&u){if(h&&d)continue;for(const e of t.cards)if(e.id===r){t._o[e.id]=!0,s.push(e);break}}}s.length>0&&t.logCardImpressions(s)}}function E(t,e){if(null==t||null==e)return;e.setAttribute("aria-busy","true");const s=e.querySelectorAll(".ab-refresh-button")[0];null!=s&&(s.className+=" fa-spin");const n=(new Date).valueOf().toString();e.setAttribute("data-last-requested-refresh",n),setTimeout((()=>{if(e.getAttribute("data-last-requested-refresh")===n){const t=e.querySelectorAll(".fa-spin");for(let e=0;e<t.length;e++)t[e].className=t[e].className.replace(/fa-spin/g,"");const s=e.querySelectorAll(".ab-initial-spinner")[0];if(null!=s){const t=document.createElement("span");t.innerHTML=u.A.ea().get("FEED_TIMEOUT_MESSAGE")||"",null!=s.parentNode&&(s.parentNode.appendChild(t),s.parentNode.removeChild(s))}"true"===e.getAttribute("aria-busy")&&e.setAttribute("aria-busy","false")}}),i.A.Ro),t.sr()}function C(t,e,s){const i=document.createElement("div");i.className="ab-feed ab-hide ab-effect-slide",i.setAttribute("role","dialog"),i.setAttribute("aria-label","Feed"),i.setAttribute("tabindex","-1");const n=document.createElement("div");n.className="ab-feed-buttons-wrapper",n.setAttribute("role","group"),i.appendChild(n);const a=document.createElement("i");a.className="fa fa-times ab-close-button",a.setAttribute("aria-label","Close Feed"),a.setAttribute("tabindex","0"),a.setAttribute("role","button");const r=t=>{y(i),t.stopPropagation()};a.addEventListener("keydown",(t=>{t.keyCode!==c.c.Wo&&t.keyCode!==c.c.Xo||r(t)})),a.onclick=r;const o=document.createElement("i");o.className="fa fa-refresh ab-refresh-button",t&&null==t.lastUpdated&&(o.className+=" fa-spin"),o.setAttribute("aria-label","Refresh Feed"),o.setAttribute("tabindex","0"),o.setAttribute("role","button");const l=e=>{E(t,i),e.stopPropagation()};o.addEventListener("keydown",(t=>{t.keyCode!==c.c.Wo&&t.keyCode!==c.c.Xo||l(t)})),o.onclick=l,n.appendChild(o),n.appendChild(a),i.appendChild(w(t,e));const u=()=>x(t,i);if(i.addEventListener("scroll",u),!s){window.addEventListener("scroll",u);const t=p.A.ce();v[t]=u,i.setAttribute("data-listener-id",t)}return i}function S(t,e,s,i,n){if(!(0,l.cy)(e))return;const a=[];for(const t of e)if(t instanceof r.A){if(t.url&&b.nx.test(t.url)){const e=(0,g.jj)(t.url);if((0,g.qj)(e)){d.A.error((0,g.$6)(g.mY.Mr,"Content Card"));continue}}a.push(t)}if(t.cards=a,t.lastUpdated=s,null!=i)if(i.setAttribute("aria-busy","false"),null==t.lastUpdated)y(i);else{const e=i.querySelectorAll(".ab-feed-body")[0];if(null!=e){const s=w(t,n);e.parentNode&&e.parentNode.replaceChild(s,e),x(t,s.parentNode)}}}function k(t,e){t&&e.setAttribute(m.og,t)}},xAw5:(t,e,s)=>{s.d(e,{h:()=>u});var i=s("F7/r"),n=s("I0nJ"),a=s("D1mP"),r=s("cqms"),o=s("wzJC"),l=s("87bj"),c=s("rv22");function u(t,e,s){if(!i.Ay.rr())return!1;if(!(t instanceof n.A))return r.A.error("inAppMessage argument to logInAppMessageHtmlClick must be an HtmlMessage object."),!1;let u=o.w.Li;null!=e&&(u=o.w.Qi);const h=a.A.ea().ut(t,u,e,s);if(h.tt)for(let s=0;s<h.$e.length;s++)c.B.m().Ce(l.A.Zr,[t.triggerId,e],h.$e[s]);return h.tt}},xLK9:(t,e,s)=>{s.r(e),s.d(e,{logPurchase:()=>h});var i=s("F7/r"),n=s("FggB"),a=s("cqms"),r=s("wzJC"),o=s("87bj"),l=s("rv22"),c=s("TnFm"),u=s("Z43y");function h(t,e,s,h,d){if(!i.Ay.rr())return!1;if(null==s&&(s="USD"),null==h&&(h=1),null==t||t.length<=0)return a.A.error(`logPurchase requires a non-empty productId, got "${t}", ignoring.`),!1;if(!(0,c.Dz)(t,"log purchase","the purchase name"))return!1;if(null==e||isNaN(parseFloat(e.toString())))return a.A.error(`logPurchase requires a numeric price, got ${e}, ignoring.`),!1;const p=parseFloat(e.toString()).toFixed(2);if(null==h||isNaN(parseInt(h.toString())))return a.A.error(`logPurchase requires an integer quantity, got ${h}, ignoring.`),!1;const b=parseInt(h.toString());if(b<1||b>n.$k)return a.A.error(`logPurchase requires a quantity >1 and <${n.$k}, got ${b}, ignoring.`),!1;if(s=null!=s?s.toUpperCase():s,-1===["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYR","BZD","CAD","CDF","CHF","CLF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MTL","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMK","ZMW","ZWL"].indexOf(s))return a.A.error(`logPurchase requires a valid currencyCode, got ${s}, ignoring.`),!1;const[g,f]=(0,c.fB)(d,"logPurchase","purchaseProperties",`log purchase "${t}"`,"purchase");if(!g)return!1;const m=i.Ay.v();if(m&&m.Dr(t))return a.A.info(`Purchase "${t}" is blocklisted, ignoring.`),!1;const A=u.A.ut(r.w.Pr,{pid:t,c:s,p,q:b,pr:f});if(A.tt){a.A.info(`Logged ${b} purchase${b>1?"s":""} of "${t}" for ${s} ${p}.`);for(const e of A.$e)l.B.m().Ce(o.A.Rr,[t,d],e)}return A.tt}},xoq4:(t,e,s)=>{s.d(e,{j3:()=>i,uD:()=>n});const i={PORTRAIT:0,LANDSCAPE:1},n={openUri:function(t,e,s){t&&(e||null!=s&&s.metaKey?window.open(t):window.location=t)},Uo:function(){return screen.width<=600},No:function(){if("orientation"in window)return 90===Math.abs(window.orientation)||270===window.orientation?i.LANDSCAPE:i.PORTRAIT;const t=window;if("screen"in t){let e=t.screen.orientation||screen.mozOrientation||screen.msOrientation;return null!=e&&"object"==typeof e&&(e=e.type),"landscape-primary"===e||"landscape-secondary"===e?i.LANDSCAPE:i.PORTRAIT}return i.PORTRAIT},$a:function(){return window.location.href}}},yBih:(t,e,s)=>{s.d(e,{A:()=>a});var i=s("LbZy"),n=s("TdiU");class a{constructor(t,e,s,r,o,l,c){this.text=t,this.backgroundColor=e,this.textColor=s,this.borderColor=r,this.clickAction=o,this.uri=l,this.id=c,this.text=t||"",this.backgroundColor=e||i.A.th.sh,this.textColor=s||i.A.th.ih,this.borderColor=r||this.backgroundColor,this.clickAction=o||i.A.ClickAction.NONE,this.uri=l,null==c&&(c=a.Yi),this.id=c,this.So=!1,this.ti=new n.A}subscribeToClickedEvent(t){return this.ti.Dt(t)}removeSubscription(t){this.ti.removeSubscription(t)}removeAllSubscriptions(){this.ti.removeAllSubscriptions()}$t(){return!this.So&&(this.So=!0,this.ti.X(),!0)}static fromJson(t){return new a(t.text,t.bg_color,t.text_color,t.border_color,t.click_action,t.uri,t.id)}}a.Yi=-1},ykN8:(t,e,s)=>{s.r(e),s.d(e,{unregisterPush:()=>a});var i=s("F7/r"),n=s("oBfN");function a(t,e){if(i.Ay.rr())return n.default.ea().unsubscribe(t,e)}},zW8y:(t,e,s)=>{s.d(e,{GH:()=>l,O_:()=>c,ZZ:()=>h,cM:()=>u});var i=s("L0Yc"),n=s("zxwP"),a=s("iXlr"),r=s("okAa"),o=s("HXl4");function l(t){if(null!=t){const e=t.querySelectorAll(".ab-unread-indicator")[0];null!=e&&(e.className+=" read")}}function c(t){return t.getAttribute("data-ab-card-id")}function u(t,e){const s=e.querySelectorAll(".ab-image-area");let i,n=0;s.length>0&&(n=s[0].offsetWidth);for(const e of t)if(i=e.te,i&&e.imageUrl&&"number"==typeof e.aspectRatio){const t=n/e.aspectRatio;t&&(i.style.height=`${t}px`)}}function h(t,e,s,c="ltr"){const u=document.createElement("div");u.dir=c,u.className="ab-card ab-effect-card "+t.oe,t.id&&(u.setAttribute("data-ab-card-id",t.id),u.setAttribute("id",t.id)),u.setAttribute("role","article"),u.setAttribute("tabindex","0");let h="",d=!1;t.url&&""!==t.url&&(h=t.url,d=!0);const p=i=>(l(u),d&&(e(t),(0,a.U)(h,s,i)),!1);if(t.pinned){const t=document.createElement("div");t.className="ab-pinned-indicator";const e=document.createElement("i");e.className="fa fa-star",t.appendChild(e),u.appendChild(t)}if(t.imageUrl&&""!==t.imageUrl){const e=document.createElement("div");e.dir=c,e.className="ab-image-area";const s=document.createElement("img");if(s.setAttribute("src",t.imageUrl),s.onload=()=>{u.style.height="auto"},function(t,e){let s="";t.title||t.description||(s="Feed Image"),e.setAttribute("alt",s)}(t,s),e.appendChild(s),u.className+=" with-image",d&&!t.ae){const t=document.createElement("a");t.setAttribute("href",h),t.onclick=p,t.appendChild(e),u.appendChild(t)}else u.appendChild(e)}const b=document.createElement("div");if(b.className="ab-card-body",b.dir=c,t.dismissible){t.logCardDismissal=()=>(0,r.a)(t);const e=(0,i.p)("Dismiss Card",void 0,t.dismissCard.bind(t),c);u.appendChild(e),(0,n.sr)(b,n.X.ie,(t=>{u.className+=" ab-swiped-left",e.onclick(t)})),(0,n.sr)(b,n.X.de,(t=>{u.className+=" ab-swiped-right",e.onclick(t)}))}let g="",f=!1;if(t.title&&""!==t.title&&(g=t.title,f=!0),f){const t=document.createElement("h1");if(t.className="ab-title",t.id=o.A.ce(),u.setAttribute("aria-labelledby",t.id),d){const e=document.createElement("a");e.setAttribute("href",h),e.onclick=p,e.appendChild(document.createTextNode(g)),t.appendChild(e)}else t.appendChild(document.createTextNode(g));b.appendChild(t)}const m=document.createElement("div");if(m.className=f?"ab-description":"ab-description ab-no-title",m.id=o.A.ce(),u.setAttribute("aria-describedby",m.id),t.description&&m.appendChild(document.createTextNode(t.description)),d){const e=document.createElement("div");e.className="ab-url-area";const s=document.createElement("a");s.setAttribute("href",h),t.linkText&&s.appendChild(document.createTextNode(t.linkText)),s.onclick=p,e.appendChild(s),m.appendChild(e)}b.appendChild(m),u.appendChild(b);const A=document.createElement("div");return A.className="ab-unread-indicator",t.viewed&&(A.className+=" read"),u.appendChild(A),t.te=u,u}},zxwP:(t,e,s)=>{s.d(e,{CF:()=>o,K:()=>u,Kz:()=>c,P4:()=>l,RJ:()=>p,X:()=>r,e0:()=>a,jp:()=>h,sr:()=>d});var i=s("cqms"),n=s("LltV");const a={Ic:null,Ho:function(t,e=!1,s=!1,i=!1){if(null==t)return!1;e=e||!1,s=s||!1;const n=t.getBoundingClientRect();return null!=n&&(n.top>=0&&n.top<=(window.innerHeight||document.documentElement.clientHeight)||!e)&&(n.left>=0||!i)&&(n.bottom>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)||!s)&&(n.right<=(window.innerWidth||document.documentElement.clientWidth)||!i)}},r={qo:"up",yo:"down",ie:"left",de:"right"};function o(){if(null==a.Ic){a.Ic=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{a.Ic=!0}});window.addEventListener("testPassive",(()=>{}),t),window.removeEventListener("testPassive",(()=>{}),t)}catch(t){i.A.error((0,n.u)(t))}}return a.Ic}function l(t,e,s=(()=>{})){t.addEventListener(e,s,!!o()&&{passive:!0})}function c(t){return a.Ho(t,!0,!1,!1)}function u(t){return a.Ho(t,!1,!0,!1)}function h(t){if(t.onclick){const e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),t.onclick.apply(t,[e])}}function d(t,e,s){let i=null,n=null;l(t,"touchstart",(t=>{i=t.touches[0].clientX,n=t.touches[0].clientY})),l(t,"touchmove",(a=>{if(null==i||null==n)return;const o=i-a.touches[0].clientX,l=n-a.touches[0].clientY;Math.abs(o)>Math.abs(l)&&Math.abs(o)>=25?((o>0&&e===r.ie||o<0&&e===r.de)&&s(a),i=null,n=null):Math.abs(l)>=25&&((l>0&&e===r.qo&&t.scrollTop===t.scrollHeight-t.offsetHeight||l<0&&e===r.yo&&0===t.scrollTop)&&s(a),i=null,n=null)}))}function p(t,e,s){const i="http://www.w3.org/2000/svg",n=document.createElementNS(i,"svg");n.setAttribute("viewBox",t),n.setAttribute("xmlns",i);const a=document.createElementNS(i,"path");return a.setAttribute("d",e),null!=s&&a.setAttribute("fill",s),n.appendChild(a),n}}}]);