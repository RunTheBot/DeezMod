"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[555],{"0JBE":(e,t,n)=>{n.d(t,{OJ:()=>l,S2:()=>a,iQ:()=>i});var r=n("q1tI");const s=(0,r.createContext)({}),l=({value:e,children:t})=>{const n=(0,r.useContext)(s);return r.createElement(s.Provider,{value:{...n,...e}},t)},i=()=>(0,r.useContext)(s);function a(e,t){const n=e.displayName||e.name||"Component",s=n=>r.createElement(l,{value:"function"==typeof t?t(n):t},r.createElement(e,n));return s.displayName=`withBreadcrumb(${n})`,s}},"1j1w":(e,t,n)=>{n.d(t,{A:()=>r});const r={root:"KUMiD"}},"2EvD":(e,t,n)=>{n.d(t,{A:()=>ge});var r,s,l,i=n("q1tI"),a=n("5G9X"),o=n("T0hu"),c=n("3il7"),d=n("tZCQ"),u=n("XOWT"),p=n("oB8A"),m=n("E4MG"),h=n("xOQS"),A=n("Jfek"),E=n("TRpf"),y=n("Wp0Y"),_=n("YG8s"),P=n("eb01"),S=n("kotc"),T=n("6vqc"),g=n("RSbz"),v=n("X5lq"),C=n("pvbU");class k extends i.Component{renderChevron(){return"ltr"===this.props.langDirection?r||(r=i.createElement(T.v,null)):s||(s=i.createElement(g.Y,null))}render(){const{handleClick:e}=this.props;return i.createElement(_.A,{handleClick:()=>{e(C.Q.DESCRIPTION)},closeOnClick:!1},l||(l=i.createElement(P.A,null,i.createElement(v.u,{size:"medium"}))),i.createElement(S.A,{isShort:!0,value:(0,y.AP)("En savoir plus")}),i.createElement(P.A,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}const b=(0,E.Ng)((({user:e})=>({langDirection:e.DIRECTION})))(k);var f,x,I=n("b5Ea"),R=n("RuKb"),D=n("DNpT"),L=n("IZwO"),w=n("7bxg"),N=n("eTJY");class M extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{bookmark:e,id:t,dispatchMarkAsNotPlayed:n,dispatchMarkAsPlayed:r,played:s,type:l}=this.props,i=null===e?void 0:e;s?(0,D.eD)(l,t,i).then((e=>n(e))):(0,D.Nl)(l,t,i).then((e=>r(e)))}render(){const{played:e}=this.props;return e?i.createElement(_.A,{handleClick:this.handleClick},f||(f=i.createElement(P.A,null,i.createElement(w.w,{size:"medium"}))),i.createElement(S.A,{value:(0,y.AP)("contextualmenu_text_markasnotplayed_web")})):i.createElement(_.A,{handleClick:this.handleClick},x||(x=i.createElement(P.A,null,i.createElement(N.S,{size:"medium"}))),i.createElement(S.A,{value:(0,y.AP)("contextualmenu_text_markasplayed_web")}))}}const O={dispatchMarkAsNotPlayed:L.eD,dispatchMarkAsPlayed:L.Nl},F=(0,E.Ng)((({bookmarks:e},t)=>({bookmark:(0,R.v6)(e,t.type,t.id),played:(0,R._l)(e,t.type,t.id)})),O)(M);var Y=n("o/gK"),B=n("rXlm");class W extends i.Component{renderTitle(){const{title:e}=this.props;return e?i.createElement("div",{className:"xjm6K"},e):null}render(){const{handleBackClick:e,text:t}=this.props;return i.createElement(i.Fragment,null,i.createElement(Y.A,{handleClick:e}),i.createElement(B.A,{className:"fpOsM"},i.createElement(i.Fragment,null,this.renderTitle(),i.createElement("div",{className:"yN2Tz","data-testid":"episode-context-menu-description"},t))))}}W.panelName=C.Q.DESCRIPTION;const Q=W;var U=n("uK53"),q=n("QoFi");class H extends i.Component{constructor(e){super(e),this.state={currentPanel:this.props.forceShowDescription?Q.panelName:null},this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this)}hasDescription(){const{data:e,forceShowDescription:t}=this.props;return(0,u.A)(e,"EPISODE_DESCRIPTION")||!0===t}renderDescriptionPanel(){const{data:e}=this.props,{currentPanel:t}=this.state;return this.hasDescription()?i.createElement(q.A,{isVisible:t===Q.panelName},i.createElement(Q,{handleBackClick:this.resetCurrentPanel,text:e.EPISODE_DESCRIPTION||""})):null}renderMainPanel(){return i.createElement(U.A,{isVisible:null===this.state.currentPanel},i.createElement("ul",null,this.renderToggleBookmark(),this.renderShare(),this.renderOpenDescription()))}renderOpenDescription(){return this.hasDescription()?i.createElement("li",null,i.createElement(b,{handleClick:this.updateCurrentPanel})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return i.createElement("li",null,i.createElement(I.A,{context:e,data:t,id:n,type:A.Gb.episode}))}renderToggleBookmark(){const{id:e}=this.props;return i.createElement("li",null,i.createElement(F,{id:e,type:p.x.EPISODE}))}updateCurrentPanel(e){e===Q.panelName?this.setState({currentPanel:e}):this.setState({currentPanel:null})}resetCurrentPanel(){this.setState({currentPanel:null})}render(){return d.A.isAllowed("talk")?i.createElement(m.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel,"data-testid":"episode-context-menu"},this.renderMainPanel(),this.renderDescriptionPanel()):null}}H.defaultProps={forceShowDescription:!1};const X=(0,h.A)(H);var j=n("SrwL"),K=n("zDvJ"),J=n("LpaV");class $ extends i.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,j.uC)()}render(){if(!d.A.isAllowed("talk"))return null;const{anchor:e,context:t,data:n,forceShowDescription:r,id:s,placement:l}=this.props,a=r?j.Zo:"";return i.createElement(J.K.Consumer,null,(o=>{const c=o||this.contextMenuId,d={data:{context:t,data:n,forceShowDescription:r,id:String(s)},hasArrow:!1,placement:l,popperId:`${c}${a}`,trigger:[K.uW,K.h4],usePortal:!0};return i.createElement(X,d,e)}))}}$.defaultProps={forceShowDescription:!1,placement:"left"};const Z=$;var ee=n("4gOi"),te=n("deeu"),ne=n("8I5t");class re extends i.Component{renderPlay(){const{context:e,id:t}=this.props;return i.createElement("li",null,i.createElement(ne.A,{action:te.h.PLAY_RADIO,context:e,ids:[t],type:a.Ay.Radio}))}renderShare(){const{context:e,data:t,id:n}=this.props;return i.createElement("li",null,i.createElement(I.A,{context:e,data:t,id:n,type:A.Gb.radio}))}render(){return i.createElement(m.A,null,i.createElement("ul",null,this.renderPlay(),this.renderShare()))}}const se=(0,h.A)(re);class le extends i.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,j.uC)()}render(){const{anchor:e,context:t,data:n,id:r,placement:s}=this.props;return i.createElement(J.K.Consumer,null,(l=>{const a={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:s,popperId:l||this.contextMenuId,trigger:[K.uW,K.h4],usePortal:!0};return i.createElement(se,a,e)}))}}le.defaultProps={placement:"left"};const ie=le;var ae=n("mXa6");class oe extends i.Component{renderShare(){const{context:e,data:t,id:n}=this.props;return i.createElement("li",null,i.createElement(I.A,{context:e,data:t,id:n,type:A.Gb.show}))}renderToggleFavorite(){const{context:e,id:t}=this.props;return i.createElement("li",null,i.createElement(ae.A,{context:e,id:t,type:a.Ay.Show}))}render(){return d.A.isAllowed("talk")?i.createElement(m.A,null,i.createElement("ul",null,this.renderToggleFavorite(),this.renderShare())):null}}const ce=(0,h.A)(oe);class de extends i.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,j.uC)()}render(){if(!d.A.isAllowed("talk"))return null;const{anchor:e,context:t,data:n,id:r,placement:s}=this.props;return i.createElement(J.K.Consumer,null,(l=>{const a={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:s,popperId:l||this.contextMenuId,trigger:[K.uW,K.h4],usePortal:!0};return i.createElement(ce,a,e)}))}}de.defaultProps={placement:"left"};const ue=de;var pe=n("AfN5"),me=n("odR8"),he=n("Mpuh"),Ae=n("Sq8Y");class Ee extends i.Component{constructor(e){super(e),this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this),this.state={currentPanel:null}}canModifyQueuelist(){const{mediaType:e,playerIsRadio:t}=this.props;return!t&&e===pe.zu.SONG}getIds(){return this.props.data.SONGS.map((e=>e.SNG_ID.toString()))}renderMainPanel(){return i.createElement(U.A,{isVisible:null===this.state.currentPanel},i.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderAddToPlaylist()))}renderPlaylistsPanel(){const{context:e}=this.props,{currentPanel:t}=this.state,n=t===C.Q.PLAYLISTS;return i.createElement(q.A,{isVisible:n},i.createElement(Ae.A,{isVisible:n,context:e,handleBackClick:this.resetCurrentPanel,ids:this.getIds()}))}renderAddToPlaylist(){return i.createElement("li",null,i.createElement(me.A,{handleClick:this.updateCurrentPanel}))}renderAddToQueue(){const{context:e,id:t}=this.props;return this.canModifyQueuelist()?i.createElement("li",null,i.createElement(he.A,{context:e,ids:[t],type:a.Ay.Smarttracklist})):null}renderPlay(){const{context:e,id:t}=this.props;return this.canModifyQueuelist()?i.createElement("li",null,i.createElement(ne.A,{action:te.h.PLAY_NEXT,context:e,ids:[t],type:a.Ay.Smarttracklist})):null}resetCurrentPanel(){this.setState({currentPanel:null})}updateCurrentPanel(e){e===C.Q.PLAYLISTS?this.setState({currentPanel:e}):this.setState({currentPanel:null})}render(){return i.createElement(m.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel())}}const ye=(0,h.A)((0,E.Ng)((({player:e})=>({mediaType:e.music.mediaType,playerIsRadio:e.config.isRadio})))(Ee));class _e extends i.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,j.uC)()}render(){const{anchor:e,context:t,data:n,id:r,placement:s}=this.props;return i.createElement(J.K.Consumer,null,(l=>{const a={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:s,popperId:l||this.contextMenuId,trigger:[K.uW,K.h4],usePortal:!0};return i.createElement(ye,a,e)}))}}_e.defaultProps={placement:"left"};const Pe=_e;var Se=n("iuq8");class Te extends i.Component{render(){const{type:e}=this.props;switch(e){case a.Ay.Album:return i.createElement(o.A,this.props);case a.Ay.Artist:return i.createElement(c.A,this.props);case a.Ay.Episode:return i.createElement(Z,this.props);case a.Ay.Playlist:return i.createElement(ee.A,this.props);case a.Ay.Radio:return i.createElement(ie,this.props);case a.Ay.Show:return i.createElement(ue,this.props);case a.Ay.Track:case a.Ay.Song:return i.createElement(Se.A,this.props);case a.Ay.Smarttracklist:return i.createElement(Pe,this.props);default:return null}}}const ge=Te},"3il7":(e,t,n)=>{n.d(t,{A:()=>N});var r,s,l=n("q1tI"),i=n("tZCQ"),a=n("5G9X"),o=n("0JBE"),c=n("E4MG"),d=n("Jfek"),u=n("xOQS"),p=n("deeu"),m=n("CC4d"),h=n("7Rm4"),A=n("8I5t"),E=n("b5Ea"),y=n("Wp0Y"),_=n("LAh4"),P=n("YG8s"),S=n("eb01"),T=n("kotc"),g=n("03m0"),v=n("lb8X"),C=n("BCMr");const k=()=>{const{isBannedFromRecommendation:e,toggleDislike:t}=(0,C.A)(),n=e?r||(r=l.createElement(g.x,null)):s||(s=l.createElement(v.G,null)),i=e?(0,y.AP)("banartist_action_allowinmyrecommendations_web"):(0,y.AP)("banartist_action_dontrecommendthisartist_web"),a=(0,_.A)();return l.createElement(P.A,{handleClick:function(){t(),a({ban:!e,source_trigger:"contextual_menu"})}},l.createElement(S.A,null,n),l.createElement(T.A,{value:i}))};var b,f=n("mXa6");class x extends l.Component{renderEditTags(){const{id:e}=this.props;return i.A.isAllowed("employee_feature")?l.createElement("li",null,l.createElement(m.A,{id:e,type:a.Ay.Artist})):null}renderGiveFeedback(){const{id:e}=this.props;return l.createElement("li",null,l.createElement(h.A,{id:Number(e),type:a.Ay.Artist}))}renderPlay(){const{context:e,data:t,id:n}=this.props;return t.SMARTRADIO?l.createElement("li",null,l.createElement(A.A,{action:p.h.PLAY_RADIO,context:e,ids:[n],type:a.Ay.Artist})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return l.createElement("li",null,l.createElement(E.A,{context:e,data:t,id:n,type:d.Gb.artist}))}renderToggleDislike(){return b||(b=l.createElement("li",null,l.createElement(k,null)))}renderToggleFavorite(){const{context:e,id:t}=this.props;return l.createElement("li",null,l.createElement(f.A,{context:e,id:t,type:a.Ay.Artist}))}render(){const{id:e,context:t}=this.props;return l.createElement(c.A,null,l.createElement(o.OJ,{key:e,value:{item:a.Ay.Artist,itemId:e,legacyContext:t}},l.createElement("ul",null,this.renderPlay(),this.renderToggleFavorite(),this.renderToggleDislike(),this.renderShare(),this.renderGiveFeedback(),this.renderEditTags())))}}const I=(0,u.A)(x);var R=n("SrwL"),D=n("zDvJ"),L=n("LpaV");class w extends l.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,R.uC)()}render(){const{anchor:e,context:t,data:n,id:r,placement:s}=this.props;return l.createElement(L.K.Consumer,null,(i=>{const a={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:s,popperId:i||this.contextMenuId,trigger:[D.uW,D.h4],usePortal:!0};return l.createElement(I,a,e)}))}}w.defaultProps={placement:"left"};const N=w},"4gOi":(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),s=n("SrwL"),l=n("wuUY"),i=n("zDvJ"),a=n("LpaV");class o extends r.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,s.uC)()}render(){const{anchor:e,context:t,data:n,id:s,placement:o}=this.props;return r.createElement(a.K.Consumer,null,(a=>{const c={data:{context:t,data:n,id:String(s)},hasArrow:!1,placement:o,popperId:a||this.contextMenuId,trigger:[i.uW,i.h4],usePortal:!0};return r.createElement(l.Ay,c,e)}))}}o.defaultProps={placement:"left"};const c=o},"5LFp":(e,t,n)=>{n.d(t,{Dp:()=>s,HO:()=>l,J:()=>i,Kf:()=>a,MC:()=>r});const r="components/Player/config/SET_BLIND_TEST_MODE",s="components/Player/config/UPDATED_PLAYER_TYPE",l="components/Player/config/SET_PLAYER_FULL",i="components/Player/config/SET_PLAYER_QUEUELIST",a="components/Player/config/SET_PLAYER_LYRICS"},"5MdW":(e,t,n)=>{n.d(t,{Q:()=>s});var r=n("LOQS");function s(e){e.screen_view_name&&r.A.log({type:"cdp",eventName:"playlist_creation_initialized",customAttributes:{...e}})}},"6EMc":(e,t,n)=>{n.d(t,{A:()=>l});var r=n("WKgy");const s={},l=(e,t)=>{if(!window||!window.Intl||!window.Intl.Collator)return e<t?-1:1;const n=r.A.getState().user.SETTING_LOCALE;return{}.hasOwnProperty.call(s,n)||(s[n]=new Intl.Collator([n,"en-US"])),s[n].compare(e,t)}},"70bL":(e,t,n)=>{n.d(t,{d0:()=>s,sc:()=>r});const r=({app:e})=>e.online,s=({app:e})=>e.previousPath},"7Rm4":(e,t,n)=>{n.d(t,{A:()=>p});var r=n("q1tI"),s=n("Wp0Y"),l=n("le3u"),i=n("AXVl"),a=n("N2fm"),o=n("0JBE"),c=n("LOQS");var u;const p=({id:e,type:t})=>{const n=(()=>{const{page:e,section:t,entityId:n,entity:r,item:s,itemId:l}=(0,o.iQ)();return e&&s&&l?()=>c.A.log({type:"cdp",eventName:"problem_reported",customAttributes:{screen_view_name:e,item_id:l,item_type:s,contextual_menu_option:"report_a_problem",screen_view_id_type:r||null,screen_view_id:n||null,...t&&{section_name:t}}}):()=>{}})();return r.createElement(l.A,{data:{type:t,id:e},label:(0,s.AP)("Signaler un problème"),name:"CATALOG_FEEDBACK",size:a.S.SMALL,onClick:n},u||(u=r.createElement(i.x,{size:"medium"})))}},"8I5t":(e,t,n)=>{n.d(t,{A:()=>y});var r,s,l=n("q1tI"),i=n("Ty5D"),a=n("Wp0Y"),o=n("u7vQ"),c=n("5G9X"),d=n("YG8s"),u=n("eb01"),p=n("kotc"),m=n("VHPq"),h=n("dShs"),A=n("deeu"),E=n("aWMX");const y=({action:e,context:t,ids:n,trackIndex:y,type:_})=>{const P=(0,i.W6)(),S=(0,E.A)(),T=()=>{"queuelist"===t.TYPE&&e===A.h.PLAY&&y?o.Ay.playTrackAtIndex(y):("artist"===t.TYPE&&e===A.h.PLAY_RADIO&&(P.push(`/artist/${n[0]}`),t.TYPE="artist_smartradio"),o.Ay.play({addNext:e===A.h.PLAY_NEXT,context:t,id:_===c.Ay.Song||_===c.Ay.Track?n:n[0],radio:e===A.h.PLAY_RADIO,type:_}))};return e===A.h.PLAY_NEXT?l.createElement(d.A,{handleClick:()=>{n.forEach((e=>S("listen_just_after",{id:e,type:_}))),T()}},r||(r=l.createElement(u.A,null,l.createElement(m.R,{size:"medium"}))),l.createElement(p.A,{value:(0,a.AP)("Écouter juste après")})):l.createElement(d.A,{handleClick:T},s||(s=l.createElement(u.A,null,l.createElement(h.S,{size:"medium"}))),l.createElement(p.A,{value:(0,a.AP)("Lancer le mix")}))}},BCMr:(e,t,n)=>{n.d(t,{A:()=>A});var r=n("5G9X"),s=n("FdMc"),l=n("vXsw"),i=n("TRpf"),a=n("Fzox"),o=n("xobL"),c=n("OPhi"),d=n("34sk"),u=n("Au7y"),p=n("A2sV"),m=n("0JBE");const h=u.J1`
	fragment isArtistDisliked on Artist {
		id
		name
		isBannedFromRecommendation
	}
`,A=()=>{const{itemId:e,legacyContext:t}=(0,m.iQ)(),n={artistId:e},A=(0,i.wA)(),E=(0,a.G)((({user:e})=>(0,o.UJ)(e))),{data:y}=(0,u.I3)({fragment:h,from:{__typename:"Artist",id:e},optimistic:!0}),[_]=(0,a.G)((t=>[(0,c.i8)(t.feedbacks,e,r.Ay.Artist)])),P=_||y.isBannedFromRecommendation,[S]=(0,p.we3)({variables:n,optimisticResponse:{__typename:"Mutation",banArtistFromRecommendation:{__typename:"ArtistMutationBanOut",artist:{__typename:"Artist",id:e,isBannedFromRecommendation:!0}}},onCompleted:()=>{_||A((0,d.zZ)(e,r.Ay.Artist,(0,s.A)(),t))}}),[T]=(0,p.FJX)({variables:n,optimisticResponse:{__typename:"Mutation",unbanArtistFromRecommendation:{__typename:"ArtistMutationUnbanOut",artist:{__typename:"Artist",id:e,isBannedFromRecommendation:!1}}},onCompleted:()=>{A((0,d.u5)(e,r.Ay.Artist,t))}});return{isBannedFromRecommendation:P,toggleDislike:()=>{E?P?T():S():l.g.goToConnection()}}}},CC4d:(e,t,n)=>{n.d(t,{A:()=>d});var r,s,l=n("q1tI"),i=n("eb01"),a=n("kotc"),o=n("MUSe"),c=n("rOm2");const d=({id:e,type:t})=>l.createElement(o.A,{href:`https://tag-editor.deez.re/?q=${e}&type[0]=${t}s`,isExternal:!0},r||(r=l.createElement(i.A,null,l.createElement(c.o,null))),s||(s=l.createElement(a.A,{value:"Edit Tags"})))},DNpT:(e,t,n)=>{n.d(t,{Ht:()=>o,Ki:()=>c,Nl:()=>d,eD:()=>u}),n("/eM8");var r=n("nrKQ"),s=n("UyDI"),l=n("oB8A");const i=(e,t)=>e.type===l.x.EPISODE?((e,t)=>new Promise(((n,s)=>{r.A.call({method:"episode.bookmarkSet",data:{EPISODE_ID:e.id,OFFSET:e.offset,DURATION:t,ISHEARD:e.played?1:0},success:()=>{n(e)},error:e=>{s(e)}})})))(e,t):Promise.reject(new Error(`Cannot persist bookmark of type ${e.type}`)),a=(e,t)=>e.type===l.x.EPISODE?((e,t)=>new Promise(((n,s)=>{r.A.call({method:t?"episode.markAsPlayed":"episode.markAsNotPlayed",data:{EPISODE_ID:e.id},success:()=>{n(e)},error:e=>{s(e)}})})))(e,t):Promise.reject(new Error(`Cannot persist bookmark of type ${e.type}`)),o=(e,t,n,r)=>{const l=s.A.createNotPlayedBookmark(t,e);return l.updateProgress(n,r),i(l,r)},c=(e,t,n)=>(e.updateProgress(t,n),i(e,n)),d=(e,t,n)=>(n?n.markAsPlayed():n=s.A.createPlayedBookmark(t,e),a(n,!0)),u=(e,t,n)=>(n?n.markAsNotPlayed():n=s.A.createNotPlayedBookmark(t,e),a(n,!1))},E4MG:(e,t,n)=>{n.d(t,{A:()=>c});var r=n("+9dH"),s=n("q1tI"),l=n("juqV");const c=({hasMultiPanels:e=!1,isExtended:t=!1,...n})=>{const c=(0,l.A)("j_Ltn",{gU4lg:e,ltxSj:t});return s.createElement("div",(0,r.A)({className:c},n))}},Fzox:(e,t,n)=>{n.d(t,{G:()=>l,j:()=>s});var r=n("TRpf");const s=()=>(0,r.wA)(),l=r.d4},GjdC:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("0JBE"),s=n("LOQS");const l=()=>{const{page:e,section:t,entityId:n,entity:l,item:i,itemId:a,itemIndex:o}=(0,r.iQ)();if(!e)return()=>{};const c=o||0===o?o+1:null;return r=>s.A.log({type:"cdp",eventName:"play_clicked",eventVersion:2,customAttributes:{screen_view_name:e,play_type:r,...l&&{screen_view_id_type:l},...n&&{screen_view_id:n},...t&&{section_name:t},...c&&{item_position:c},...a&&{item_id:a},...i&&{item_type:i}}})}},LAh4:(e,t,n)=>{n.d(t,{A:()=>i});var r=n("LOQS"),s=n("0JBE"),l=n("q1tI");function i(){const{page:e,entity:t,entityId:n,itemId:i,item:a}=(0,s.iQ)();return(0,l.useCallback)((({...s})=>function({ban:e=!0,...t}){t.screen_view_id&&t.item_id&&t.item_type&&r.A.log({type:"cdp",eventName:"ban_clicked",customAttributes:{action:e?"dislike":"undislike",...t}})}({screen_view_id_type:t,screen_view_id:n,screen_view_name:e,item_id:i,item_type:a,...s})),[e,t,n,i,a])}},LpaV:(e,t,n)=>{n.d(t,{K:()=>r});const r=(0,n("q1tI").createContext)("")},MUSe:(e,t,n)=>{n.d(t,{A:()=>d});var r=n("q1tI"),s=n("TRpf"),l=n("WfRu"),i=n("GkjM"),a=n("1j1w");class o extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.dispatchHidePopper()}render(){const{children:e,href:t,isExternal:n}=this.props;return r.createElement(i.A,{className:a.A.root,to:t,onClick:this.handleClick,onKeyDown:this.handleClick,target:n?"_blank":void 0},e)}}o.defaultProps={isExternal:!1};const c={dispatchHidePopper:l.Lm},d=(0,s.Ng)(null,c)(o)},Mpuh:(e,t,n)=>{n.d(t,{A:()=>m});var r,s=n("q1tI"),l=n("u7vQ"),i=n("Wp0Y"),a=n("5G9X"),o=n("YG8s"),c=n("eb01"),d=n("kotc"),u=n("ooTv"),p=n("aWMX");const m=({context:e,ids:t,type:n})=>{const m=(0,p.A)();return s.createElement(o.A,{handleClick:()=>{t.forEach((e=>m("add_to_queue",{id:e,type:n}))),l.Ay.play({addQueue:!0,context:e,id:n===a.Ay.Song||n===a.Ay.Track?t:t[0],type:n})}},r||(r=s.createElement(c.A,null,s.createElement(u.t,{size:"medium"}))),s.createElement(d.A,{value:(0,i.AP)("Ajouter à la file d'attente")}))}},N2fm:(e,t,n)=>{n.d(t,{S:()=>r});let r=function(e){return e.SMALL="small",e.LARGE="large",e.XL="xl",e}({})},"Nz/Y":(e,t,n)=>{n.d(t,{A:()=>a});var r=n("Fzox"),s=n("0JBE"),l=n("LOQS"),i=n("hMU6");const a=()=>{const{page:e,section:t,entityId:n,entity:a,item:o,itemId:c}=(0,s.iQ)(),d=(0,r.G)((({user:e})=>e.USER.USER_ID.toString()));return e&&void 0!==n&&void 0!==a?(r=null,s)=>{(c||null!=s&&s.id)&&(o||null!=s&&s.type)&&l.A.log({type:"cdp",eventName:"item_collected",customAttributes:{screen_view_name:e,item_id:(null==s?void 0:s.id)||c,item_type:(null==s?void 0:s.type)||o,...a&&{screen_view_id_type:a},...n&&{screen_view_id:n},...t&&{section_name:t},...(0,i.W)(d,r,"favorite")}})}:()=>{}}},QoFi:(e,t,n)=>{n.d(t,{A:()=>a});var r=n("q1tI"),s=n("juqV");const a=({children:e,isVisible:t=!1})=>{const n=(0,s.A)("aC0hD",{SYVt4:t});return r.createElement("div",{onDoubleClick:e=>e.stopPropagation(),className:n},e)}},Sq8Y:(e,t,n)=>{n.d(t,{A:()=>B}),n("/eM8");var r=n("q1tI"),s=n("TRpf"),l=n("lXQd"),i=n("Wp0Y"),a=n("+dDc"),o=n("eq2Y"),c=n("TqF5"),d=n("hTBE"),u=n("5G9X"),p=n("z+LD"),m=n("34sk"),h=n("xobL"),A=n("fkXJ"),E=n("o/gK"),y=n("eb01"),_=n("YG8s"),P=n("kotc"),S=n("fSLK");const T=r.createContext({addToPlaylist:()=>{},isVisible:!1}),g=({index:e,style:t,data:n})=>{const s=n[e],{addToPlaylist:l}=r.useContext(T),i=r.useCallback((()=>{l(s.PLAYLIST_ID,e)}),[l,s,e]);return r.createElement("li",{style:t},r.createElement(_.A,{handleClick:i},r.createElement(P.A,{value:s.TITLE})))},k=({playlistList:e})=>{const[t,n]=r.useState(0),s=r.useRef(null),{isVisible:l}=r.useContext(T);return r.useEffect((()=>{s.current&&l&&n(s.current.clientHeight)}),[l]),r.createElement("div",{ref:s,className:"eoHHD",onScroll:e=>e.stopPropagation()},r.createElement("ul",null,r.createElement(S.Y1,{height:t,itemCount:e.length,itemSize:48,width:330,itemData:e},g)))};var b=n("Z9kq"),f=n("7Gye"),x=n("aoCz"),I=n("8iEq"),R=n("Nz/Y"),D=n("0JBE"),L=n("LOQS"),w=n("hMU6");const N=()=>{const{page:e,section:t,entityId:n,entity:r,item:s,itemId:l}=(0,D.iQ)();return e&&void 0!==n&&void 0!==r?(i,a=null,o)=>{(l||null!=o&&o.id)&&(s||null!=o&&o.type)&&L.A.log({type:"cdp",eventName:"item_collected",customAttributes:{screen_view_name:e,item_id:(null==o?void 0:o.id)||l,item_type:(null==o?void 0:o.type)||s,...r&&{screen_view_id_type:r},...n&&{screen_view_id:n},...t&&{section_name:t},...(0,w.W)(i,a,"playlist")}})}:()=>{}};var M,O=n("Fzox"),F=n("WrS5"),Y=n("5MdW");const B=({isVisible:e,context:t,handleBackClick:n,ids:S})=>{const[g,v]=r.useState(""),[L,w]=r.useState(null),B=(0,s.wA)(),z=(0,R.A)(),G=N(),{page:V}=(0,D.iQ)(),[W,Q,U,q]=(0,O.G)((e=>[(0,h.G8)(e.user),(0,d.A)(Object.values((0,a.Eo)(e.entities,e.feedbacks,(0,h.F6)(e.user),!0)),I.WU,u.Ay.Playlist),(0,h.mI)({SERVER_TIMESTAMP:(0,h.mS)(e.user),clientTimestampDelta:(0,h.gE)(e.user)}),(0,h.UJ)(e.user)])),H=r.useCallback((()=>{let e=null;return""!==g&&(e=Q.filter((e=>e.TITLE.toLowerCase().indexOf(g)>-1))),e}),[g,Q]);r.useEffect((()=>{w(H())}),[g,H]);const j=()=>{S.length>0&&S.forEach((e=>G("0","add_to_new_playlist",{id:e,type:u.Ay.Track})))},J=L||Q;return r.createElement(r.Fragment,null,r.createElement(E.A,{handleClick:n}),r.createElement("div",{className:"cBbGP"},r.createElement(b.D,{onChange:e=>{const t=(0,l.A)(e,"target.value","").toLowerCase();t!==g&&v(t)},size:"small",placeholder:(0,i.AP)("Rechercher"),value:g})),r.createElement(_.A,{handleClick:()=>{if(q)return(0,Y.Q)({screen_view_name:V,initialization_type:"contextual_menu"}),void B((0,c.qf)({name:"PLAYLIST_ASSISTANT",props:{type:x.F.CREATION,sngId:S,onPlaylistCreation:j,background:"background.neutral.primary.default"}}));B((0,c.qf)({name:F.b.AUTH_MODAL,props:{context:"create-playlist"}}))}},M||(M=r.createElement(y.A,{isActive:!0},r.createElement(f.c,null))),r.createElement(P.A,{isActive:!0,value:(0,i.AP)("Nouvelle playlist")})),r.createElement(T.Provider,{value:{addToPlaylist:async(e,n)=>{if(e===W)try{await B((0,m.jo)(S,u.Ay.Song,U,{id:t.ID,t:t.TYPE})),S.forEach((e=>z("add_to_favorite",{id:e,type:u.Ay.Track})))}catch(e){const t=e;if("ERROR_DATA_EXISTS"===t.name)return void(0,A.A)({body:(0,i.AP)("playlist_action_tracksalreadyaddedtotheplaylist_web")});if("QUOTA_ERROR"===t.name)return void(0,A.A)({body:(0,i.AP)("notification_text_maxnumberoftracksreached_web")});p.A.error(e)}else try{await B((0,o.ym)({playlist_id:e,song_id_list:S,data:{context:t,position:n}})),S.forEach((t=>G(e,"add_to_playlist",{id:t,type:u.Ay.Track})))}catch(e){(0,A.A)({body:e.message})}},isVisible:e}},r.createElement(k,{playlistList:J})))}},SrwL:(e,t,n)=>{n.d(t,{Zo:()=>l,pz:()=>i,tB:()=>s,uC:()=>a});var r=n("iUT/");const s="-showPlaylists",l="-showDescription",i=(e,t)=>e===t||e===`${t}${s}`||e===`${t}${l}`,a=()=>(0,r.A)("context-menu-")},T0hu:(e,t,n)=>{n.d(t,{A:()=>O});var r=n("q1tI"),s=n("TRpf"),l=n("tZCQ"),i=n("Wp0Y"),a=n("xobL"),o=n("CyAC"),c=n("5G9X"),d=n("AfN5"),u=n("E4MG"),p=n("Jfek"),m=n("xOQS"),h=n("94eu"),A=n("rOm2"),E=n("deeu"),y=n("Mpuh"),_=n("XFWV"),P=n("CC4d"),S=n("7Rm4"),T=n("VkUI"),g=n("YG8s"),v=n("eb01"),C=n("kotc");const k=({children:e,force:t=!1,href:n,label:s})=>r.createElement(g.A,{handleClick:()=>{T.default.open(n,t)}},r.createElement(v.A,null,e),r.createElement(C.A,{value:s}));var b,f,x=n("8I5t"),I=n("b5Ea"),R=n("mXa6");const D=(0,m.A)((0,s.Ng)((({player:e,user:t},n)=>({mediaType:e.music.mediaType,playerIsRadio:e.config.isRadio,shouldHideCover:n.disableZoomCover||(0,o.vp)(t,n.data),userHasDownload:(0,a.Jt)(t)})))((({mediaType:e,playerIsRadio:t,id:n,userHasDownload:s,context:a,data:o,shouldHideCover:m})=>{const T=!t&&e===d.zu.SONG;return r.createElement(u.A,null,r.createElement("ul",{onClick:e=>e.stopPropagation()},T&&r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement(x.A,{action:E.h.PLAY_NEXT,context:a,ids:[n],type:c.Ay.Album})),r.createElement("li",null,r.createElement(y.A,{context:a,ids:[n],type:c.Ay.Album}))),r.createElement("li",null,r.createElement(R.A,{context:a,id:n,type:c.Ay.Album})),s&&r.createElement("li",null,r.createElement(_.A,{context:a,id:n,type:c.Ay.Album})),r.createElement("li",null,r.createElement(I.A,{context:a,data:o,id:n,type:p.Gb.album})),!m&&r.createElement("li",null,r.createElement(k,{href:`/lightbox/picture_zoom?context=ticker&type=cover&md5=${o.ALB_PICTURE}`,label:(0,i.AP)("Zoomer sur la pochette")},b||(b=r.createElement(h.X,{size:"medium"})))),r.createElement("li",null,r.createElement(S.A,{id:Number(n),type:c.Ay.Album})),l.A.isAllowed("employee_feature")&&r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement(k,{href:`/lightbox/curators/update_genre/${n}`,label:(0,i.AP)("Changer les genres")},f||(f=r.createElement(A.o,null)))),r.createElement("li",null,r.createElement(P.A,{id:n,type:c.Ay.Album})))))})));var L=n("SrwL"),w=n("zDvJ"),N=n("LpaV");class M extends r.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,L.uC)()}render(){const{anchor:e,context:t,data:n,id:s,placement:l,disableZoomCover:i}=this.props;return r.createElement(N.K.Consumer,null,(a=>{const o={data:{context:t,data:n,id:String(s),disableZoomCover:i},hasArrow:!1,placement:l,popperId:a||this.contextMenuId,trigger:[w.uW,w.h4],usePortal:!0};return r.createElement(D,o,e)}))}}M.defaultProps={placement:"left",disableZoomCover:!1};const O=M},UAd1:(e,t,n)=>{n.d(t,{IG:()=>c,PV:()=>o,no:()=>a,pE:()=>i});var r=n("3mue"),s=n("VwKc"),l=n("5LFp");function i(){return e=>{e({type:l.Dp}),e((0,s.KF)()),e((0,r.WI)()),e((0,r.eK)())}}const a=e=>({type:l.HO,active:e}),o=e=>({type:l.J,active:e}),c=e=>({type:l.Kf,active:e})},VwKc:(e,t,n)=>{n.d(t,{Ay:()=>g,SD:()=>w,Cv:()=>z,Dx:()=>N,Tr:()=>L,VX:()=>$,b3:()=>K,hN:()=>J,$7:()=>j,iQ:()=>G,UE:()=>O,tc:()=>V,KX:()=>W,ZQ:()=>Q,uY:()=>X,jk:()=>H,kI:()=>b,KF:()=>C,Up:()=>v,WN:()=>D,O:()=>R,NL:()=>I,FZ:()=>f,Fh:()=>x});var r=n("G4qV"),s=n("ucSm"),l=n("nLzw"),i=n("u7vQ"),a=n("AfN5"),o=n("Vd8Q"),c=n("3mue"),d=n("o+h5"),u=n("CyAC"),p=n("Vzbh");const m=n.p+"images/common/ads/player.887183beab8f8916c354.jpg";var h=n("JPje"),A=n("fJgm"),E=n("5G9X"),y=n("DFyM");const _={track:{},trackPrev:{},trackNext:{},id:"-1",list:[],index:0,maxPlayedIndex:0,trackDuration:0,tracklistDuration:0,albumTitle:"",trackTitle:"",trackArtists:[],isFavorite:!1,isExplicit:!1,isLastSong:!0,isFingerprinted:!1,mediaType:"",context:{},cover:`https://${o.default.get("host_img_url_ssl")}/cover/${y.e0}x${y.e0}.jpg`,unshuffledList:[],liveStreamData:{},quality:p.en.STANDARD},P=e=>{if(!(0,s.A)(e))return[];if(e.LIVE_ID)return[];const t=e.ARTISTS||[{ART_NAME:e.ART_NAME||e.SHOW_NAME,ART_ID:e.ART_ID||e.SHOW_ID}],n=[];return t.filter((e=>-1===n.indexOf(e.ART_ID)&&(n.push(e.ART_ID),!0)))};function S(){const e=i.Ay.getCurrentSong()||{},t=Object.assign({},i.Ay.getPrevSong())||{},n=Object.assign({},i.Ay.getNextSong())||{},r=i.Ay.getMediaId(e),s=i.Ay.getMediaType()||"",l=e[r]?String(e[r]):"-1";let o=i.Ay.getTrackList()||[];o=o.map((e=>Object.assign({},e)));let c=i.Ay.getTrackList(!1,!0)||[];return c=c.map((e=>Object.assign({},e))),{track:e,trackPrev:t,trackNext:n,id:l,list:o,unshuffledList:c,index:i.Ay.getTrackListIndex(),tracklistDuration:Number(i.Ay.getTrackListDuration()),trackDuration:Number(i.Ay.getDuration())||0,albumTitle:(p=e,d.Ay.parser.name(p)||""),trackArtists:P(e),isFavorite:A.A.isFavorite(E.Ay.Song,l),isExplicit:Boolean((0,u.AP)(e)||(0,u.Wh)(e)),isLastSong:i.Ay.isLastSong(),liveStreamData:s===a.zu.LIVE_STREAM?o[0]:{},isFingerprinted:!1,mediaType:i.Ay.getMediaType()||"",context:i.Ay.getContext()||{}};var p}const T=e=>{const t={...e,...S()};return t.maxPlayedIndex=(0,l.A)(e.context,t.context)?Math.max(i.Ay.getTrackListIndex(),e.maxPlayedIndex):i.Ay.getTrackListIndex(),t};function g(e=_,t={}){let n,r,s,o,c,d;switch(t.type){case y.xo:case y.Qx:return T(e);case y.gz:return n=i.Ay.getCurrentSong()||{},o=i.Ay.getMediaId(n),e.id!==String(n[o])||!(0,l.A)(e.context,i.Ay.getContext())||e.track&&e.track.UID&&e.track.UID!==n.UID||e.track&&e.track.TS&&e.track.TS!==n.TS?T(e):e;case y.p8:return n=t.track,o=i.Ay.getMediaId(n),d=String(n[o]),e.id===d&&e.isFingerprinted?e:{...e,track:n,id:d,trackArtists:P(n),isFingerprinted:!0,isFavorite:A.A.isFavorite(E.Ay.Song,d)};case y.hC:return c=A.A.isFavorite(E.Ay.Song,e.id),c!==e.isFavorite?{...e,isFavorite:c}:e;case y.q6:return t.trackDuration!==e.trackDuration?{...e,trackDuration:i.Ay.isLimited()?30:Number(t.trackDuration)}:e;case h.f6:return i.Ay.getRepeat()===a.EV.SINGLE?e:(r=Object.assign({},i.Ay.getPrevSong())||{},s=Object.assign({},i.Ay.getNextSong())||{},o=i.Ay.getMediaId(n),e.trackPrev[o]!==r[o]||e.trackNext[o]!==s[o]?{...e,trackPrev:r,trackNext:s,isLastSong:i.Ay.isLastSong()}:e);case y.GD:return{...e,trackTitle:t.trackTitle};case y.LK:return{...e,cover:t.cover};case y.Xv:return{...e,quality:t.quality};default:return e}}const v=e=>({type:y.Xv,quality:e});function C(){return(e,t)=>{const n=q(t());n!==t().player.music.cover&&e({type:y.LK,cover:n})}}function k(){return(e,t)=>{const n=X(t());n!==t().player.music.trackTitle&&e({type:y.GD,trackTitle:n})}}function b(){return e=>{e({type:y.xo}),e(C()),e(k()),e((0,c.WI)()),e((0,c.eK)())}}function f(e={}){return t=>{t({...e,type:y.gz}),t(C()),t(k()),t((0,c.WI)()),t((0,c.eK)())}}function x(e={}){return t=>{t({...e,type:y.Qx}),t(C()),t(k()),t((0,c.WI)()),t((0,c.eK)())}}function I(e){return t=>{t({type:y.p8,track:e.track}),t(C()),t(k())}}const R=()=>({type:y.hC}),D=e=>({type:y.q6,trackDuration:Number(e.trackDuration)}),L=({player:e})=>e.music.mediaType||null,w=({player:e})=>e.music.context||null,N=({player:e})=>e.music.index,M=({player:e})=>e.music.isFingerprinted,O=({player:e})=>e.music.track||{},F=({player:e})=>e.music.trackPrev||{},Y=({player:e})=>e.music.trackNext||{},B=({player:e})=>e.config.playerType,z=({player:e})=>e.music.cover,G=({player:e})=>e.music.quality,V=({player:e})=>e.music.albumTitle,W=({player:e})=>e.music.trackArtists,Q=({player:e})=>e.music.cover,U=(e,t,n,r)=>{if((0,i._k)(t)||!(0,s.A)(n))return"";let l=n[{[a.zu.EPISODE]:"EPISODE_TITLE",[a.zu.LIVE_STREAM]:r?"SNG_TITLE":"LIVESTREAM_TITLE"}[e]]||n.SNG_TITLE;return"string"==typeof n.VERSION&&n.VERSION.length>0&&(l+=" "+n.VERSION),l},q=(0,r.Mz)([O,B,L,M,({player:e})=>e.config.isBlindTestMode,({player:e})=>e.music.track?e.music.track.ALB_PICTURE:"",({player:e})=>e.music.track?e.music.track.PICTURE_URL:"",({player:e})=>e.music.track?e.music.track.EPISODE_IMAGE_MD5:"",({player:e})=>e.music.liveStreamData],((e,t,n,r,s,l,i,c,d)=>{let u=((p=`https://${o.default.get("host_img_url_ssl")}`)&&(p=p.lastIndexOf("/")===p.length-1?p.substr(0,p.length-1):p),p);var p;let h=m;if(t!==a.Cc.ADS&&(h=`${u}/cover`,n===a.zu.EPISODE?h=`${u}/talk/${c}`:s||"string"!=typeof l||(h+="/"+l),h+=`/${y.e0}x${y.e0}.jpg`),n===a.zu.EXTERNAL||n===a.zu.LIVE_STREAM){let e="";e=n===a.zu.LIVE_STREAM?r?l:d.LIVESTREAM_IMAGE_MD5:i,h="http"===e.substring(0,4)?e:`${u}/${r?"cover":"misc"}/${e}/${y.e0}x${y.e0}.jpg`}return h})),H=(0,r.Mz)([L,O],((e,t)=>e===a.zu.SONG&&void 0!==t.LYRICS_ID&&0!==Number(t.LYRICS_ID))),X=(0,r.Mz)([L,B,O,M],U),j=(0,r.Mz)([L,B,F],U),K=(0,r.Mz)([L,B,Y],U),J=(0,r.Mz)([F],P),$=(0,r.Mz)([Y],P)},WfRu:(e,t,n)=>{n.d(t,{Ay:()=>l,Lm:()=>a,On:()=>i,Pu:()=>o});const r="components/Popper/SHOW_POPPER",s="components/Popper/HIDE_POPPER",l=(e={popperId:""},t={})=>{switch(t.type){case r:return{popperId:t.popperId};case s:return{popperId:""};default:return e}},i=e=>({type:r,popperId:e}),a=()=>({type:s}),o=(e,t)=>e.popperId===t},XFWV:(e,t,n)=>{n.d(t,{A:()=>A});var r,s,l=n("q1tI"),i=n("TRpf"),a=n("Wp0Y"),o=n("shsj"),c=n("YG8s"),d=n("eb01"),u=n("kotc"),p=n("7bxg"),m=n("lASK"),h=n("M31W");const A=(0,i.Ng)((({cache:e,user:t},n)=>({currentAudioQuality:t.currentAudioQuality,isPersisted:(0,o._B)(e,{id:n.id,type:n.type})})))((({context:e,currentAudioQuality:t,id:n,isPersisted:i,type:o})=>{const{addToCache:A,removeFromCache:E}=(0,h.$)(),y=i?r||(r=l.createElement(p.w,{size:"medium"})):s||(s=l.createElement(m.m,{size:"medium"})),_=i?l.createElement(u.A,{value:(0,a.AP)("desktopapp_action_removefromdownloads_web")}):l.createElement(u.A,{value:(0,a.AP)("Télécharger")});return l.createElement(c.A,{handleClick:()=>{const r={id:n.toString(),type:o,context:e};return i?E({entity:r}):A({entity:r,quality:t})}},l.createElement(d.A,null,y),_)}))},YG8s:(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),s=n("TRpf"),l=n("WfRu"),i=n("1j1w");class a extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{closeOnClick:e,dispatchHidePopper:t,handleClick:n}=this.props;n(),e&&t()}render(){const{children:e}=this.props;return r.createElement("button",{className:i.A.root,type:"button",onClick:this.handleClick},e)}}a.defaultProps={closeOnClick:!0};const o={dispatchHidePopper:l.Lm},c=(0,s.Ng)(null,o)(a)},aWMX:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("0JBE"),s=n("LOQS");const l=()=>{const{page:e,entityId:t,entity:n}=(0,r.iQ)();return e&&t&&n?(r,{id:l,type:i})=>s.A.log({type:"cdp",eventName:"item_queued",customAttributes:{screen_view_name:e,screen_view_id:t,screen_view_id_type:n,item_id:l,item_type:i,contextual_menu_option:r}}):()=>{}}},b5Ea:(e,t,n)=>{n.d(t,{A:()=>d});var r,s=n("q1tI"),l=n("Wp0Y"),i=n("le3u"),a=n("EPmj"),o=n("Jfek"),c=n("0JBE");const d=({context:e,data:t,id:n,type:d})=>{const u=(0,c.iQ)();return s.createElement(i.A,{data:{componentType:o.Wg.contextualMenu,context:e,data:t,id:n,type:d,breadcrumb:u},label:(0,l.AP)("Partager"),name:o.DN},r||(r=s.createElement(a.l,{size:"medium"})))}},deeu:(e,t,n)=>{n.d(t,{h:()=>r});let r=function(e){return e.PLAY="play",e.PLAY_NEXT="play_next",e.PLAY_RADIO="play_radio",e}({})},eb01:(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),s=n("juqV");const c=({children:e,isActive:t=!1,isOnRight:n=!1,isSmall:c=!1})=>{const d=(0,r.cloneElement)(e,{boxSize:c?"16px":"24px"}),u=(0,s.A)("APyTE",{lXZbh:t,i0PtA:n,a6xE1:c});return r.createElement("span",{className:u},d)}},g1Fm:(e,t,n)=>{function r(e,t=!1){return e?t?e.charAt(0).toUpperCase()+e.substr(1).toLocaleLowerCase():e.charAt(0).toUpperCase()+e.substr(1):e}n.d(t,{A:()=>r})},hMU6:(e,t,n)=>{n.d(t,{W:()=>r});const r=(e,t,n)=>({collection_id:e,collection_type:n,contextual_menu_option:t})},hTBE:(e,t,n)=>{n.d(t,{A:()=>A,v:()=>h}),n("W8Tb");var r=n("5G9X"),s=n("WKgy"),l=n("OPhi"),i=n("6EMc"),a=n("/sVC"),o=n("8iEq");const c=e=>(t,n)=>{let i=null,a=null;const o=e?r.vn[e]:null;o&&(i=t[o]?(0,l.vN)(s.A.getState().feedbacks,e,t[o]):null,a=n[o]?(0,l.vN)(s.A.getState().feedbacks,e,n[o]):null);const c=t.DATE_CREATE?Date.parse(t.DATE_CREATE.replace(" ","T")+".000Z")/1e3:null,d=n.DATE_CREATE?Date.parse(n.DATE_CREATE.replace(" ","T")+".000Z")/1e3:null,u=i||c||0,p=a||d||0;return u===p?0:u<p?1:-1},d=e=>(t,n,r)=>{r="boolean"==typeof r&&r;const s=(t.ALB_TITLE||"").toLowerCase().trim(),l=(n.ALB_TITLE||"").toLowerCase().trim();return s===l?r?0:u(e)(t,n,!0):(0,i.A)(s,l)},u=e=>(t,n,r)=>{r="boolean"==typeof r&&r;const s=(t.ART_NAME||"").toLowerCase().trim(),l=(n.ART_NAME||"").toLowerCase().trim();return s===l?r?0:d(e)(t,n,!0):(0,i.A)(s,l)},p=()=>(e,t)=>{const n=(e.SHOW_NAME||"").toLowerCase().trim(),r=(t.SHOW_NAME||"").toLowerCase().trim();return n===r?0:(0,i.A)(n,r)},m={[o.lG]:u,[o._y]:d,[o.WU]:()=>(e,t)=>{const n=e.DATE_MOD||"0000-00-00 00:00:00",r=t.DATE_MOD||"0000-00-00 00:00:00";return n===r?0:n<r?1:-1},[o.L$]:c,[o.Lq]:()=>(e,t)=>{const n=(e.TITLE||"").toLowerCase().trim(),r=(t.TITLE||"").toLowerCase().trim();return n===r?0:(0,i.A)(n,r)},[o.pZ]:()=>(e,t)=>{const n=(e.NAME||"").toLowerCase().trim(),r=(t.NAME||"").toLowerCase().trim();return n===r?0:(0,i.A)(n,r)},[o.D7]:p,[o.Lh]:c,[o.QS]:()=>(e,t,n)=>{const r=(0,a.A)(e)||"0000-00-00 00:00:00",s=(0,a.A)(t)||"0000-00-00 00:00:00";return r===s?n?0:((e,t)=>Number(e.ALB_ID)<Number(t.ALB_ID)?1:-1)(e,t):r<s?1:-1},[o.m0]:e=>(t,n)=>{const r=Number(t.RANK),s=Number(n.RANK);return r===s?d(e)(t,n):s>r?1:-1},[o.Y]:()=>(e,t)=>{if(!e.LATEST_EPISODE||!t.LATEST_EPISODE)return 0;if(e.LATEST_EPISODE.data.length>0&&t.LATEST_EPISODE.data.length>0){const n=e.LATEST_EPISODE.data[0],r=t.LATEST_EPISODE.data[0],s=n.EPISODE_PUBLISHED_TIMESTAMP||"0000-00-00 00:00:00",l=r.EPISODE_PUBLISHED_TIMESTAMP||"0000-00-00 00:00:00";return s===l?p()(e,t):s<l?1:-1}return 0}},h=e=>"function"==typeof m[e],A=(e,t,n)=>(e=e.slice(0),t!==o.cT&&h(t)?e.sort(m[t](n)):e)},iuq8:(e,t,n)=>{n.d(t,{A:()=>it});var r,s=n("q1tI"),l=n("TRpf"),i=n("SrwL"),a=n("u7vQ"),o=n("tZCQ"),c=n("xobL"),d=n("CyAC"),u=n("AfN5"),p=n("0bYo"),m=n("CxZw"),h=n("5G9X"),A=n("E4MG"),E=n("xOQS"),y=n("Jfek"),_=n("deeu"),P=n("odR8"),S=n("Mpuh"),T=n("Wp0Y"),g=n("Kgcv"),v=n("YG8s"),C=n("eb01"),k=n("kotc"),b=n("Qx5r");class f extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{dispatchRemoveSong:e,dispatchRemoveSongs:t,ids:n}=this.props;n.length>1?t({ids:n.map((e=>Number(e)))}):e({id:Number(n[0])})}render(){return s.createElement(v.A,{handleClick:this.handleClick},r||(r=s.createElement(C.A,null,s.createElement(b.u,{size:"medium"}))),s.createElement(k.A,{value:(0,T.AP)("Retirer de mes MP3")}))}}const x={dispatchRemoveSong:g.c7,dispatchRemoveSongs:g.LZ},I=(0,l.Ng)(null,x)(f);var R,D=n("eq2Y");class L extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{context:e,dispatchDeleteSongFromPlaylist:t,ids:n,playlistId:r}=this.props;confirm((0,T.WI)("Êtes-vous sûr de vouloir supprimer le titre sélectionné ?","Êtes-vous sûr de vouloir supprimer les titres sélectionnés ?",{count:n.length}))&&t({playlist_id:r,songs:this.getSongIdList(),context:e})}getSongIdList(){const{ids:e}=this.props;return e.map((e=>[Number(e),Number(e)>0?0:1]))}render(){return s.createElement(v.A,{handleClick:this.handleClick},R||(R=s.createElement(C.A,null,s.createElement(b.u,{size:"medium"}))),s.createElement(k.A,{value:(0,T.AP)("Retirer de la playlist")}))}}const w={dispatchDeleteSongFromPlaylist:D.Vc},N=(0,l.Ng)(null,w)(L);var M=n("1j1w");class O extends s.Component{render(){return s.createElement("div",{className:M.A.root},this.props.children)}}const F=O;var Y,B=n("rOm2");const z=({id:e})=>s.createElement(F,null,Y||(Y=s.createElement(C.A,null,s.createElement(B.o,null))),s.createElement(k.A,{value:`Track id : ${e}`}));var G,V=n("70bL"),W=n("TqF5"),Q=n("ZUSG"),U=n("WrS5");const q=({item:e})=>{const t=(0,l.d4)(V.sc),n=(0,l.wA)();return t?s.createElement(v.A,{handleClick:()=>{n((0,W.qf)({name:U.b.EDIT_MP3,props:{song:e},size:"small"}))}},G||(G=s.createElement(C.A,null,s.createElement(Q.r,{size:"medium"}))),s.createElement(k.A,{value:(0,T.AP)("Modifier")})):null};var H,X=n("CC4d"),j=n("7Rm4"),K=n("8I5t"),J=n("m02Z"),$=n("GjdC");const Z=({context:e,id:t})=>{const n=(0,$.A)();return s.createElement(v.A,{handleClick:()=>{n("contextual_menu_mix"),a.Ay.play({context:e,id:t,forceAsFirstTrack:!0,type:u.Kk.TRACK_MIX})}},H||(H=s.createElement(C.A,null,s.createElement(J.l,{size:"medium"}))),s.createElement(k.A,{value:(0,T.AP)("contextualmenu_text_launchtrackmix_web")}))};var ee,te,ne,re=n("pvbU"),se=n("6vqc"),le=n("RSbz"),ie=n("vZvY");class ae extends s.Component{renderChevron(){return"ltr"===this.props.langDirection?ee||(ee=s.createElement(se.v,null)):te||(te=s.createElement(le.Y,null))}render(){const{handleClick:e}=this.props;return s.createElement(v.A,{handleClick:()=>{e(re.Q.CONTRIBUTORS)},closeOnClick:!1},ne||(ne=s.createElement(C.A,null,s.createElement(ie.O,{size:"medium"}))),s.createElement(k.A,{isShort:!0,value:(0,T.AP)("contextualmenu_text_seesongcredits_web")}),s.createElement(C.A,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}const oe=(0,l.Ng)((({user:e})=>({langDirection:e.DIRECTION})))(ae);var ce,de=n("b5Ea"),ue=n("UAd1"),pe=n("H/eQ"),me=n("WmA5"),he=n("iooo"),Ae=n("hsEi");class Ee extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{id:e,context:t,isPremiumUser:n,trackIndex:r,playerType:s,playerTrackId:l,playerIsRadio:i}=this.props;if(s!==u.Cc.ADS){if(l!==e)return i&&!n?void me.A.push((0,he.jd)(`/track/${e}`)):"queuelist"!==t.TYPE&&"queuelistPodcast"!==t.TYPE||!r?(pe.A.subscribeOnce(pe.A.player.tracklist_changed,(()=>{pe.A.subscribeOnce(pe.A.player.displayCurrentSong,(()=>{this.openLyrics()})),a.Ay.control.nextSong()})),void a.Ay.play({addNext:!0,context:t,id:e,type:h.Ay.Track,notify:!1})):(pe.A.subscribeOnce(pe.A.player.displayCurrentSong,(()=>{this.openLyrics()})),void a.Ay.playTrackAtIndex(r));a.Ay.isPaused()||a.Ay.isPlaying()||a.Ay.control.play(),this.openLyrics()}}openLyrics(){this.props.dispatchSetPlayerLyrics(!0)}render(){return s.createElement(v.A,{handleClick:this.handleClick},ce||(ce=s.createElement(C.A,null,s.createElement(Ae.c,{size:"medium"}))),s.createElement(k.A,{value:(0,T.AP)("Écouter avec les paroles")}))}}const ye={dispatchSetPlayerLyrics:ue.IG},_e=(0,l.Ng)((({user:e,player:t})=>({isPremiumUser:(0,c.ki)(e),playerIsRadio:t.config.isRadio,playerTrackId:t.music.id,playerType:t.config.playerType})),ye)(Ee);var Pe,Se,Te=n("olBe"),ge=n("LAh4"),ve=n("SF1U"),Ce=n("elFM");const ke=({id:e,context:t})=>{const{isBannedFromRecommendation:n,toggleDislike:r}=(0,Te.A)(e,t),l=(0,ge.A)(),i=n?Pe||(Pe=s.createElement(ve.e,null)):Se||(Se=s.createElement(Ce.z,null)),a=n?(0,T.AP)("banartist_action_allowinmyrecommendations_web"):(0,T.AP)("bantrack_action_dontrecommendthistrack_web");return s.createElement(v.A,{handleClick:function(){r(),l({ban:!n,source_trigger:"contextual_menu"})}},s.createElement(C.A,null,i),s.createElement(k.A,{value:a}))};var be=n("mXa6"),fe=n("lXQd"),xe=n("o/gK"),Ie=n("rXlm");const Ne={AUTHOR:"author",COMPOSER:"composer",MISC:"misc"},Me={author:(0,T.AP)("Auteur :"),composer:(0,T.AP)("Compositeur :"),misc:(0,T.AP)("Autres contributeurs :")};class Oe extends s.Component{renderContributors(e){const{contributors:t}=this.props,n=(0,fe.A)(t,e);if(!n||0===n.length)return null;const r=(0,fe.A)(Me,e);return s.createElement("li",{key:e},s.createElement("div",{className:"Ko223"},r),s.createElement("div",{className:"Kv_Yf"},n.join(" - ")))}render(){return s.createElement(s.Fragment,null,s.createElement(xe.A,{handleClick:this.props.handleBackClick}),s.createElement(Ie.A,{className:"ATlPc"},s.createElement("ul",{className:"cp8f_"},Object.values(Ne).map((e=>this.renderContributors(e))))))}}Oe.panelName=re.Q.CONTRIBUTORS;const Fe=Oe;var Ye=n("QoFi"),Be=n("uK53"),ze=n("Sq8Y"),Ge=n("AY3M"),Ve=n("sAMA");class We extends s.Component{constructor(e){super(e),this.state={currentPanel:this.props.forceShowPlaylists?re.Q.PLAYLISTS:null},this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this)}hasContributors(){const{data:e}=this.props;return void 0!==e.SNG_CONTRIBUTORS&&"object"==typeof e.SNG_CONTRIBUTORS&&(e.SNG_CONTRIBUTORS.author instanceof Array||e.SNG_CONTRIBUTORS.composer instanceof Array||e.SNG_CONTRIBUTORS.misc instanceof Array)}hasLyrics(){const{isOnline:e,data:t,mediaType:n}=this.props;return e&&n===u.zu.SONG&&void 0!==t.LYRICS_ID&&t.LYRICS_ID>0}isPlayable(){const{isDisabled:e,isRestrictedByExplicit:t,mediaType:n,playerIsRadio:r}=this.props;return!(e||t||r||a.Ay.chromecast.isCasting()||n!==u.zu.SONG)}isPersonalTrack(){return Number(this.props.id)<0}renderActionsPersonalTrack(){const{context:e,data:t,id:n}=this.props;return e&&e.TYPE===Ge.EB&&this.isPersonalTrack()?s.createElement(s.Fragment,null,s.createElement("li",null,s.createElement(q,{item:t})),s.createElement("li",null,s.createElement(I,{ids:[n]}))):null}renderAddToPlaylist(){return this.props.isDisabled?null:s.createElement("li",null,s.createElement(P.A,{handleClick:this.updateCurrentPanel}))}renderAddToQueue(){const{context:e,id:t}=this.props;return this.isPlayable()?s.createElement("li",null,s.createElement(S.A,{context:e,ids:[t],type:h.Ay.Track})):null}renderContributorsPanel(){const{data:e}=this.props,{currentPanel:t}=this.state;return this.hasContributors()?s.createElement(Ye.A,{isVisible:t===Fe.panelName},s.createElement(Fe,{contributors:e.SNG_CONTRIBUTORS||{},handleBackClick:this.resetCurrentPanel})):null}renderDeleteFromPlaylist(){const{context:e,data:t,id:n}=this.props;return e&&"playlist_page"===e.TYPE&&t.PLAYLIST_ID&&t.IS_DELETABLE?s.createElement("li",null,s.createElement(N,{context:e,ids:[n],playlistId:t.PLAYLIST_ID})):null}renderDisplayTrackId(){const{id:e}=this.props;return o.A.isAllowed("employee_feature")?s.createElement("li",null,s.createElement(z,{id:e})):null}renderEditTags(){const{id:e}=this.props;return o.A.isAllowed("employee_feature")?s.createElement("li",null,s.createElement(X.A,{id:e,type:h.Ay.Song})):null}renderGiveFeedback(){const{id:e}=this.props;return s.createElement("li",null,s.createElement(j.A,{id:Number(e),type:h.Ay.Track}))}renderLyrics(){const{context:e,data:t,id:n}=this.props;return this.hasLyrics()&&this.isPlayable()?s.createElement("li",null,s.createElement(_e,{context:e,id:n,trackIndex:t.INDEX||void 0})):null}renderPlay(){const{context:e,data:t,id:n}=this.props;return this.isPlayable()?s.createElement("li",null,s.createElement(K.A,{action:_.h.PLAY_NEXT,context:e,ids:[n],trackIndex:t.INDEX||void 0,type:h.Ay.Track})):null}renderPlaylistsPanel(){const{context:e,id:t}=this.props,{currentPanel:n}=this.state,r=n===re.Q.PLAYLISTS;return s.createElement(Ye.A,{isVisible:r},s.createElement(ze.A,{isVisible:r,context:e,handleBackClick:this.resetCurrentPanel,ids:[t]}))}renderPlayTrackMix(){const{id:e}=this.props;return this.isPersonalTrack()?null:s.createElement("li",null,s.createElement(Z,{id:e,context:{ID:e,TYPE:p.A[Ge.jF]}}))}renderMainPanel(){return s.createElement(Be.A,{isVisible:null===this.state.currentPanel},s.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderPlayTrackMix(),this.renderToggleFavorite(),this.renderToggleDislike(),this.renderAddToPlaylist(),this.renderDeleteFromPlaylist(),this.renderActionsPersonalTrack(),this.renderLyrics(),this.renderShare(),this.renderOpenContributors(),this.renderGiveFeedback(),this.renderEditTags(),this.renderDisplayTrackId()))}renderOpenContributors(){return this.hasContributors()?s.createElement("li",null,s.createElement(oe,{handleClick:this.updateCurrentPanel})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return this.isPersonalTrack()?null:s.createElement("li",null,s.createElement(de.A,{context:e,data:(null==t?void 0:t.SONG)||t,id:n,type:y.Gb.song}))}renderToggleDislike(){const{context:e,id:t}=this.props;return this.isPersonalTrack()?null:s.createElement("li",null,s.createElement(ke,{context:e,id:t}))}renderToggleFavorite(){const{context:e,id:t,isDisabled:n}=this.props;return s.createElement("li",null,s.createElement(be.A,{context:e,id:t,isDisabled:n,type:h.Ay.Song}))}resetCurrentPanel(){this.setState({currentPanel:null})}updateCurrentPanel(e){e===Fe.panelName||e===re.Q.PLAYLISTS?this.setState({currentPanel:e}):this.setState({currentPanel:null})}render(){return s.createElement(A.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel(),this.renderContributorsPanel())}}We.defaultProps={forceShowPlaylists:!1};const Qe=(0,E.A)((0,l.Ng)((({app:e,player:t,user:n},{data:r})=>{const s=(0,c.Uw)(n)===Ve.g&&(0,d.AP)(r);return{isOnline:e.online,mediaType:t.music.mediaType,playerIsRadio:t.config.isRadio,isDisabled:!s&&m.A.checkSongAvailable(r.FALLBACK||r)!==m.A.READABLE,isRestrictedByExplicit:s}}))(We));var Ue,qe=n("+dDc"),He=n("34sk");const Xe=({ids:e,isDisabled:t=!1})=>{const n=(0,l.d4)(V.sc),r=(0,l.wA)();return t||!n?null:s.createElement(v.A,{handleClick:()=>{confirm((0,T.WI)("Êtes-vous sûr de vouloir supprimer le titre sélectionné ?","Êtes-vous sûr de vouloir supprimer les titres sélectionnés ?",{count:e.length}))&&r((0,He.HS)(e,h.Ay.Song))}},Ue||(Ue=s.createElement(C.A,null,s.createElement(b.u,{size:"medium"}))),s.createElement(k.A,{value:(0,T.AP)("banfeatures_action_removetracksfromlist_web")}))};var je,Ke=n("fJgm");class Je extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{context:e,ids:t}=this.props;confirm((0,T.WI)("Êtes-vous sûr de vouloir supprimer le titre sélectionné ?","Êtes-vous sûr de vouloir supprimer les titres sélectionnés ?",{count:t.length}))&&Ke.A.remove({type:h.Ay.Song,id:t,context:e})}render(){const{isDisabled:e}=this.props;return e?null:s.createElement(v.A,{handleClick:this.handleClick},je||(je=s.createElement(C.A,null,s.createElement(b.u,{size:"medium"}))),s.createElement(k.A,{value:(0,T.AP)("Retirer des Coups de cœur")}))}}Je.defaultProps={isDisabled:!1};const $e=Je;class et extends s.Component{constructor(e){super(e),this.state={currentPanel:this.props.forceShowPlaylists?re.Q.PLAYLISTS:null},this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this)}isPlayable(){const{playerIsRadio:e,mediaType:t}=this.props;return!e&&!a.Ay.chromecast.isCasting()&&t===u.zu.SONG}renderAddToPlaylist(){return s.createElement("li",null,s.createElement(P.A,{handleClick:this.updateCurrentPanel}))}renderAddToQueue(){const{context:e,ids:t}=this.props;return this.isPlayable()?s.createElement("li",null,s.createElement(S.A,{context:e,ids:t,type:h.Ay.Track})):null}renderDeleteFromDislike(){const{context:e,ids:t}=this.props;return e.TYPE!==Ge.vj?null:s.createElement("li",null,s.createElement(Xe,{context:e,ids:t}))}renderDeleteFromFavorite(){const{context:e,ids:t,isUsersLovedTrackPlaylist:n}=this.props;return n?s.createElement("li",null,s.createElement($e,{context:e,ids:t})):null}renderDeleteFromPersonalTrack(){const{context:e,ids:t}=this.props;return e&&e.TYPE===Ge.EB?s.createElement("li",null,s.createElement(I,{ids:t})):null}renderDeleteFromPlaylist(){const{context:e,data:t,ids:n,isUsersLovedTrackPlaylist:r}=this.props;return e&&"playlist_page"===e.TYPE?!t.IS_DELETABLE||r?null:s.createElement("li",null,s.createElement(N,{context:e,ids:n,playlistId:t.PLAYLIST_ID})):null}renderHeader(){const{hasHeader:e,ids:t}=this.props;if(!e)return null;const n=t.length,r=(0,T.WI)("%s titre","%s titres",{sprintf:[n],count:n});return s.createElement("li",{className:"jE33l"},s.createElement("h3",null,r))}renderPlay(){const{context:e,ids:t}=this.props;return this.isPlayable()?s.createElement("li",null,s.createElement(K.A,{action:_.h.PLAY_NEXT,context:e,ids:t,type:h.Ay.Track})):null}renderPlaylistsPanel(){const{context:e,ids:t}=this.props,{currentPanel:n}=this.state,r=n===re.Q.PLAYLISTS;return s.createElement(Ye.A,{isVisible:r},s.createElement(ze.A,{isVisible:r,context:e,handleBackClick:this.resetCurrentPanel,ids:t}))}renderMainPanel(){return s.createElement(Be.A,{isVisible:null===this.state.currentPanel},s.createElement("ul",null,this.renderHeader(),this.renderPlay(),this.renderAddToQueue(),this.renderAddToPlaylist(),this.renderDeleteFromFavorite(),this.renderDeleteFromPlaylist(),this.renderDeleteFromDislike(),this.renderDeleteFromPersonalTrack()))}resetCurrentPanel(){this.setState({currentPanel:null})}updateCurrentPanel(e){e===re.Q.PLAYLISTS?this.setState({currentPanel:e}):this.setState({currentPanel:null})}render(){return s.createElement(A.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel())}}et.defaultProps={forceShowPlaylists:!1,hasHeader:!1};const tt=(0,E.A)((0,l.Ng)((({entities:e,player:t,user:n},{context:r})=>({isUsersLovedTrackPlaylist:"playlist_page"===r.TYPE&&(0,qe.dR)(e,{id:String(r.ID),currentUserId:(0,c.F6)(n)}),mediaType:t.music.mediaType,playerIsRadio:t.config.isRadio})))(et));var nt=n("zDvJ"),rt=n("LpaV"),st=n("WfRu");class lt extends s.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,i.uC)()}render(){const{anchor:e,context:t,data:n,forceShowPlaylists:r,hasHeader:l,id:a,placement:o,storePopperId:c}=this.props,d=Array.isArray(a)?a.map(String):[String(a)],u=r?i.tB:"";return s.createElement(rt.K.Consumer,null,(i=>{const a={data:{context:t,data:n,forceShowPlaylists:r,hasHeader:l,id:d[0],ids:d},hasArrow:!1,placement:o,popperId:`${i||this.contextMenuId}${u}`,trigger:[nt.uW,nt.h4],usePortal:!0},p=(0,st.Pu)(a,c),m="function"==typeof e?e(p):e;return d.length<=1?s.createElement(Qe,a,m):s.createElement(tt,a,m)}))}}lt.defaultProps={forceShowPlaylists:!1,hasHeader:!1,placement:"left"};const it=(0,l.Ng)((e=>({storePopperId:e.popper.popperId})))(lt)},kotc:(e,t,n)=>{n.d(t,{A:()=>o});var r=n("q1tI"),s=n("juqV");const o=({isActive:e=!1,isShort:t=!1,value:n})=>{const o=(0,s.A)("_G9BW",{NExuV:e,FoAMI:t});return r.createElement("span",{className:o},n)}},le3u:(e,t,n)=>{n.d(t,{A:()=>m});var r=n("q1tI"),s=n("TRpf"),l=n("TqF5"),i=n("nxAS"),a=n("YG8s"),o=n("eb01"),c=n("kotc"),d=n("N2fm");class u extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{name:e,data:t,dispatchOpenModal:n,dispatchOpenScreen:r,isScreen:s,size:l,onClick:i}=this.props;null==i||i(),s?r({name:e,data:t}):n({name:e,props:t,size:l})}render(){const{children:e,label:t}=this.props;return r.createElement(a.A,{handleClick:this.handleClick},r.createElement(o.A,null,e),r.createElement(c.A,{value:t}))}}u.defaultProps={data:{},isScreen:!1,size:d.S.LARGE};const p={dispatchOpenModal:l.qf,dispatchOpenScreen:i.J2},m=(0,s.Ng)(null,p)(u)},mXa6:(e,t,n)=>{n.d(t,{A:()=>_});var r,s,l=n("q1tI"),i=n("fJgm"),a=n("Wp0Y"),o=n("OPhi"),c=n("5G9X"),d=n("e2eG"),u=n("YG8s"),p=n("eb01"),m=n("kotc"),h=n("7bxg"),A=n("gtRZ"),E=n("Nz/Y"),y=n("Fzox");const _=({context:e,id:t,type:n,isDisabled:_=!1})=>{const[P]=(0,y.G)((e=>[(0,o.BA)(e.feedbacks,t,n)])),S=(0,E.A)(),T=()=>{const r=d.A.getUserDataType(n)||n,s={id:t,context:e,type:r};P?i.A.remove(s):(i.A.add(s),S("add_to_favorite"))};if(!P&&_)return null;if(P){const e=n===c.Ay.Track?(0,a.AP)("Retirer des Coups de cœur"):(0,a.AP)("contextualmenu_text_deletefrommyfavorites_web");return l.createElement(u.A,{handleClick:T},r||(r=l.createElement(p.A,null,l.createElement(h.w,{size:"medium"}))),l.createElement(m.A,{value:e}))}const g=n===c.Ay.Track?(0,a.AP)("Ajouter aux Coups de cœur"):(0,a.AP)("contextualmenu_text_addtomyfavorites_web");return l.createElement(u.A,{handleClick:T},s||(s=l.createElement(p.A,null,l.createElement(A.M,{size:"medium"}))),l.createElement(m.A,{value:g}))}},nxAS:(e,t,n)=>{n.d(t,{Ay:()=>i,Fn:()=>o,J2:()=>a});const r="fullscreen/SHOW_FULLSCREEN",s="fullscreen/HIDE_FULLSCREEN",l={name:"",data:{}};function i(e=l,t={type:null}){switch(t.type){case r:return t.name?{name:t.name,data:t.data}:e;case s:return l;default:return e}}const a=({name:e,data:t})=>({type:r,name:e,data:t}),o=()=>({type:s})},"o/gK":(e,t,n)=>{n.d(t,{A:()=>h});var r=n("q1tI"),s=n("TRpf"),l=n("Wp0Y"),i=n("eb01"),a=n("kotc"),o=n("RSbz"),c=n("6vqc");var u,p;class m extends r.Component{constructor(e){super(e),this.state={isHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}handleMouseEnter(){this.setState({isHover:!0})}handleMouseLeave(){this.setState({isHover:!1})}renderChevron(){return"ltr"===this.props.langDirection?u||(u=r.createElement(o.Y,null)):p||(p=r.createElement(c.v,null))}render(){const{handleClick:e}=this.props,{isHover:t}=this.state;return r.createElement("button",{className:"wSvrT",type:"button",onClick:e,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.createElement(i.A,{isActive:t,isSmall:!0},this.renderChevron()),r.createElement(a.A,{isActive:t,value:(0,l.AP)("Retour")}))}}const h=(0,s.Ng)((({user:e})=>({langDirection:e.DIRECTION})))(m)},odR8:(e,t,n)=>{n.d(t,{A:()=>y});var r,s,l,i=n("q1tI"),a=n("TRpf"),o=n("Wp0Y"),c=n("YG8s"),d=n("eb01"),u=n("kotc"),p=n("6vqc"),m=n("RSbz"),h=n("W1Rt"),A=n("pvbU");class E extends i.Component{renderChevron(){return"ltr"===this.props.langDirection?r||(r=i.createElement(p.v,null)):s||(s=i.createElement(m.Y,null))}render(){const{handleClick:e}=this.props;return i.createElement(c.A,{handleClick:()=>{e(A.Q.PLAYLISTS)},closeOnClick:!1},l||(l=i.createElement(d.A,null,i.createElement(h.G,{size:"medium"}))),i.createElement(u.A,{isShort:!0,value:(0,o.AP)("Ajouter à une playlist")+"..."}),i.createElement(d.A,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}const y=(0,a.Ng)((({user:e})=>({langDirection:e.DIRECTION})))(E)},olBe:(e,t,n)=>{n.d(t,{A:()=>h});var r=n("5G9X"),s=n("FdMc"),l=n("vXsw"),i=n("TRpf"),a=n("Fzox"),o=n("xobL"),c=n("OPhi"),d=n("34sk"),u=n("Au7y"),p=n("A2sV");const m=u.J1`
	fragment isTrackDisliked on Track {
		id
		isBannedFromRecommendation
	}
`,h=(e,t)=>{const n={trackId:e},h=(0,i.wA)(),A=(0,a.G)((({user:e})=>(0,o.UJ)(e))),{data:E}=(0,u.I3)({fragment:m,from:{__typename:"Track",id:e},optimistic:!0}),[y]=(0,a.G)((t=>[(0,c.i8)(t.feedbacks,e,r.Ay.Song)])),_=y||E.isBannedFromRecommendation,[P]=(0,p.sJs)({variables:n,optimisticResponse:{__typename:"Mutation",banTrackFromRecommendation:{__typename:"TrackMutationBanOut",track:{__typename:"Track",id:e,isBannedFromRecommendation:!0}}},onCompleted:()=>{y||h((0,d.zZ)(e,r.Ay.Song,(0,s.A)(),t))}}),[S]=(0,p.v4u)({variables:n,optimisticResponse:{__typename:"Mutation",unbanTrackFromRecommendation:{__typename:"TrackMutationUnbanOut",track:{__typename:"Track",id:e,isBannedFromRecommendation:!1}}},update:e=>{e.updateQuery({query:p.Vc2},(e=>{var t,n;if(void 0!==(null==e||null===(t=e.me)||void 0===t||null===(t=t.bannedFromRecommendation)||void 0===t?void 0:t.estimatedTracksCount))return{me:{...e.me,bannedFromRecommendation:{...e.me.bannedFromRecommendation,estimatedTracksCount:(null!==(n=e.me.bannedFromRecommendation.estimatedTracksCount)&&void 0!==n?n:1)-1}}}}))},onCompleted:()=>{h((0,d.u5)(e,r.Ay.Song,t))}});return{isBannedFromRecommendation:_,toggleDislike:()=>{A?_?S():P():l.g.goToConnection()}}}},pvbU:(e,t,n)=>{n.d(t,{Q:()=>r});let r=function(e){return e.CONTRIBUTORS="constributors",e.DESCRIPTION="description",e.PLAYLISTS="playlists",e}({})},rXlm:(e,t,n)=>{n.d(t,{A:()=>c}),n("noe2");var r=n("q1tI"),s=n("juqV"),l=n("VQs7"),i=n("EVdn"),a=n.n(i);class o extends r.PureComponent{constructor(e){super(e),this.getScrollTop=this.getScrollTop.bind(this),this.getScrollHeight=this.getScrollHeight.bind(this),this.getClientHeight=this.getClientHeight.bind(this),this.scrollTop=this.scrollTop.bind(this),this.scrollBottom=this.scrollBottom.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.scrollToBottom=this.scrollToBottom.bind(this),this.update=this.update.bind(this),this._scrollerRef=null,this._nanoRef=null,this._contentRef=null,this._onScrollTop=this._onScrollTop.bind(this),this._onScrollEnd=this._onScrollEnd.bind(this),this.state={hasShadowTop:!1,hasShadowBottom:!1}}componentDidMount(){const{preventPageScrolling:e,disableResize:t,alwaysVisible:n,shadow:r,onScroll:s,onScrollTop:l,onScrollEnd:i}=this.props;("function"==typeof l||this._hasShadowTop())&&this._scrollerRef.on("scrolltop",this._onScrollTop),("function"==typeof i||this._hasShadowBottom())&&this._scrollerRef.on("scrollend",this._onScrollEnd),!1!==r&&this._scrollerRef.on("update",this.update),"function"==typeof s&&this._scrollerRef.on("update",(e=>s(e))),setImmediate((()=>{this._scrollerRef.nanoScroller({preventPageScrolling:e,disableResize:t,alwaysVisible:n}),this.update()}))}getSnapshotBeforeUpdate(){return{contentHeight:this.getContentHeight()}}componentDidUpdate(e,t,n){const{preventPageScrolling:r,disableResize:s,alwaysVisible:l}=this.props;n.contentHeight!==this.getContentHeight()&&(this._scrollerRef.nanoScroller({preventPageScrolling:r,disableResize:s,alwaysVisible:l}),this.update())}componentWillUnmount(){this._scrollerRef.off("scrolltop scrollend update"),this._scrollerRef.nanoScroller({destroy:!0})}getScrollTop(){return this._nanoRef?this._nanoRef.scrollTop:0}getScrollHeight(){return this._nanoRef?this._nanoRef.scrollHeight:0}getClientHeight(){return this._nanoRef?this._nanoRef.clientHeight:0}getContentHeight(){return this._contentRef?this._contentRef.clientHeight:0}scrollTop(e){this._scrollerRef.nanoScroller({scrollTop:e})}scrollBottom(e){this._scrollerRef.nanoScroller({scrollBottom:e})}scrollTo(e){this._scrollerRef.nanoScroller({scrollTo:e})}scrollToTop(){this._scrollerRef.nanoScroller({scroll:"top"})}scrollToBottom(){this._scrollerRef.nanoScroller({scroll:"bottom"})}update(e,t){t||(t={position:this.getScrollTop(),maximum:this.getScrollHeight()-this.getClientHeight()}),t.maximum<0||this.setState({hasShadowBottom:this._hasShadowBottom()&&t.position<t.maximum,hasShadowTop:this._hasShadowTop()&&t.position>0})}render(){const{children:e,className:t,preventPageScrolling:n,disableResize:l,alwaysVisible:i,shadow:o,onScroll:c,onScrollTop:d,onScrollEnd:u,...p}=this.props,m={className:(0,s.A)(t,"nano"),ref:e=>this._scrollerRef=a()(e),...p};return r.createElement("div",m,this._renderShadowTop(),this._renderShadowBottom(),this._renderContent())}_renderShadowTop(){const{hasShadowTop:e}=this.state,t=(0,s.A)("scroller-shadow-top",{"is-active":e});return r.createElement("div",{className:t})}_renderContent(){const{children:e}=this.props;return r.createElement(l.P.div,{layoutScroll:!0,className:"nano-content",ref:e=>this._nanoRef=e},r.createElement("div",{className:"nano-content-ref",ref:e=>this._contentRef=e},e))}_renderShadowBottom(){const{hasShadowBottom:e}=this.state,t=(0,s.A)("scroller-shadow-bottom",{"is-active":e});return r.createElement("div",{className:t})}_onScrollTop(){const{onScrollTop:e}=this.props;"function"==typeof e&&e(),this._hasShadowTop()&&this.setState({hasShadowTop:!1})}_onScrollEnd(){const{onScrollEnd:e}=this.props;"function"==typeof e&&e(),this._hasShadowBottom()&&this.setState({hasShadowBottom:!1})}_hasShadowTop(){const{shadow:e}=this.props;return!0===e||"top"===e}_hasShadowBottom(){const{shadow:e}=this.props;return!0===e||"bottom"===e}}o.defaultProps={preventPageScrolling:!0,disableResize:!1,alwaysVisible:!1,shadow:!0,onScroll:void 0,onScrollTop:void 0,onScrollEnd:void 0};const c=o},uK53:(e,t,n)=>{n.d(t,{A:()=>a});var r=n("q1tI"),s=n("juqV");const a=({children:e,isVisible:t=!0})=>{const n=(0,s.A)("IBRGd",{CbIyw:!t});return r.createElement("div",{className:n},e)}},wuUY:(e,t,n)=>{n.d(t,{Gd:()=>W,Ay:()=>U});var r,s=n("q1tI"),l=n("TRpf"),i=n("tZCQ"),a=n("Wp0Y"),o=n("xobL"),c=n("5G9X"),d=n("AfN5"),u=n("E4MG"),p=n("Jfek"),m=n("xOQS"),h=n("vZvY"),A=n("deeu"),E=n("Mpuh"),y=n("eq2Y"),_=n("WmA5"),P=n("+dDc"),S=n("iooo"),T=n("fkXJ"),g=n("TqF5"),v=n("YG8s"),C=n("eb01"),k=n("kotc"),b=n("WrS5"),f=n("Qx5r");class x extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleConfirm=this.handleConfirm.bind(this)}handleConfirm(e){if(e){const{dispatchRemovePlaylist:e,id:t}=this.props;e({data:{id:t}}).then((()=>{(0,T.A)({body:(0,a.AP)("toastmessage_text_playlistXhasbeendeleted_web",{sprintf:[this.props.playlistName]})}),_.A.push((0,S.jd)("/profile/me/playlists"))}))}this.props.dispatchCloseModal()}handleClick(){this.props.dispatchOpenModal({name:b.b.GENERIC_CONFIRM,props:{title:(0,a.AP)("confirmationmessage_title_deleteXplaylist_web",{sprintf:[this.props.playlistName]}),body:(0,a.AP)("confirmationmessage_text_actioncannotbeundone_web"),ctaConfirm:(0,a.AP)("Supprimer"),callback:this.handleConfirm},size:"small"})}render(){return s.createElement(v.A,{handleClick:this.handleClick},r||(r=s.createElement(C.A,null,s.createElement(f.u,{size:"medium"}))),s.createElement(k.A,{value:(0,a.AP)("Supprimer cette playlist")}))}}const I={dispatchRemovePlaylist:y.tH,dispatchOpenModal:g.qf,dispatchCloseModal:g.Oo},R=(0,l.Ng)((({entities:e},{id:t})=>({playlistName:(0,P.bt)(e,{id:t}).TITLE})),I)(x);var D,L=n("XFWV"),w=n("CC4d"),N=n("MUSe"),M=n("8I5t"),O=n("b5Ea"),F=n("mXa6"),Y=n("A2sV"),B=n("BVS8");const z=({playlistId:e,context:t})=>{var n;const{data:r}=(0,Y.xxF)({variables:{playlistId:e}});return null!=r&&null!==(n=r.playlist)&&void 0!==n&&n.isBlindTestable?s.createElement("li",null,s.createElement(N.A,{href:`/game/blindtest/playlist/${e}?context=${t.TYPE}`,isExternal:!1,"data-testid":"link-blindtest"},D||(D=s.createElement(C.A,null,s.createElement(B.Q,{size:"medium"}))),s.createElement(k.A,{value:(0,a.AP)("contextualmenu_title_playXfeaturename_web")}))):null};var G,V=n("7E8A");const W={COLLABORATIVE:2,PRIVATE:1,PUBLIC:0};class Q extends s.Component{getPlaylistStatus(){const{data:e}=this.props;return Number(e.STATUS)||W.PUBLIC}isMyPlaylist(){const{data:e,userID:t}=this.props;return Number(e.PARENT_USER_ID)===t}isPlayable(){const{data:e,playerIsRadio:t,mediaType:n}=this.props;return 0!==e.NB_SONG&&!t&&n===d.zu.SONG&&(this.getPlaylistStatus()!==W.PRIVATE||this.isMyPlaylist())}renderAddToQueue(){const{context:e,id:t}=this.props;return this.isPlayable()?s.createElement("li",null,s.createElement(E.A,{context:e,ids:[t],type:c.Ay.Playlist})):null}renderDownload(){const{context:e,id:t,userHasDownload:n}=this.props;return n?s.createElement("li",null,s.createElement(L.A,{context:e,id:t,type:c.Ay.Playlist})):null}renderEditTags(){const{id:e}=this.props;return i.A.isAllowed("employee_feature")?s.createElement("li",null,s.createElement(w.A,{id:e,type:c.Ay.Playlist})):null}renderOwner(){const{data:e}=this.props;return this.isMyPlaylist()?null:s.createElement("li",null,s.createElement(N.A,{href:`/profile/${e.PARENT_USER_ID||e.USER_ID}`,isExternal:!1,"data-testid":"link-profile"},G||(G=s.createElement(C.A,null,s.createElement(h.O,{size:"medium"}))),s.createElement(k.A,{value:(0,a.AP)("Profil utilisateur")})))}renderDelete(){const{context:e,id:t}=this.props;return this.isMyPlaylist()&&e&&e.TYPE===V.CONTEXT_PAGE_PLAYLIST?s.createElement("li",null,s.createElement(R,{id:t})):null}renderPlay(){const{context:e,id:t}=this.props;return this.isPlayable()?s.createElement("li",null,s.createElement(M.A,{action:A.h.PLAY_NEXT,context:e,ids:[t],type:c.Ay.Playlist})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return this.getPlaylistStatus()===W.PRIVATE?null:s.createElement("li",null,s.createElement(O.A,{context:e,data:t,id:n,type:p.Gb.playlist}))}renderToggleFavorite(){const{context:e,id:t}=this.props;return this.isMyPlaylist()||this.getPlaylistStatus()===W.PRIVATE?null:s.createElement("li",null,s.createElement(F.A,{context:e,id:t,type:c.Ay.Playlist}))}renderPlayBlindtest(){const{id:e,context:t}=this.props;return!1===i.A.isAllowed("contextual_menu_blindtest")?null:s.createElement(z,{context:t,playlistId:e.toString()})}render(){return s.createElement(u.A,null,s.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderToggleFavorite(),this.renderPlayBlindtest(),this.renderDownload(),this.renderShare(),this.renderOwner(),this.renderDelete(),this.renderEditTags()))}}const U=(0,m.A)((0,l.Ng)((({player:e,user:t})=>({mediaType:e.music.mediaType,playerIsRadio:e.config.isRadio,userHasDownload:(0,o.Jt)(t),userID:t.id})))(Q))},xOQS:(e,t,n)=>{n.d(t,{A:()=>A});var r=n("+9dH"),s=n("q1tI"),l=n("i8i4"),i=n("TRpf"),a=n("juqV"),o=n("8L3F"),c=n("lXQd"),d=n("WKgy"),u=n("WmA5"),p=n("WfRu"),m=n("NgX8"),h=n("zDvJ");const A=e=>{class t extends s.Component{constructor(e){super(e),this._popper=null,this._popperRef=null,this._targetRef=null,this._contentRef=null,this._arrowRef=null,this._showTimeout=null,this._unlisten=null,this._listenerClickActive=!1,this._listenerHistory=u.A.listen((()=>{this._hide()})),this._onTargetClick=this._onTargetClick.bind(this),this._onDocumentClick=this._onDocumentClick.bind(this),this._onScroll=this._onScroll.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this)}componentDidMount(){this.props.isVisible&&this._initPopper()}UNSAFE_componentWillReceiveProps(e){e.isDisabled&&(this._hide(),this._destroy(),this._listenerHistory(),this._listenerHistory=()=>{})}componentDidUpdate(){this.props.isVisible&&this._initPopper()}componentWillUnmount(){this._listenerHistory(),this._removeListener(),this._destroy()}render(){const{trigger:e,isDisabled:t,tag:n,className:r,isVisible:l}=this.props;e.includes(h.uW)&&l&&!this._listenerClickActive&&(this._listenerClickActive=!0,document.addEventListener("click",this._onDocumentClick)),e.includes(h.h4)&&l&&!this._listenerScrollActive&&(this._listenerScrollActive=!0,window.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._onScroll,{passive:!0}));const i={className:(0,a.A)("popper-wrapper",r),onMouseEnter:e.includes(h.mH)&&!t?this._onMouseEnter:null,onMouseLeave:e.includes(h.mH)&&!t?this._onMouseLeave:null,ref:e=>this._popperRef=e};return s.createElement(n,i,this._renderTarget(),this._renderWrapper())}_renderWrapper(){const{isVisible:e,usePortal:t}=this.props;if(!e)return null;const n=s.createElement("div",{className:"popper",ref:e=>this._contentRef=e,style:this._getPopperStyle()},this._renderPopper(),this._renderArrow());return t?(0,l.createPortal)(n,document.body):n}_renderTarget(){const{children:e,tooltip:t,isVisible:n}=this.props,i=s.cloneElement(e,{className:(0,a.A)(e.props.className,{"is-active":n}),onClick:this._onTargetClick,ref:e=>this._targetRef=(0,l.findDOMNode)(e)});return t?s.createElement(m.m,(0,r.A)({hasArrow:!0},t,{label:t.text,placement:t.position}),i):i}_renderPopper(){const{data:t,isFullWidth:n,isVisible:l,params:i}=this.props;return l?(n&&(t.size=h.YT),s.createElement(e,(0,r.A)({},t,i,{onClose:()=>this._hide()}))):null}_renderArrow(){const{hasArrow:e}=this.props;if(!e)return null;const t={className:"popper-arrow",ref:e=>this._arrowRef=e};return s.createElement("div",t)}_onTargetClick(e){const{children:t,trigger:n,isDisabled:r,closeOnClick:s,isVisible:l}=this.props;n.includes(h.uW)&&!r&&(l&&s?this._hide():this._show()),"function"==typeof t.props.onClick&&t.props.onClick(e)}_onDocumentClick(e){this._popperRef&&this._popperRef.contains(e.target)||(0,c.A)(this,"_popper.popper")&&this._popper.popper.contains(e.target)||this._hide()}_onScroll(){this._hide()}_onMouseEnter(){const{delay:e}=this.props;e>0?this._showTimeout=window.setTimeout((()=>{this._show()}),e):this._show()}_onMouseLeave(e){e.relatedTarget!==window?this._hide():e.stopPropagation()}_initPopper(){if(!this._targetRef||!this._contentRef)return;let e={placement:this.props.placement,modifiers:{arrow:{enabled:this.props.hasArrow,element:this._arrowRef}}};this.props.usePortal&&(e.modifiers={...e.modifiers,preventOverflow:{boundariesElement:"viewport"}}),this._popper=new o.A(this._targetRef,this._contentRef,e)}_getPopperStyle(){const{isVisible:e,isFullWidth:t,usePortal:n}=this.props;return{display:e?null:"none",width:t?"100%":void 0,zIndex:n?300:null}}_show(){const{popperId:e,isVisible:t}=this.props;t||this.props.showPopper(e)}_hide(){const{isVisible:e,usePortal:t}=this.props;this._clear(),e&&(this.props.hidePopper(),t&&this._destroy()),this._removeListener()}_destroy(){this._unlisten&&this._unlisten(),this._popper&&(this._popper.destroy(),this._popper=null)}_clear(){this._showTimeout&&window.clearTimeout(this._showTimeout)}_removeListener(){this.props.trigger.includes(h.uW)&&(this._listenerClickActive=!1,document.removeEventListener("click",this._onDocumentClick)),this.props.trigger.includes(h.h4)&&(this._listenerScrollActive=!1,window.removeEventListener("scroll",this._onScroll,{passive:!0}),window.removeEventListener("resize",this._onScroll,{passive:!0}))}}return t.defaultProps={placement:"top",hasArrow:!0,trigger:[h.uW],delay:0,closeOnClick:!0,isDisabled:!1,isFullWidth:!1,tag:"div",data:{},tooltip:null,usePortal:!1},d.A.addReducers({popper:p.Ay}),(0,i.Ng)((({popper:e},{popperId:t})=>({isVisible:(0,p.Pu)(e,t)})),{showPopper:p.On,hidePopper:p.Lm})(t)}},zDvJ:(e,t,n)=>{n.d(t,{Dn:()=>r,W8:()=>s,YT:()=>l,h4:()=>o,mH:()=>a,uW:()=>i});const r="sm",s="lg",l="full",i="click",a="hover",o="scroll"}}]);