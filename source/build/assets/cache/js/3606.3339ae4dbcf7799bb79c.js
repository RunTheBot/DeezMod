"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[3606],{"934x":(t,e,a)=>{a.d(e,{A:()=>p});var i,s=a("q1tI"),r=a("juqV"),o=a("GkjM"),l=a("3JOg"),n=a("rYh+");const c=({className:t,children:e,isExternal:a,href:c,...p})=>{const d=c&&!a?o.A:"a",A={className:(0,r.A)(t,"header-link"),href:c&&!a?null:c,to:c&&!a?c:null,role:c?null:"button",...p};return s.createElement(l.A,null,s.createElement(d,A,e,i||(i=s.createElement(n.A,{className:"header-link-target"}))))};c.defaultProps={isExternal:!1,href:null};const p=c},"0oF4":(t,e,a)=>{a.d(e,{A:()=>c});var i=a("q1tI"),s=a("juqV"),r=a("6R6N"),o=a("BJtZ");const l={root:"CSc6R","is-disabled":"aLtBD",isDisabled:"aLtBD","is-restricted":"EyGqz",isRestricted:"EyGqz",container:"ui85P",note:"jSAPr","is-active":"llBv5",isActive:"llBv5"};var n=a("Wp0Y");const c=({rank:t})=>{const e=(0,s.A)(l.root,(0,o.A)(l));return i.createElement("div",{className:e,"aria-label":(0,n.AP)("datagrid_text_bypopularity_web",{sprintf:[`${t} / 10`]}),"data-testid":"popularity"},i.createElement(r.A,{className:l.container},(()=>{const e=[];for(let a=0;a<5;a++){const r=a<=t/2-1,o=(0,s.A)(l.note,{[l.isActive]:r});e.push(i.createElement("span",{key:a,"data-testid":r?"note-active":"note-inactive",className:o}))}return e})()))}},YVUD:(t,e,a)=>{a.d(e,{A:()=>C});var i=a("+9dH"),s=a("17x9"),r=a.n(s),o=a("q1tI"),l=a("nrKQ"),n=a("Wp0Y"),c=a("tZCQ"),p=a("lG1H"),d=a("kSUS"),A=a("H/eQ");class m extends o.Component{constructor(t){super(t),this._onScroll=this._onScroll.bind(this),this._onResize=this._onResize.bind(this)}UNSAFE_componentWillMount(){this._scrollActive=0!==this.props.total&&this.props.total>this.props.start,this._scrollActive&&0===this.props.start&&this._loadData()}componentDidMount(){this._resizeCallback=(0,d.A)(this._onResize,500),A.A.subscribe(A.A.layout.scroll,this._onScroll),window.addEventListener("resize",this._resizeCallback),this._scrollActive&&!this._hasScrollbar()&&this._loadData()}UNSAFE_componentWillReceiveProps(t){this._scrollActive=0!==t.total&&t.total>t.start,this._scrollActive&&0===t.start&&this._loadData()}componentDidUpdate(){this._scrollActive=0!==this.props.total&&this.props.total>this.props.start,this._scrollActive&&!this._hasScrollbar()&&this._loadData()}componentWillUnmount(){this._resizeCallback.cancel(),A.A.unsubscribe(A.A.layout.scroll,this._onScroll),window.removeEventListener("resize",this._resizeCallback)}render(){return o.createElement("div",{className:this.props.wrapperClass,"aria-live":"polite"},this.props.children)}_onScroll(t,{height:e,yscroll:a}){const i=document.body.scrollHeight;this._scrollActive&&i<=e+a+this.props.spacer&&this._loadData()}_onResize(){this._scrollActive&&!this._hasScrollbar()&&this._loadData()}_loadData(){this._scrollActive=!1;const{start:t,nb:e}=this.props;this.props.loadData(t,e)}_hasScrollbar(){return window.innerHeight<document.body.scrollHeight}}m.defaultProps={wrapperClass:"container",spacer:0,nb:20};const u=m;var _=a("hIIJ"),h=a("5G9X"),v=a("7E8A"),E=a("AfN5");const y={[h.Ay.TalkShow]:!0,[v.CONTEXT_PAGE_ARTIST_TAB_RELATED_ARTIST]:!0,[h.Ay.TopArtistFull]:!0,[h.Ay.Playlist]:!0,[E.Kk.PERSONAL_LOVED]:!0,[h.Ay.PersonalPlaylist]:!0,[h.Ay.CuratedChartsPlaylist]:!0,[h.Ay.ChartsPlaylist]:!0,[h.Ay.CuratorPlaylist]:!0,[h.Ay.CollaborativePlaylist]:!0,[h.Ay.Smarttracklist]:!0,[E.Kk.SEARCH]:!0,talkSearch:!0,[h.Ay.Album]:!0,lyricsSearch:!0,[v.CONTEXT_PAGE_SEARCH_TAB_ARTIST]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_PLAYLIST]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_ALBUM]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_RADIO]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_CHANNEL]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_SHOW]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_LIVESTREAM]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_USER]:!0,[v.CONTEXT_PAGE_SEARCH_TAB_LYRICS]:!0},b=t=>Boolean(y[t]);class g extends o.Component{constructor(t){super(t),this._progressiveDisplayGroup=20,this._loadData=this._loadData.bind(this),this.state={data:t.data,total:t.total,progressiveDisplayLength:this._progressiveDisplayGroup}}UNSAFE_componentWillReceiveProps(t){(t.id!==this.props.id||t.filter!==this.props.filter||t.progressiveDisplay||b(this.props.pageContext))&&this.setState({data:t.data,total:t.total,progressiveDisplayLength:this._progressiveDisplayGroup})}componentWillUnmount(){l.A.cancel(this._apiCallRef)}render(){const{progressiveDisplayLength:t,data:e,total:a}=this.state,s=this.props.progressiveDisplay?e.slice(0,t):e,r=s.length,l=this._getGridAttributes();return o.createElement(u,{loadData:this._loadData,start:r,total:a,spacer:340},this._renderTitle(),a>-1&&o.createElement(p.A,(0,i.A)({data:s,pageContext:this.props.pageContext},l)))}_renderTitle(){const{title:t}=this.props;return""!==t&&(c.A.isAllowed("revamp2023")?o.createElement(_.A,{title:t,mb:"spacing.2xl"}):o.createElement("div",{className:"thumbnail-grid-title heading-1"},t))}_loadData(t,e){let{data:a,progressiveDisplayLength:i}=this.state;const{progressiveDisplay:s,method:r,id:o}=this.props;if(s)return void this.setState({progressiveDisplayLength:i+this._progressiveDisplayGroup});const n=r&&r.params?r.params:{},c=this.state.next||t,p=Object.assign({},n,{start:c,nb:e});void 0!==o&&(p.id=o),b(this.props.pageContext)?this.props.fetchData(p):this._apiCallRef=l.A.call({method:this._getMethodName(),data:p,success:t=>{const e={total:t.total,next:t.next||null};t.data.length>0&&(e.data=a.concat(t.data)),this.setState(e)}})}_getMethodName(){const{type:t,method:e,pageContext:a}=this.props;return void 0!==e&&e?e.name:{related_playlist:t+".get"+("artist"===t?"SelectedAnd":"")+"RelatedPlaylist",shows:"deezer.pageShows"}[a]}_getGridAttributes(){return this.props.gridAttributes?this.props.gridAttributes:{[v.CONTEXT_PAGE_ARTIST_TAB_RELATED_PLAYLIST]:{context:this.props.type+"_similar_playlist",placeHolder:{img:"recommendation",wording:(0,n.AP)("Aucune playlist n'est disponible.")}}}[this.props.pageContext]||{placeHolder:this.props.placeHolder}}}g.contextTypes={isMe:r().bool,playlistFilter:r().string,searchFilter:r().string},g.defaultProps={data:[],filter:void 0,method:null,gridAttributes:null,total:-1,title:"",progressiveDisplay:!1,fetchData:()=>{},placeHolder:!1};const C=g},GxIe:(t,e,a)=>{a.d(e,{A:()=>k});var i,s,r=a("q1tI"),o=a("Ty5D"),l=a("Wp0Y"),n=a("LpaV"),c=a("CrR0"),p=a("0sL9"),d=a("o6LG"),A=a("lhvF"),m=a("/eXD"),u=a("L20E"),_=a("uN8A"),h=a("TDRX"),v=a("9OcB"),E=a("5Loq"),y=a("T0hu"),b=a("GkjM"),g=a("7bA3"),C=a("1lpQ"),T=a("smbX"),D=a("nQur"),S=a("0JBE"),R=a("kb9X"),F=a("5G9X");const f=t=>{t.stopPropagation(),t.currentTarget.blur()},k=(0,S.S2)((({id:t,albumName:e,picture:a,hasExplicitCover:F,releaseDate:k,contributors:P,isExplicitAlbum:x,hasContextMenu:N=!0,onAction:G})=>{const{push:L}=(0,o.W6)(),{toggleFavorite:X,isFavorite:I}=(0,D.A)(t),{legacyContext:B}=(0,S.iQ)(),O=(0,R.A)(),w={anchor:r.createElement(c.U,{"aria-label":(0,l.AP)("Plus"),icon:i||(i=r.createElement(E.j,null))}),context:B,data:{name:e,ARTISTS:P.map((t=>({ART_NAME:t.name}))),picture:a,id:t,type:1},id:t,placement:"top",disableZoomCover:!0};return r.createElement(p.V,{onClick:()=>{O(),null==G||G({type:"navigation",target:"album",id:t}),L(`/album/${t}`)},_hover:{cursor:"pointer"},"data-testid":"album_thumbnail"},r.createElement(d.g,{ratio:1,display:"block"},r.createElement(v.A,{src:a,alt:e,isExplicitCover:F},r.createElement(A.Q,null,r.createElement(g.A,{onClick:()=>null==G?void 0:G({type:"play"}),type:"album",id:t}),r.createElement(T.A,{isFavorite:I,toggleFavorite:X}),N&&r.createElement(n.K.Provider,{value:t},r.createElement(y.A,w))))),r.createElement(m.r,{title:e},r.createElement(b.A,{onClick:e=>{O(),null==G||G({type:"navigation",target:"album",id:t}),f(e)},to:`/album/${t}`,_hover:{textDecoration:"underline"}},e)),r.createElement(u.T,null,P.map(((t,e)=>r.createElement(r.Fragment,{key:t.id},e>0&&", ",r.createElement(b.A,{onClick:e=>{O(),null==G||G({type:"navigation",target:"artist",id:t.id}),f(e)},to:`/artist/${t.id}`,_hover:{textDecoration:"underline"}},t.name))))),r.createElement(_.f,null,(0,l.AP)("Sorti le")," ",k),x&&(s||(s=r.createElement(h.a,{mt:"spacing.s"},r.createElement(C.A,null)))))}),(({id:t})=>({itemId:t,item:F.Ay.Album})))},HXS3:(t,e,a)=>{a.d(e,{A:()=>b});var i=a("0sL9"),s=a("o6LG"),r=a("lhvF"),o=a("/eXD"),l=a("L20E"),n=a("9OcB"),c=a("q1tI"),p=a("7bA3"),d=a("GkjM"),A=a("Wp0Y"),m=a("23Qi"),u=a("Ty5D"),_=a("23mk"),h=a("smbX"),v=a("5G9X"),E=a("kb9X");const b=(0,a("0JBE").S2)((({picture:t,id:e,artistName:a,nbOfFans:y,hasExplicitPicture:b,onAction:g})=>{const{toggleFavorite:C,isFavorite:T}=(0,_.A)(e),D=(0,E.A)(),{push:S}=(0,u.W6)();return c.createElement(i.V,{textAlign:"center",onClick:()=>{D(),null==g||g({type:"navigation"}),S(`/artist/${e}`)},_hover:{cursor:"pointer"},"data-testid":"artist_thumbnail"},c.createElement(s.g,{ratio:1},c.createElement(n.A,{borderRadius:"rounded",src:t,isExplicitCover:b,type:v.Ay.Artist},c.createElement(r.Q,null,c.createElement(p.A,{onClick:()=>null==g?void 0:g({type:"play"}),shouldPlayRadio:!0,type:"artist",id:e}),c.createElement(h.A,{isFavorite:T,toggleFavorite:C})))),c.createElement(o.r,{title:a},c.createElement(d.A,{onClick:t=>{D(),null==g||g({type:"navigation"}),(t=>{t.stopPropagation(),t.currentTarget.blur()})(t)},to:`/artist/${e}`,_hover:{textDecoration:"underline"}},a)),Boolean(y)&&c.createElement(l.T,null,(0,A.WI)("%s fan","%s fans",{count:y,sprintf:[(0,m.A)(y)]})))}),(({id:t})=>({itemId:t,item:v.Ay.Artist})))},smbX:(t,e,a)=>{a.d(e,{A:()=>l});var i=a("q1tI"),s=a("Hews"),r=a("CrR0"),o=a("Wp0Y");const l=({isFavorite:t,toggleFavorite:e})=>i.createElement(r.U,{"aria-label":t?(0,o.AP)("Retirer des Coups de cœur"):(0,o.AP)("Ajouter aux Coups de cœur"),icon:i.createElement(s.A,{isActive:t}),onClick:e})},"7bA3":(t,e,a)=>{a.d(e,{A:()=>n});var i=a("q1tI"),s=a("F3Nm"),r=a("CrR0"),o=a("0JBE"),l=a("GjdC");const n=({id:t,type:e,displayForce:a,shouldPlayRadio:n=!1,onClick:c})=>{const{legacyContext:p}=(0,o.iQ)(),d=(0,l.A)();return i.createElement(r.U,{"aria-label":"",as:"div",displayForce:a,icon:i.createElement(s.A,{id:t,type:e,context:p,radio:n,onClick:t=>{null==c||c(),t||d("direct_play")}})})}},nQur:(t,e,a)=>{a.d(e,{A:()=>_});var i=a("Au7y"),s=a("Sb6s"),r=a("TRpf"),o=a("Fzox"),l=a("X6oL"),n=a("Nz/Y"),c=a("34sk"),p=a("yJX9"),d=a("vXsw"),A=a("xobL"),m=a("A2sV");const u=i.J1`
	fragment isAlbumFavorite on Album {
		isFavorite
	}
`,_=t=>{const e={albumId:t},a=(0,r.wA)(),i=(0,o.G)((({user:t})=>(0,A.UJ)(t))),_=(0,n.A)(),h=(0,l.z1)(),{data:v}=(0,s.I)({fragment:u,from:{__typename:"Album",id:t},optimistic:!0}),[E]=(0,m._At)({variables:e,optimisticResponse:{__typename:"Mutation",addAlbumToFavorite:{album:{id:t,isFavorite:!0,__typename:"Album"},__typename:"AlbumMutationFavoriteAddOut"}},onCompleted:()=>{a((0,c.TD)(p.Z.favorites,{id:t,timestamp:Date.now()},"album"));const e=h.getTrackingData(),{pagecategory:i,pagename:s,index:r}=e,o=i||s,l="album";o&&h.trackEvent({eventaction:`click-favorite-${o}_${l}`,event:"click",eventcategory:o,eventlabel:`favorite-${o}_${l}`,item:{id:t,type:l,rank:r||0}})}}),[y]=(0,m.I7O)({variables:e,onCompleted:()=>{a((0,c.E$)(p.Z.favorites,t,"album"))},optimisticResponse:{__typename:"Mutation",removeAlbumFromFavorite:{album:{id:t,isFavorite:!1,__typename:"Album"},__typename:"AlbumMutationFavoriteRemoveOut"}}}),b=(0,o.G)((e=>e.feedbacks.favorites.album.feedbacks[t])),g=Boolean(b||(null==v?void 0:v.isFavorite));return{isFavorite:g,toggleFavorite:()=>{i?g?y():(_(),E()):d.g.goToConnection()}}}},"23mk":(t,e,a)=>{a.d(e,{A:()=>u});var i=a("Au7y"),s=a("Sb6s"),r=a("TRpf"),o=a("Fzox"),l=a("Nz/Y"),n=a("34sk"),c=a("yJX9"),p=a("vXsw"),d=a("xobL"),A=a("A2sV");const m=i.J1`
	fragment isArtistFavorite on Artist {
		isFavorite
	}
`,u=t=>{const e={artistId:t},a=(0,r.wA)(),i=(0,o.G)((({user:t})=>(0,d.UJ)(t))),u=(0,l.A)(),{data:_}=(0,s.I)({fragment:m,from:{__typename:"Artist",id:t},optimistic:!0}),[h]=(0,A.BXP)({variables:e,optimisticResponse:{__typename:"Mutation",addArtistToFavorite:{favoritedAt:Date.now(),artist:{id:t,isFavorite:!0,__typename:"Artist"},__typename:"ArtistMutationFavoriteAddOut"}},onCompleted:()=>{a((0,n.TD)(c.Z.favorites,{id:t,timestamp:Date.now()},"artist"))}}),[v]=(0,A.a40)({variables:e,onCompleted:()=>{a((0,n.E$)(c.Z.favorites,t,"artist"))},optimisticResponse:{__typename:"Mutation",removeArtistFromFavorite:{artist:{id:t,isFavorite:!1,__typename:"Artist"},__typename:"ArtistMutationFavoriteRemoveOut"}}}),E=(0,o.G)((e=>e.feedbacks.favorites.artist.feedbacks[t])),y=Boolean(E||(null==_?void 0:_.isFavorite));return{isFavorite:y,toggleFavorite:()=>{i?y?v():(u(),h()):p.g.goToConnection()}}}}}]);