"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[56],{WBKf:(t,e,n)=>{n.d(e,{default:()=>d}),n("WpbS"),n("hB5o"),n("LvTk");var a=n("lPux"),s=n("qJB7");const i=new Uint8Array([0,0,0,50,100,102,76,97,0,0,0,0,128,0,0,34,16,0,16,0,0,0,0,0,0,0,10,196,66,240,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),r=new Uint8Array([0,0,0,32,102,116,121,112,105,115,111,53,0,0,0,1,105,115,111,53,100,115,109,115,109,115,105,120,100,97,115,104,0,0,2,17,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,40,109,118,101,120,0,0,0,32,116,114,101,120,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,0,1,117,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,1,17,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,0,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,0,188,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,128,115,116,98,108,0,0,0,52,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,36,46,109,112,51,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,16,115,116,116,115,0,0,0,0,0,0,0,0,0,0,0,16,115,116,115,99,0,0,0,0,0,0,0,0,0,0,0,20,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,115,116,99,111,0,0,0,0,0,0,0,0]),f=new Uint8Array([0,0,0,88,109,111,111,102,0,0,0,16,109,102,104,100,0,0,0,0,0,0,0,0,0,0,0,64,116,114,97,102,0,0,0,16,116,102,104,100,0,0,0,0,0,0,0,1,0,0,0,20,116,102,100,116,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,116,114,117,110,0,0,3,1,0,0,0,0,0,0,0,0]),o=new Uint8Array([0,0,0,8,109,100,97,116]);function l(t){return this.reduce(((e,n)=>{let a=e.findIndex((e=>e.value===n[t]));return a<0?e.push({nb:1,value:n[t]}):e[a].nb++,e}),[]).reduce(((t,e)=>e.nb>(t.nb||0)?e:t),{}).value}class d{constructor(t={},e={}){const{codec:n=s.Codec.MP3}=t.format||{};Object.defineProperty(this,"codec",{value:n}),Object.defineProperty(this,"metadata",{value:e})}get TransformStream(){const t=this;return new a.TransformStream({transform(e,n){if(!e.byteLength)return void n.enqueue(e);const a=e.buffer.frames,d={moof:f.length+8*a.length,mdat:o.length+e.byteLength};let U=new Uint8Array(d.moof+d.mdat),m=new DataView(U.buffer);U.set(f),m.setUint32(0,d.moof),m.setUint32(24,d.moof-24),m.setUint32(68,d.moof-68),m.setUint32(80,a.length),m.setUint32(84,d.moof+o.length);let c=84;if(a.forEach((t=>{m.setUint32(c+=4,t.samples),m.setUint32(c+=4,t.size)})),U.set(o,d.moof),U.set(e,d.moof+o.length),m.setUint32(d.moof,d.mdat),!t.initialized){d.dfla=t.codec===s.Codec.FLAC?i.length:0;const e=new Uint8Array(r.length+d.dfla+U.length);if(e.set(r),m=new DataView(e.buffer),d.dfla){const n=new Uint8Array(d.dfla);n.set(i),t.metadata.streaminfo&&n.set(t.metadata.streaminfo.raw,16),m.setUint32(461,1716281667),e.set(n,493),m.setUint32(457,m.getUint32(457)+d.dfla),m.setUint32(441,m.getUint32(441)+d.dfla),m.setUint32(433,m.getUint32(433)+d.dfla),m.setUint32(373,m.getUint32(373)+d.dfla),m.setUint32(288,m.getUint32(288)+d.dfla),m.setUint32(188,m.getUint32(188)+d.dfla),m.setUint32(32,m.getUint32(32)+d.dfla),e.set(new Uint8Array(r.buffer,493),493+d.dfla)}const n=(t.metadata.streaminfo||{}).bits||16,f=(t.metadata.streaminfo||{}).channels||l.call(a,"channels"),o=(t.metadata.streaminfo||{}).sampling||l.call(a,"sampling");16!==n&&m.setUint8(484,n),2!==f&&m.setUint8(482,f),44100!==o&&(m.setUint32(316,o),m.setUint16(489,o)),e.set(U,r.length+d.dfla),U=e,t.initialized=!0}const u=U.buffer;u.last=e.buffer.last,n.enqueue(u)}})}}}}]);