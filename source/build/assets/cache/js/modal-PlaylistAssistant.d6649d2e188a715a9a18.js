"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[8271],{"+Sva":(e,t,a)=>{a.d(t,{T:()=>n});var l=a("nKUr"),i=a("dPP5");const n=(0,a("0Iu3").R)(((e,t)=>(0,l.jsx)(i.B,{align:"center",...e,direction:"column",ref:t})));n.displayName="VStack"},"/uRm":(e,t,a)=>{a.d(t,{F:()=>l});let l=function(e){return e.ONBOARDING="ON_BOARDING",e.ONBOARDING_LEGACY="ON_BOARDING_LEGACY",e.SELECT_PROFILE="SELECT_PROFILE",e.BRIDGED_WEBVIEW="BRIDGED_WEBVIEW",e.PLAYLIST_ASSISTANT="PLAYLIST_ASSISTANT",e}({})},"8nqM":(e,t,a)=>{a.r(t),a.d(t,{default:()=>se});var l=a("q1tI"),i=a("TRpf"),n=a("Wp0Y"),r=a("tZCQ"),o=a("A2sV"),s=a("Wyo/"),c=(a("aRRr"),a("d84/")),d=a("aQSR"),p=a("HmE0"),u=a("iooo"),m=a("WmA5"),v=a("fkXJ"),y=a("TqF5"),E=a("aoCz"),f=a("Z+z7"),g=a("XkdG");const b=({onChange:e,value:t,hasError:a})=>l.createElement(c.s,{flexDirection:"column",gap:"spacing.xs"},l.createElement(f.E,{id:"playlist-assistant-name",role:"heading",variant:"body.s.default","data-testid":"playlist_name_title"},(0,n.AP)("createeditplaylistfield_title_name_web")),l.createElement(g.p,{placeholder:(0,n.AP)("Nom de la playlist"),maxLength:50,onChange:e,value:t,"aria-labelledby":"playlist-assistant-name","aria-required":"true",size:"small",isInvalid:a,"data-testid":"playlist_name_field"}));var h=a("mQNH");const _=({onChange:e,value:t})=>l.createElement(c.s,{flexDirection:"column",gap:"spacing.xs",my:"spacing.s"},l.createElement(f.E,{id:"playlist-assistant-description",variant:"body.s.default","data-testid":"playlist_description_title"},(0,n.AP)("createeditplaylistfield_title_description_web")),l.createElement(h.T,{maxLength:200,placeholder:(0,n.AP)("createeditplaylistfield_text_playlistdescription_web"),onChange:e,"aria-labelledby":"playlist-assistant-description","aria-required":"false",value:t||"",fontSize:"sm",height:"92px",resize:"none","data-testid":"playlist_description_field"}));var x,P=a("7ZZW"),w=a("4tze"),A=a("zzll"),C=a("FFEP");const I=({onToggle:e,isChecked:t,disabled:a})=>l.createElement(P.MJ,{key:"private",display:"flex",alignItems:"center",opacity:a?.4:void 0,pointerEvents:a?"none":void 0,onChange:a=>e(a,t)},l.createElement(c.s,{as:w.l,htmlFor:"private",direction:"row",m:0,gap:"spacing.l",flex:1},x||(x=l.createElement(c.s,{align:"center",justify:"center",boxSize:"size.m",borderRadius:"full",bg:"background.neutral.tertiary.default"},l.createElement(C.X,{color:"icon.neutral.secondary.default"}))),l.createElement(c.s,{direction:"row",align:"center",justify:"space-between",flex:1},l.createElement(c.s,{direction:"column"},l.createElement(f.E,{variant:"body.l.default","data-testid":"private_title",color:"text.neutral.primary.default"},(0,n.AP)("Privée")),l.createElement(f.E,{as:"span",variant:"body.2xs.default","data-testid":"private_description",color:"text.neutral.secondary.default"},(0,n.AP)("createeditplaylistsettings_title_onlyyoucanseethisplaylist_web"))),l.createElement(A.d,{id:"private",isChecked:t,isDisabled:a,"data-testid":t?"private_toggle_on":"private_toggle_off"}))));var S,k=a("vZvY");const R=({onToggle:e,isChecked:t,disabled:a})=>l.createElement(P.MJ,{key:"collab",display:"flex",alignItems:"center",opacity:a?.4:void 0,pointerEvents:a?"none":void 0,onChange:a=>e(a,t)},l.createElement(c.s,{as:w.l,htmlFor:"collab",direction:"row",m:0,gap:"spacing.l",flex:1},S||(S=l.createElement(c.s,{align:"center",justify:"center",boxSize:"size.m",borderRadius:"full",bg:"background.neutral.tertiary.default"},l.createElement(k.O,{color:"icon.neutral.secondary.default"}))),l.createElement(c.s,{direction:"row",align:"center",justify:"space-between",flex:1},l.createElement(c.s,{direction:"column"},l.createElement(f.E,{variant:"body.l.default","data-testid":"collaborative_title",color:"text.neutral.primary.default"},(0,n.AP)("Collaborative")),l.createElement(f.E,{as:"span",variant:"body.2xs.default","data-testid":"collaborative_subtitle",color:"text.neutral.secondary.default"},(0,n.AP)("createeditplaylistsettings_title_inviteotherstoaddtracks_web")))),l.createElement(A.d,{id:"collab",isChecked:t,isDisabled:a,"data-testid":t?"collaborative_toggle_on":"collaborative_toggle_off"})));var z=a("5G9X"),N=a("K5vB"),j=a("QOhT");const L=({picture:e,onSucessUpdate:t,onErrorUpdate:a,onDisplayUpdate:i})=>l.createElement(N.AG,{value:{isGraphQlUpload:!0,onSuccess:t,onError:a,onDisplay:i}},l.createElement(j.A,{bordered:!0,multiCover:!0,type:z.Ay.Playlist,height:200,width:200,uploadCover:"force",coverLink:!1,imgSrc:e})),Z=({type:e,playlistId:t,trackIds:a=[],onPlaylistCreation:r,data:s})=>{var f;const g=null==s?void 0:s.playlist,h=e===E.F.EDITION,x=e===E.F.CREATION,[P,w]=(0,l.useState)(null==g||null===(f=g.picture)||void 0===f?void 0:f.medium[0]),[A,C]=(0,l.useState)(void 0),S=(0,i.wA)(),[k,z]=(0,l.useState)(!1),[N]=(0,o.$IV)(),j=e=>{D({variables:{input:{title:G.trim(),description:H||void 0,isPrivate:U,isCollaborative:q,picture:e||void 0}}})},Z=(e,a)=>{if(t){if(a)return void O({variables:{input:{playlistId:t,picture:e||void 0}}});O({variables:{input:{playlistId:t,title:G.trim(),description:H||void 0,isPrivate:U,isCollaborative:q,picture:e||void 0}}})}},[D]=(0,o.DpH)({onCompleted:e=>{var t;const l=null===(t=e.createPlaylist)||void 0===t||null===(t=t.playlist)||void 0===t?void 0:t.id;if(l){if(!a||0===a.length)return void W(l);a.length>0&&N({variables:{input:{playlistId:l,trackIds:a}}}).then((()=>{W(l)}))}},onError:()=>{z(!1)}}),[O]=(0,o.U3y)({onCompleted:e=>{var t;const a=null===(t=e.updatePlaylist)||void 0===t||null===(t=t.playlist)||void 0===t?void 0:t.id;a&&W(a)},onError:()=>{z(!1)}}),[T,B]=(0,l.useState)(!1),[M,F]=(0,l.useState)({title:(null==g?void 0:g.title)||"",description:(null==g?void 0:g.description)||null,isPrivate:(null==g?void 0:g.isPrivate)||!1,isCollab:(null==g?void 0:g.isCollaborative)||!1}),{title:G,description:H,isPrivate:U,isCollab:q}=M,W=t=>{e===E.F.CREATION?(m.A.push((0,u.jd)(`/playlist/${t}`)),(0,v.A)({body:(0,n.AP)("toastmessage_title_playlistcreated_web")}),null==r||r()):e===E.F.EDITION&&(0,v.A)({body:(0,n.AP)("toastmessage_title_playlistupdated_web")}),z(!1),S((0,y.Oo)())},J=(e,t)=>{F({...M,[e]:t})};return l.createElement(c.s,{direction:"column",gap:"spacing.l"},l.createElement(c.s,{direction:"row",gap:"spacing.xl"},l.createElement(L,{picture:P,onDisplayUpdate:(e,t)=>{w(e),C((()=>t))},onErrorUpdate:()=>{x?j():h&&Z()},onSucessUpdate:e=>{x?j(e):h&&Z(e,(null==g?void 0:g.title)===G&&(null==g?void 0:g.description)===H&&(null==g?void 0:g.isPrivate)===U&&(null==g?void 0:g.isCollaborative)===q)}}),l.createElement(c.s,{direction:"column",flex:1,gap:"spacing.l"},l.createElement(b,{value:G,onChange:e=>{B(!1),J("title",e.target.value)},hasError:T}),l.createElement(R,{isChecked:q,onToggle:(e,t)=>{e.stopPropagation(),F({...M,isCollab:!q,isPrivate:!t&&U})},disabled:U}),l.createElement(I,{isChecked:U,onToggle:(e,t)=>{e.stopPropagation(),F({...M,isPrivate:!U,isCollab:!t&&q})},disabled:q}))),l.createElement(_,{value:H,onChange:e=>J("description",e.target.value)}),l.createElement(d.e,{display:"flex",justifyContent:"flex-end"},l.createElement(p.$n,{isDisabled:k,onClick:()=>{""!==G.trim()?(z(!0),A?A("",!0):x?j():h&&Z()):B(!0)},"data-testid":h?"playlist_save_button":"playlist_create_button"},h?(0,n.AP)("Enregistrer"):(0,n.AP)("Créer"))))};var D=a("+Sva"),O=a("wZBD"),T=a("W1Rt"),B=a("nKUr");const M=(0,a("btyE").w)({displayName:"WandIcon",viewBox:"0 0 24 24",pathSmall:[(0,B.jsx)("path",{fillRule:"evenodd",d:"M18.949 6.553 19.197 8l-1.3-.683-1.3.683.249-1.447-1.052-1.025 1.453-.211.65-1.317.65 1.317 1.453.21-1.051 1.026ZM4 17.172l9.294-9.295 2.829 2.829L6.828 20 4 17.172Zm1.886 0 .942.942 5.122-5.122-.942-.942-5.122 5.122Zm7.408-7.41-1.344 1.345.943.943 1.344-1.345-.943-.942Zm4.586 3.555L17.23 12l-.65 1.317-1.453.21 1.052 1.026L15.93 16l1.3-.683 1.3.683-.248-1.447 1.051-1.025-1.453-.211ZM9.897 7.983l-1.3.684.249-1.448-1.052-1.024 1.453-.212.65-1.316.65 1.316L12 6.195l-1.05 1.024.248 1.448-1.3-.684Z",clipRule:"evenodd"})],pathMedium:[(0,B.jsx)("path",{fillRule:"evenodd",d:"M20.846 4.975 18.896 6l.372-2.17-1.577-1.538 2.18-.317L20.846 0l.974 1.975 2.18.317-1.577 1.537L22.795 6l-1.95-1.025ZM1 18.757 14.942 4.816l4.242 4.242L5.243 23 1 18.757Zm2.828 0 1.415 1.415 7.683-7.683-1.415-1.415-7.683 7.683ZM14.942 7.644 12.925 9.66l1.415 1.415 2.016-2.017-1.414-1.414Zm6.878 5.331L20.846 11l-.975 1.975-2.18.317 1.577 1.537L18.896 17l1.95-1.025L22.796 17l-.373-2.17L24 13.291l-2.18-.317Zm-11.974-8L7.896 6l.372-2.17-1.577-1.538 2.18-.317L9.846 0l.974 1.975 2.18.317-1.577 1.537L11.795 6l-1.95-1.025Z",clipRule:"evenodd"})]});M.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"WandIcon"};var F,G=a("nxAS"),H=a("/uRm"),U=a("okj2"),q=a("rxfZ"),W=a("6vqc");const J=({title:e,description:t,icon:a,onClick:i})=>l.createElement(U.z,{onClick:()=>{i()},w:"full",gap:"spacing.m",py:"spacing.s",role:"group",_hover:{bg:"background.neutral.secondary.hovered"},cursor:"pointer"},l.createElement(q.a,{bg:"background.neutral.tertiary.default",_groupHover:{bg:"background.neutral.tertiary.hovered"},p:"spacing.s",borderRadius:"2xs"},a),l.createElement(q.a,{flex:"1"},l.createElement(f.E,{variant:"body.l.default"},e),l.createElement(f.E,{variant:"body.s.default",color:"text.neutral.secondary.default",as:"span"},t)),F||(F=l.createElement(W.v,null)));var K,Y=a("gBSU");const Q=()=>K||(K=l.createElement(c.s,{direction:"column",gap:"spacing.s"},l.createElement(Y.E,{height:"size.xs",width:"50px"}),l.createElement(Y.E,{height:"size.m",width:"100%"})));var V;const X=()=>V||(V=l.createElement(c.s,{direction:"column",gap:"spacing.s"},l.createElement(Y.E,{height:"size.xs",width:"70px"}),l.createElement(Y.E,{height:"92px"})));var $;const ee=()=>$||($=l.createElement(c.s,{direction:"row",width:"100%",justify:"space-between"},l.createElement(Y.E,{width:"size.m",height:"size.m",mr:"spacing.l",borderRadius:"full"}),l.createElement(c.s,{direction:"row",align:"center",flex:1},l.createElement(c.s,{direction:"column",flex:1},l.createElement(Y.E,{height:"size.s",width:"70px",mb:"spacing.m"}),l.createElement(Y.E,{height:"size.xs",width:"140px"})),l.createElement(Y.E,{width:"size.l",height:"size.s"}))));var te;const ae=()=>te||(te=l.createElement(c.s,{direction:"column"},l.createElement(c.s,{direction:"row",mb:"spacing.l"},l.createElement(Y.E,{w:"200px",h:"200px",mr:"20px"}),l.createElement(c.s,{direction:"column",flex:1,gap:"spacing.l"},l.createElement(Q,null),l.createElement(ee,null),l.createElement(ee,null))),l.createElement(X,null),l.createElement(Y.E,{w:"100px",h:"size.xl",mt:"spacing.l",alignSelf:"flex-end"})));var le,ie,ne,re,oe;const se=({playlistId:e,sngId:t,type:a,onPlaylistCreation:c})=>{const[d,p]=l.useState(!1),u=(0,i.wA)(),m=a===E.F.CREATION,v=m?(0,n.AP)("generic_title_createplaylist_web"):(0,n.AP)("generic_title_editplaylist_web"),f=r.A.isAllowed("employee_feature")&&m&&!d&&!(null!=t&&t.length),{data:g}=(0,o.EG)({variables:{playlistId:e},skip:a===E.F.CREATION||!e});return(0,l.useEffect)((()=>{u((0,y.Yo)(f?"small":"large"))}),[f]),l.createElement("div",{role:"dialog","aria-labelledby":"modal_title"},le||(le=l.createElement(s.A.Close,null)),l.createElement(s.A.Header,null,v),l.createElement(s.A.Body,{className:"wrapper"},f?l.createElement(D.T,{gap:"spacing.xs"},l.createElement(J,{title:"Playlist",description:"Add your favorite songs",icon:ie||(ie=l.createElement(T.G,{size:"medium"})),onClick:()=>{p(!0)}}),l.createElement(J,{title:ne||(ne=l.createElement(l.Fragment,null,"AI Playlist ",l.createElement(O.J,{variant:"accent"},"BETA"))),description:"Generate a playlist from an idea",icon:re||(re=l.createElement(M,{size:"medium"})),onClick:()=>{u((0,y.Oo)()),u((0,G.J2)({name:H.F.BRIDGED_WEBVIEW,data:{pathname:"/genplaylist",fixedLogo:!0}}))}})):m||g?l.createElement(Z,{type:a,playlistId:e,trackIds:t,onPlaylistCreation:c,data:g}):oe||(oe=l.createElement(ae,null))))}},FFEP:(e,t,a)=>{a.d(t,{X:()=>i});var l=a("nKUr");const i=(0,a("btyE").w)({displayName:"LockIcon",viewBox:"0 0 24 24",pathSmall:[(0,l.jsx)("path",{d:"M13.5 14a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M17.683 8H15.5c0-2.569-1.252-4-3.5-4S8.5 5.431 8.5 8H6.315c-.412 0-.762.26-.832.62A29.453 29.453 0 0 0 5 13.68a29.99 29.99 0 0 0 .5 5.7c.07.36.42.62.831.62H17.7c.412 0 .762-.26.832-.62.631-2.94.622-7.87-.017-10.76-.07-.36-.42-.62-.832-.62ZM9.83 8c0-1.087.266-1.73.578-2.087.288-.33.763-.583 1.592-.583.83 0 1.304.253 1.592.583.312.356.578 1 .578 2.087H9.83Zm7.472 1.33H6.71a28.173 28.173 0 0 0-.378 4.362 29.07 29.07 0 0 0 .392 4.978h10.594c.477-2.649.47-6.736-.015-9.34Z",clipRule:"evenodd"})],pathMedium:[(0,l.jsx)("path",{d:"M10.53 13.436c.32-.29.8-.436 1.47-.436.585 0 1.048.134 1.38.402.409.33.62.862.62 1.598 0 .672-.14 1.172-.46 1.504-.321.332-.821.496-1.54.496-.658 0-1.138-.144-1.463-.436-.369-.33-.537-.85-.537-1.564 0-.708.16-1.231.53-1.564Z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M3.878 7H7c0-3.853 1.789-6 5-6 3.21 0 5 2.147 5 6h3.119c.587 0 1.088.347 1.188.827.913 3.853.926 10.426.025 14.346-.1.48-.6.827-1.189.827H3.904c-.588 0-1.088-.347-1.188-.827-.426-2.066-.739-4.786-.714-7.6.025-2.573.313-4.84.689-6.746.1-.48.6-.827 1.188-.827ZM9 7c0-1.65.386-2.63.832-3.165C10.232 3.357 10.87 3 12 3c1.13 0 1.769.357 2.168.835C14.614 4.371 15 5.35 15 7H9Zm10.512 2c.642 3.38.653 8.563.02 12H4.527A35.994 35.994 0 0 1 4 14.592c.02-2.09.224-3.964.505-5.592h15.006Z",clipRule:"evenodd"})]});i.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"LockIcon"}},aQSR:(e,t,a)=>{a.d(t,{e:()=>E});var l=a("nKUr"),i=a("0Iu3"),n=a("Z/8J"),r=a("q1tI"),o=a("pqu/"),s=a("4NIx");const c={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},d={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},p=(0,i.R)((function(e,t){const{size:a,colorScheme:i,variant:p,className:u,spacing:m="0.5rem",isAttached:v,isDisabled:y,orientation:E="horizontal",...f}=e,g=(0,n.cx)("chakra-button__group",u),b=(0,r.useMemo)((()=>({size:a,colorScheme:i,variant:p,isDisabled:y})),[a,i,p,y]);let h={display:"inline-flex",...v?c[E]:d[E](m)};const _="vertical"===E;return(0,l.jsx)(o.l,{value:b,children:(0,l.jsx)(s.B.div,{ref:t,role:"group",__css:h,className:g,"data-attached":v?"":void 0,"data-orientation":E,flexDir:_?"column":void 0,...f})})}));p.displayName="ButtonGroup";var u=a("gCxg"),m=a("btyE");function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){v(e,t,a[t])}))}return e}const E=(0,i.R)(((e,t)=>{const{isAttached:a}=e;let i={};return a&&(i={display:"flex","> *:first-of-type:not(:last-of-type)":{borderEndRadius:0,_focus:(0,u.q)()},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0,_focus:(0,u.q)()},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0,_focus:(0,u.q)()}}),(0,l.jsx)(m.o.Provider,{value:e.size||"medium",children:(0,l.jsx)(p,y({ref:t,sx:i},e))})}))},okj2:(e,t,a)=>{a.d(t,{z:()=>n});var l=a("nKUr"),i=a("dPP5");const n=(0,a("0Iu3").R)(((e,t)=>(0,l.jsx)(i.B,{align:"center",...e,direction:"row",ref:t})));n.displayName="HStack"},zzll:(e,t,a)=>{a.d(t,{d:()=>p});var l=a("nKUr"),i=a("bTBG"),n=a("Z/8J"),r=a("q1tI"),o=a("Z55q"),s=a("0Iu3"),c=a("JPA8"),d=a("4NIx");const p=(0,s.R)((function(e,t){const a=(0,c.o)("Switch",e),{spacing:s="0.5rem",children:p,...u}=(0,i.M)(e),{getIndicatorProps:m,getInputProps:v,getCheckboxProps:y,getRootProps:E,getLabelProps:f}=(0,o.v)(u),g=(0,r.useMemo)((()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...a.container})),[a.container]),b=(0,r.useMemo)((()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...a.track})),[a.track]),h=(0,r.useMemo)((()=>({userSelect:"none",marginStart:s,...a.label})),[s,a.label]);return(0,l.jsxs)(d.B.label,{...E(),className:(0,n.cx)("chakra-switch",e.className),__css:g,children:[(0,l.jsx)("input",{className:"chakra-switch__input",...v({},t)}),(0,l.jsx)(d.B.span,{...y(),className:"chakra-switch__track",__css:b,children:(0,l.jsx)(d.B.span,{__css:a.thumb,className:"chakra-switch__thumb",...m()})}),p&&(0,l.jsx)(d.B.span,{className:"chakra-switch__label",...f(),__css:h,children:p})]})}));p.displayName="Switch"}}]);