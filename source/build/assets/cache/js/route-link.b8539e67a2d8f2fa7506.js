"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[7383],{RGaU:(e,t,n)=>{n.d(t,{k:()=>d});var s=n("nKUr"),r=n("TDRX"),o=n("AeFk"),a=n("AxvE");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=o.i7`
	100% {
		transform: rotate(360deg);
	}
`,d=e=>{var{thickness:t=4,size:n=32,trackColor:o=a.L.colors.neutral[20],thumbColor:d=a.L.colors.neutral[100],speed:u=600}=e,m=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["thickness","size","trackColor","thumbColor","speed"]);return(0,s.jsx)(r.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){i(e,t,n[t])}))}return e}({animation:`${c} ${u}ms infinite linear`,borderColor:o,borderRadius:"50%",borderStyle:"solid",borderTopColor:d,borderWidth:`${t}px`,display:"inline-block",height:`${n}px`,width:`${n}px`},m))}},QAVE:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var s,r=n("X6oL"),o=n("9yOc"),a=n("q1tI"),i=n("LUSR"),l=n("TRpf"),c=n("Wp0Y"),d=n("QVzS"),u=n("2qhg");class m extends a.PureComponent{render(){return a.createElement(a.Fragment,null,s||(s=a.createElement("div",{className:"burger-icon",id:"burger_menu_button"},a.createElement("span",{className:"line"}),a.createElement("span",{className:"line"}),a.createElement("span",{className:"line"}))),a.createElement("div",{className:"burger-menu burger-menu-hidden",id:"burger_menu"},a.createElement("div",null,a.createElement("div",{className:"nav-collapse",id:"backstage_navigation_collapse"},a.createElement("ul",{className:"nav"},this._renderMenuContent())))))}_renderMenuContent(){return 0!==u.default.current()?a.createElement(a.Fragment,null,a.createElement("li",{className:"nav-item"},a.createElement("a",{role:"button",className:"nav-main-link backstage-header-link",onClick:()=>u.default.logout()},(0,c.AP)("DÃ©connexion")))):null}}const g=m;var p,h,b=n("xobL"),f=n("TDRX"),v=n("CdHq"),E=n("LSdk"),y=n("HmE0");let _=(0,r.Ay)({eventcategory:"header"})(p=class extends a.PureComponent{constructor(e){super(e),d.A.init()}render(){return a.createElement(f.a,{width:"100%",height:{base:"60px",md:"80px"},bg:"background.neutral.primary.default",boxShadow:"0 3px 0 0 rgba(0, 0, 0, .06)",position:"fixed",top:0,zIndex:2e3},a.createElement(v.s,{height:"100%",alignItems:"center",paddingX:{base:"spacing.xl",md:"122px"},justifyContent:{base:"flex-start",md:"space-between"}},a.createElement(f.a,null,a.createElement(E.T,{height:{base:8,md:10}})),this._renderUnloggedButtons()),h||(h=a.createElement(g,null)))}_renderUnloggedButtons(){return this.props.userConnected&&(this.props.isFreemiumCountry||!this.props.isFreemiumCountry&&this.props.isPremiumUser)?a.createElement("div",{className:"cell cell-profile hidden-phone"},a.createElement(y.$n,{as:"a",boxSizing:"border-box",id:"topbar-player-button",href:"/",variant:"outline",size:"md"},(0,c.AP)("Ouvrir le player"))):null}})||p;const k=(0,l.Ng)((({user:e})=>({userConnected:(0,b.UJ)(e),isFreemiumCountry:(0,b.zC)(e),isPremiumUser:(0,b.ki)(e)})))(_);var w=n("5pmF"),C=n("r2ys"),x=n("Zah6");const A=e=>{const{differedDeeplink:t}=e;return a.createElement("div",{className:"unlogged-authen unlogged-login"},a.createElement("div",{className:"unlogged-container formlink"},a.createElement("div",{className:"unlogged-container-inner"},a.createElement(y.$n,{as:"a",size:"lg",href:t},(0,c.AP)("generic_action_continuewithplanX_web",{sprintf:["Deezer App"]})))))};n("gkSg"),n("f4Bz");var S,O=n("nrKQ"),D=n("FVVF"),I=n("80JK"),M=n("8WIx"),N=n("XkdG"),R=n("RGaU");class z extends a.Component{constructor(...e){super(...e),this.state={code:"",errorMessage:"",isSendingCode:!1},this.handleInputChange=e=>{const t=e.target.value;this.setState({code:t})},this.handleSubmit=e=>{this.setState({errorMessage:"",isSendingCode:!0}),O.A.call({method:"deezer.associateSmartLoginCodeWithUser",data:{SMARTLOGIN_CODE:this.state.code},success:()=>{this.props.codeIsValid()},error:()=>{this.setState({errorMessage:(0,c.AP)("smartloginerrormessage_title_oopswrongcode_web"),isSendingCode:!1})},http_headers:{"X-DEEZER-CSRF-PROTECTION":1}}),e.preventDefault()},this._canSubmit=()=>Boolean(""!==this.state.code)}render(){const{errorMessage:e}=this.state;return a.createElement("form",{className:"formlink-input-container",onSubmit:this.handleSubmit},a.createElement(D.T,{spacing:"8",w:"100%"},a.createElement(I.MJ,{isRequired:!0},a.createElement(M.l,{"data-testid":"enter-your-code-text"},(0,c.AP)("Entrez votre code")),a.createElement(N.p,{"data-testid":"enter-your-code-field",onChange:this.handleInputChange})),this._renderLoading(),e&&a.createElement(f.a,{width:"100%",borderRadius:"4px",marginY:"spacing.xs",paddingX:"spacing.xl",paddingY:"spacing.l",backgroundColor:"border.accent.onContent.pressed",color:"text.feedback.error.default","data-testid":"error-message"},e),a.createElement(y.$n,{id:"login_form_submit",type:"submit","data-testid":"submit-button",disabled:!this._canSubmit()},(0,c.AP)("Valider"))))}_renderLoading(){return this.state.isSendingCode?S||(S=a.createElement("div",{className:"formlink-progress"},a.createElement(R.k,{thickness:3,size:32}))):null}}const L=z;var P,B=n("y7xR"),F=n("pVdW");class V extends a.Component{constructor(...e){super(...e),this.state={isCodeValid:!1},this.codeIsValid=()=>{this.setState({isCodeValid:!0})}}render(){return a.createElement("div",{className:"unlogged-authen unlogged-login"},a.createElement("div",{className:"unlogged-container formlink"},a.createElement("div",{className:"unlogged-container-inner"},this.state.isCodeValid?a.createElement("div",{className:"smartlogin-success"},a.createElement(B.D,{"data-testid":"success-header-text"},(0,c.AP)("smartloginsuccessmessage_title_youarenowloggedin_web")),a.createElement(F.E,{"data-testid":"success-message-text"},(0,c.AP)("smartloginsuccessmessage_text_enjoymusicdirectlyfromyourdevice_web")),P||(P=a.createElement("div",null,a.createElement("span",{className:"icon icon-check","data-testid":"success-check-icon"}))),a.createElement(y.$n,{as:"a",size:"lg",href:"/","data-testid":"continue-button"},(0,c.AP)("smartloginsuccessmessage_action_continueondeezercom_web"))):a.createElement("div",{className:"formlink-container"},a.createElement(B.D,{"data-testid":"page-header-text"},(0,c.AP)("smartloginenterthecode_text_linkyourdevice_web")),a.createElement(F.E,null,(0,c.AP)("smartloginerrormessage_text_entercodedisplayedonyourdevice_web")),a.createElement(L,{codeIsValid:this.codeIsValid})))))}}const j=V;var U,T,K,$,J,q;let G=(0,r.Ay)((({userSettingLang:e,location:t})=>({language:e,uilogged:!1,event:"updatepage",pagename:"link",pagecategory:"link",virtualpageurl:t.pathname})),{dispatchOnMount:!0})(U=class extends a.Component{constructor(e){super(e)}render(){var e;const t=null===(e=this.props.appState)||void 0===e?void 0:e.differedDeeplink,n=o.A.is("mobile")||o.A.is("tablet");return a.createElement(a.Fragment,null,T||(T=a.createElement(k,null)),n&&t?a.createElement(A,{differedDeeplink:t}):K||(K=a.createElement(j,null)),$||($=a.createElement(w.A,null)),J||(J=a.createElement(C.A,null)),q||(q=a.createElement(x.A,null)))}})||U;const H=(0,i.J)(G)},r2ys:(e,t,n)=>{n.d(t,{A:()=>a});var s=n("q1tI"),r=n("uHHB"),o=n("vGT4");const a=()=>{const{state:e}=(0,o.b)(),t=(e=>null==e?void 0:e.settings)(e);return(0,s.useEffect)((()=>{const{consentString:e,statistics:n=0,targetedAdvertising:s=0}=t||{};window.sas&&window.sas.cmd.push((()=>{window.sas.setGdprConsentData(e)})),(0,r.A)("consentStatistics",n.toString(),100),(0,r.A)("consentMarketing",s.toString(),100)}),[t]),null}},"5pmF":(e,t,n)=>{n.d(t,{A:()=>_});var s=n("q1tI"),r=n("TRpf"),o=n("xobL"),a=(n("/eM8"),n("Vd8Q"));const i=a.default.get("host_website_ssl"),l=a.default.get("host_cookie"),c=`https://${a.default.get("host_common_assets_ssl")}/js/gdpr-appliance.js`,d=a.default.get("bot_crawler"),u=new RegExp(d,"i");var p=n("zKOv"),h=n("vGT4"),b=n("39Zz"),f=n("uHHB"),v=n("G04z"),E=n("ebSJ");const y=({locale:e,darkMode:t,userId:n})=>{const{dispatch:r}=(0,h.b)();return(0,s.useEffect)((()=>{window.location.pathname.includes("register")&&(0,E.A)(b.J)&&((0,f.A)(b.J,"",0),(0,f.A)("euconsent-v2","",0)),window.onDzrGDPRReady=s=>{(async(e,t)=>{const{lang:n="en_US",darkMode:s=!1,onConsentUpdate:r,userID:o="0"}=t||{};window.consentScreenApi=await e({cookieDomain:l,darkMode:s,gatewayHost:i,isWebview:!1,lang:n,onConsentUpdate:r,userID:o})})(s,{lang:e,darkMode:t,userID:n,onConsentUpdate:e=>{var t;r((t=e,{type:p.X,value:t})),(0,v.u)().setConsent(e)}})},((e="dzr-gdpr-script")=>{if(u.test(navigator.userAgent))return;if(document.getElementById(e))return;const t=document.createElement("script");t.async=!0,t.crossOrigin="anonymous",t.defer=!0,t.id=e,t.src=c,document.head.appendChild(t)})("gdpr-web-script")}),[]),(0,s.useEffect)((()=>{var s;null===(s=window.consentScreenApi)||void 0===s||s.update({darkMode:t,userID:n,lang:e})}),[t,e,n]),null},_=()=>{const e=(0,r.d4)((e=>(0,o.JK)(e.user))),t=(0,r.d4)((e=>(0,o.NF)(e.user))),n=(0,r.d4)((e=>(0,o.F6)(e.user).toString()));return s.createElement(y,{darkMode:t,userId:n,locale:e})}},Zah6:(e,t,n)=>{n.d(t,{A:()=>p});var s=n("+9dH"),r=n("q1tI"),o=n("TRpf"),a=n("TqF5"),i=n("Zlrv"),l=n("nspE"),c=n("PvuB"),d=n("WKgy"),u=n("Qi9J");const m=e=>{switch(e){case"small":return"lg";case"medium":return"xl";default:return"3xl"}};class g extends r.Component{constructor(e){super(e),this._open=this._open.bind(this),this._close=this._close.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onOutsideMouseDown=this._onOutsideMouseDown.bind(this),this._contentRef=r.createRef()}componentDidMount(){document.addEventListener("keydown",this._onKeyDown),document.addEventListener("mousedown",this._onOutsideMouseDown),document.addEventListener("touchstart",this._onOutsideMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("mousedown",this._onOutsideMouseDown),document.removeEventListener("touchstart",this._onOutsideMouseDown)}render(){const{isOpen:e,data:t,name:n,size:o,variant:a,testid:d}=this.props;if(!e)return null;const g=(0,u.C)(n);return g?r.createElement(i.aF,{isOpen:e,variant:null!=a?a:"foundation",size:m(o),isCentered:!0,onClose:this._close},r.createElement(l.m,{onClick:this._close}),r.createElement(c.$,{ref:this._contentRef,"data-testid":d},r.createElement(r.Suspense,{fallback:null},r.createElement(g,(0,s.A)({},t,{name:n}))))):null}_onKeyDown(e){const{isOpen:t,disableClosingAction:n}=this.props;t&&!n&&27===e.keyCode&&this._close()}_onOutsideMouseDown(e){const{isOpen:t,disableClosingAction:n}=this.props;t&&!n&&"HTML"!==e.target.tagName&&e.target.contains(this._contentRef.current)&&(e.stopPropagation(),this._close())}_close(){this.props.closeModal(!0)}_open(){this.props.openModal()}}g.defaultProps={size:"large",addRadius:!1},d.A.addReducers({modal:a.Ay});const p=(0,o.Ng)((({modal:e})=>({name:e.name,data:e.props,disableClosingAction:e.disableClosingAction,isOpen:""!==e.name,size:e.size,classNameClose:e.classNameClose,addRadius:e.addRadius,variant:e.variant,testid:e.testid})),{closeModal:a.Oo,openModal:a.qf})(g)},QVzS:(e,t,n)=>{n.d(t,{A:()=>l});var s=n("bDF2");const r=(e,t,n,r="")=>{document.getElementById(e)&&document.getElementById(e).addEventListener("click",(function(){(0,s.R2)({eventcategory:t,eventaction:n,eventlabel:r})}))};var o=n("Vd8Q");const a=e=>{const t=`;domain=${o.default.get("host_cookie")}`;document.cookie=e+"="+t+"; path=/"+("https:"===document.location.protocol?";SameSite=None; secure":"")},i={init:function(){document.onclick=function(e){"burger_menu_button"!==e.target.id&&"line"!==e.target.className||i.toggleMobileMenu()};const e=document.getElementById("burger-logout-btn");e&&(e.onclick=()=>{a("familyUserId"),a("euconsent-v2"),location.href="/logout.php"})},toggleMobileMenu:function(){"burger-menu burger-menu-hidden"===document.getElementById("burger_menu").className?(document.getElementById("burger_menu").classList.remove("burger-menu-hidden"),document.getElementById("burger_menu").classList.add("burger-menu-visible"),document.getElementById("burger_menu_button").classList.add("burger-icon-active"),document.body.classList.add("disabled-scroll"),i.trackElementClick("open-menu")):(document.getElementById("burger_menu").classList.remove("burger-menu-visible"),document.getElementById("burger_menu").classList.add("burger-menu-hidden"),document.getElementById("burger_menu_button").classList.remove("burger-icon-active"),document.body.classList.remove("disabled-scroll"))},trackElementClick:function(e){const t=(0,s.bg)();t&&(0,s.R2)({eventcategory:t,eventaction:e})},initTracking(e){[{key:"launch",action:"download-app",menu:!0},{key:"download",action:"download-app",menu:!0},{key:"login",action:"login-button",menu:!1},{key:"signup",action:"signup-button",menu:!1},{key:"offers",action:"plans-button",menu:!1},{key:"explore",action:"channels-explore-button",menu:!1}].forEach((({key:t,action:n,menu:s})=>{r(`burger-${t}-link`,e,n,s?"menu":"")}))}},l=i},f4Bz:()=>{},gkSg:()=>{},CdHq:(e,t,n)=>{n.d(t,{s:()=>a});var s=n("nKUr"),r=n("xi32"),o=n("M62g");const a=(0,r.R)((function(e,t){const{direction:n,align:r,justify:a,wrap:i,basis:l,grow:c,shrink:d,...u}=e,m={display:"flex",flexDirection:n,alignItems:r,justifyContent:a,flexWrap:i,flexBasis:l,flexGrow:c,flexShrink:d};return(0,s.jsx)(o.B.div,{ref:t,__css:m,...u})}));a.displayName="Flex"},FVVF:(e,t,n)=>{n.d(t,{T:()=>o});var s=n("nKUr"),r=n("eOc8");const o=(0,n("xi32").R)(((e,t)=>(0,s.jsx)(r.B,{align:"center",...e,direction:"column",ref:t})));o.displayName="VStack"}}]);