"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[2199],{wGgI:(e,t,s)=>{s.d(t,{qT:()=>p,VX:()=>h,y8:()=>d,Ay:()=>A});var i=s("q1tI"),l=s("juqV"),a=s("HmE0"),o=s("yCtO");class r extends i.Component{render(){const{children:e,isDisabled:t,isSelected:s}=this.props,a=(0,l.A)("dropdown-item",{hidden:t,"is-selected":s});return i.createElement("li",{className:a},e)}}r.defaultProps={isDisabled:!1,isSelected:!1};const n=r;var c;const d="sm",p="left",h="right";class _ extends i.Component{constructor(e){super(e),this._onToggle=this._onToggle.bind(this),this._onClose=this._onClose.bind(this),this.state={label:e.children[e.selected].props.label||e.label,isOpen:!1}}static getDerivedStateFromProps(e){return{label:e.children[e.selected].props.label||e.label}}render(){const{children:e,align:t,size:s,overflow:r,isDisabled:n}=this.props,{label:d,isOpen:p}=this.state,_=(0,l.A)("dropdown",{"dropdown-active":this.state.isOpen}),A=(0,l.A)("dropdown-menu",{"is-right":t===h,"is-overflow":r});return i.createElement("span",{className:_},i.createElement(a.$n,{"data-testid":`dropdown_${d}`,size:s,rightIcon:c||(c=i.createElement(o.e,null)),onClick:this._onToggle,variant:"outline",isDisabled:n},d),i.createElement("ul",{className:A,"aria-hidden":!p,onClick:this._onClose,onMouseDown:e=>e.stopPropagation()},p?e:null))}_onClose(){this.setState({isOpen:!1},(()=>{document.removeEventListener("mousedown",this._onClose)}))}_onToggle(){const e=!this.state.isOpen;this.setState({isOpen:e},(()=>{e&&document.addEventListener("mousedown",this._onClose)}))}}_.defaultProps={label:null,size:d,align:p,className:null,selected:0,overflow:!1,isDisabled:!1},_.Item=n;const A=_},tYAi:(e,t,s)=>{s.d(t,{Ay:()=>c,FQ:()=>r,s7:()=>o});var i=s("q1tI"),l=s("wGgI");const a=l.y8,o=l.qT,r=l.VX,n=({align:e,items:t,onChange:s,selectedKey:a,size:o,isDisabled:r})=>{const n=Math.max(t.findIndex((e=>e.key===a)),0);return i.createElement("div",{className:"btn-group"},i.createElement(l.Ay,{selected:n,align:e,size:o,isDisabled:r,overflow:t.length>6},t.map((e=>i.createElement(l.Ay.Item,{key:e.key,label:e.label,isSelected:a===e.key},i.createElement("button",{type:"button",onClick:()=>s(e.key)},e.label))))))};n.defaultProps={selectedKey:"",size:a,align:o,isDisabled:!1};const c=n},"OZl/":(e,t,s)=>{s.d(t,{A:()=>r});var i=s("q1tI"),l=s("Wp0Y"),a=s("8iEq"),o=s("tYAi");class r extends i.Component{render(){const{type:e,align:t,activeSort:s,onSortChange:l,isDisabled:a}=this.props,r=this._getSortOptionsByType(e);return 0===r.length?null:i.createElement(o.Ay,{align:t,selectedKey:s,onChange:l,items:r,isDisabled:a})}_getSortOptions(){return{album:[{key:a.L$,label:(0,l.AP)("sortingmenu_title_recentlyaddedalbums_web")},{key:a._y,label:(0,l.AP)("sortingmenu_title_AZalbum_web")},{key:a.lG,label:(0,l.AP)("sortingmenu_title_AZartist_web")}],artist:[{key:a.L$,label:(0,l.AP)("sortingmenu_title_recentlyaddedartists_web")},{key:a.lG,label:(0,l.AP)("sortingmenu_title_AZgeneric_web")}],show:[{key:a.Lh,label:(0,l.AP)("sortingmenu_title_recentlyaddedpodcasts_web")},{key:a.Y,label:(0,l.AP)("sortingmenu_title_recentlyupdatedpodcasts_web")},{key:a.D7,label:(0,l.AP)("sortingmenu_title_AZgeneric_web")}],playlist:[{key:a.L$,label:(0,l.AP)("sortingmenu_title_recentlyaddedplaylists_web")},{key:a.WU,label:(0,l.AP)("sortingmenu_title_recentlyupdatedplaylists_web")},{key:a.Lq,label:(0,l.AP)("sortingmenu_title_AZgeneric_web")}]}}_getSortOptionsByType(e){const t=this._getSortOptions();return void 0===t[e]?[]:t[e].filter((e=>!e.disabled))}}r.defaultProps={align:o.s7,isMe:!0,isDisabled:!1}},XLml:(e,t,s)=>{s.d(t,{A:()=>_});var i=s("+9dH"),l=s("q1tI"),a=s("fSLK"),o=s("pkJ8"),r=s("TRpf"),n=s("xobL"),c=s("a9NY");const d=(e,t,s=150)=>{const i=l.useRef(null),{height:a}=(0,c.A)(),d=(0,r.d4)((e=>(0,n.iJ)(e.user)));return l.useEffect((()=>{const i=(0,o.A)((s=>{s.stopPropagation(),(()=>{const{y:s=0}=t.current?t.current.getBoundingClientRect():{},i=s+window.scrollY;e.current&&i>0&&e.current.scrollTo(window.pageYOffset-i)})()}),s);return document.addEventListener("scroll",i,{passive:!0}),()=>{i.cancel(),document.removeEventListener("scroll",i)}})),{direction:d,outerRef:i,height:a||0,style:{overflow:"hidden",height:"100%"},width:"100%"}};var p=s("1Pdy");const h=l.forwardRef((({children:e,items:t,onItemsRendered:s,rowHeight:o=p.F4.md,tableRef:r},n)=>{const c=l.useRef(null),h=d(c,r);return l.createElement(a.Y1,(0,i.A)({},h,{onItemsRendered:s,itemSize:o,itemCount:t.toDisplay.length,itemData:t,ref:e=>{"function"==typeof n&&n(e),c.current=e}}),e)}));h.displayName="list";const _=h},Rap7:(e,t,s)=>{s.d(t,{A:()=>p});var i=s("q1tI"),l=s("kSUS"),a=s("lXQd"),o=s("juqV"),r=s("Wp0Y"),n=s("Z9kq"),c=s("ZH8F");const p=({context:e,isDisabled:t=!1,placeholder:s=(0,r.AP)("search_action_searchwithintracks_web"),classname:p})=>{const h=(0,l.A)((t=>{document.dispatchEvent((0,c.e)(c.g.FILTER,{context:e,query:(0,a.A)(t,"target.value","")}))}),500);return i.createElement("div",{className:(0,o.A)("j_Jqy",p)},i.createElement(n.D,{isDisabled:t,onChange:h,size:"small",placeholder:s}))}},"3AbJ":(e,t,s)=>{s.d(t,{A:()=>o}),s("/eM8");var i=s("q1tI"),l=s("iiSH"),a=s("t08u");const o=(e,t,s,o,r,n=l.XQ,c=l.ww)=>{const[d,p]=(0,i.useState)(!1),[h,_]=(0,i.useState)(!1),{triggerTracking:A}=(0,a.A)(r.TYPE),u=(0,i.useCallback)((async()=>{s||d||h||(_(!0),await e({id:t,start:o,nb:c}),_(!1),A({action:"fetch",eventaction:"fetch-"+(c>l.ww?"all":"next")}))}),[c,t,s,d,h,o,e,A]),g=(0,i.useCallback)((async()=>{s||(p(!0),await e({id:t,start:o,nb:n}),p(!1),A({action:"fetch",eventaction:"fetch-all"}))}),[t,s,n,o,e,A]);return{loadingStatus:{isLoadingNext:h,isLoadingAll:d,isFullyFetched:s},fetchNext:u,fetchAll:g}}},YVUD:(e,t,s)=>{s.d(t,{A:()=>w});var i=s("+9dH"),l=s("17x9"),a=s.n(l),o=s("q1tI"),r=s("nrKQ"),n=s("Wp0Y"),c=s("tZCQ"),d=s("lG1H"),p=s("kSUS"),h=s("H/eQ");class _ extends o.Component{constructor(e){super(e),this._onScroll=this._onScroll.bind(this),this._onResize=this._onResize.bind(this)}UNSAFE_componentWillMount(){this._scrollActive=0!==this.props.total&&this.props.total>this.props.start,this._scrollActive&&0===this.props.start&&this._loadData()}componentDidMount(){this._resizeCallback=(0,p.A)(this._onResize,500),h.A.subscribe(h.A.layout.scroll,this._onScroll),window.addEventListener("resize",this._resizeCallback),this._scrollActive&&!this._hasScrollbar()&&this._loadData()}UNSAFE_componentWillReceiveProps(e){this._scrollActive=0!==e.total&&e.total>e.start,this._scrollActive&&0===e.start&&this._loadData()}componentDidUpdate(){this._scrollActive=0!==this.props.total&&this.props.total>this.props.start,this._scrollActive&&!this._hasScrollbar()&&this._loadData()}componentWillUnmount(){this._resizeCallback.cancel(),h.A.unsubscribe(h.A.layout.scroll,this._onScroll),window.removeEventListener("resize",this._resizeCallback)}render(){return o.createElement("div",{className:this.props.wrapperClass,"aria-live":"polite"},this.props.children)}_onScroll(e,{height:t,yscroll:s}){const i=document.body.scrollHeight;this._scrollActive&&i<=t+s+this.props.spacer&&this._loadData()}_onResize(){this._scrollActive&&!this._hasScrollbar()&&this._loadData()}_loadData(){this._scrollActive=!1;const{start:e,nb:t}=this.props;this.props.loadData(e,t)}_hasScrollbar(){return window.innerHeight<document.body.scrollHeight}}_.defaultProps={wrapperClass:"container",spacer:0,nb:20};const A=_;var u=s("hIIJ"),g=s("5G9X"),m=s("7E8A"),b=s("AfN5");const y={[g.Ay.TalkShow]:!0,[m.CONTEXT_PAGE_ARTIST_TAB_RELATED_ARTIST]:!0,[g.Ay.TopArtistFull]:!0,[g.Ay.Playlist]:!0,[b.Kk.PERSONAL_LOVED]:!0,[g.Ay.PersonalPlaylist]:!0,[g.Ay.CuratedChartsPlaylist]:!0,[g.Ay.ChartsPlaylist]:!0,[g.Ay.CuratorPlaylist]:!0,[g.Ay.CollaborativePlaylist]:!0,[g.Ay.Smarttracklist]:!0,[b.Kk.SEARCH]:!0,talkSearch:!0,[g.Ay.Album]:!0,lyricsSearch:!0,[m.CONTEXT_PAGE_SEARCH_TAB_ARTIST]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_PLAYLIST]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_ALBUM]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_RADIO]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_CHANNEL]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_SHOW]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_LIVESTREAM]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_USER]:!0,[m.CONTEXT_PAGE_SEARCH_TAB_LYRICS]:!0},E=e=>Boolean(y[e]);class v extends o.Component{constructor(e){super(e),this._progressiveDisplayGroup=20,this._loadData=this._loadData.bind(this),this.state={data:e.data,total:e.total,progressiveDisplayLength:this._progressiveDisplayGroup}}UNSAFE_componentWillReceiveProps(e){(e.id!==this.props.id||e.filter!==this.props.filter||e.progressiveDisplay||E(this.props.pageContext))&&this.setState({data:e.data,total:e.total,progressiveDisplayLength:this._progressiveDisplayGroup})}componentWillUnmount(){r.A.cancel(this._apiCallRef)}render(){const{progressiveDisplayLength:e,data:t,total:s}=this.state,l=this.props.progressiveDisplay?t.slice(0,e):t,a=l.length,r=this._getGridAttributes();return o.createElement(A,{loadData:this._loadData,start:a,total:s,spacer:340},this._renderTitle(),s>-1&&o.createElement(d.A,(0,i.A)({data:l,pageContext:this.props.pageContext},r)))}_renderTitle(){const{title:e}=this.props;return""!==e&&(c.A.isAllowed("revamp2023")?o.createElement(u.A,{title:e,mb:"spacing.2xl"}):o.createElement("div",{className:"thumbnail-grid-title heading-1"},e))}_loadData(e,t){let{data:s,progressiveDisplayLength:i}=this.state;const{progressiveDisplay:l,method:a,id:o}=this.props;if(l)return void this.setState({progressiveDisplayLength:i+this._progressiveDisplayGroup});const n=a&&a.params?a.params:{},c=this.state.next||e,d=Object.assign({},n,{start:c,nb:t});void 0!==o&&(d.id=o),E(this.props.pageContext)?this.props.fetchData(d):this._apiCallRef=r.A.call({method:this._getMethodName(),data:d,success:e=>{const t={total:e.total,next:e.next||null};e.data.length>0&&(t.data=s.concat(e.data)),this.setState(t)}})}_getMethodName(){const{type:e,method:t,pageContext:s}=this.props;return void 0!==t&&t?t.name:{related_playlist:e+".get"+("artist"===e?"SelectedAnd":"")+"RelatedPlaylist",shows:"deezer.pageShows"}[s]}_getGridAttributes(){return this.props.gridAttributes?this.props.gridAttributes:{[m.CONTEXT_PAGE_ARTIST_TAB_RELATED_PLAYLIST]:{context:this.props.type+"_similar_playlist",placeHolder:{img:"recommendation",wording:(0,n.AP)("Aucune playlist n'est disponible.")}}}[this.props.pageContext]||{placeHolder:this.props.placeHolder}}}v.contextTypes={isMe:a().bool,playlistFilter:a().string,searchFilter:a().string},v.defaultProps={data:[],filter:void 0,method:null,gridAttributes:null,total:-1,title:"",progressiveDisplay:!1,fetchData:()=>{},placeHolder:!1};const w=v},a9NY:(e,t,s)=>{s.d(t,{A:()=>l});var i=s("q1tI");function l(){const e="object"==typeof window,[t,s]=(0,i.useState)({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0});return(0,i.useEffect)((()=>{if(!e)return()=>{};const t=()=>{s({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),t}}}]);