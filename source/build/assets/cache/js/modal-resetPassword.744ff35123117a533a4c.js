"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[9567],{"1EyH":(e,t,s)=>{s.d(t,{BB:()=>a,Sx:()=>r,UC:()=>n});const r=e=>/[\u2000-\u2BFF]/.test(e),a=e=>/[\u{10000}-\u{10FFFF}]/u.test(e),n=e=>!!e.match(/^[_0-9a-z-+]+[_.0-9a-z-+]*@([0-9a-z-]+\.)+[a-z]{2,13}$/i)},"3xjP":(e,t,s)=>{s.r(t),s.d(t,{default:()=>Q}),s("EV0h"),s("gS5K");var r=s("q1tI"),a=s("TRpf"),n=s("nrKQ"),o=s("2qhg"),l=s("WKgy"),i=s("TqF5"),c=s("Wyo/"),u=s("Wp0Y"),m=s("HmE0"),d=s("KIES"),_=s("vUoE"),E=s("YSOA"),R=s("YIja"),p=s("L2Iu");let h=function(e){return e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}({}),A=function(e){return e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}({}),w=function(e){return e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR_INVALID_EMAIL=3]="ERROR_INVALID_EMAIL",e[e.ERROR_UNKNOWN_EMAIL=4]="ERROR_UNKNOWN_EMAIL",e}({}),S=function(e){return e.Reset="reset",e.Migration="migration",e}({});var f=s("yiM3");const g=e=>{const{email:t,userID:s,formType:a}=e;let n=r.createElement(m.$n,{as:"a",href:(0,f.t)({route:"login",query:t?{email:t}:void 0})},(0,u.AP)("Connexion"));return 0===s&&(n=r.createElement(m.$n,{as:"a",href:"/"},(0,u.AP)("Retour"))),r.createElement(r.Fragment,null,r.createElement(d.r,null,a===S.Reset?(0,u.AP)("generic_title_resetyourpassword_web"):(0,u.AP)("passwordsetting_title_setyourpassword_web")),r.createElement(_.c,null,r.createElement(E.m,{maxW:"container.sm",width:"fit-content"},r.createElement(R.N,{status:"success"},(0,u.AP)("Votre mot de passe a été modifié avec succès.")))),r.createElement(p.jl,null,n))};g.displayName="ConfirmSuccess";const O=g;var N,I=s("RGaU"),b=s("7ZZW"),y=s("4tze"),P=s("XkdG"),C=s("xgzm"),v=s("+Sva");class x extends r.PureComponent{render(){const{resetRequestRequestStatus:e,email:t,formType:s,onEmailChange:a,onReset:n}=this.props,o=e===w.PENDING,l=e===w.ERROR_INVALID_EMAIL||e===w.ERROR_UNKNOWN_EMAIL;let i;o&&(i=N||(N=r.createElement(I.k,{thickness:2,size:14})));const c=s===S.Reset?r.createElement(b.MJ,{isInvalid:l},r.createElement(y.l,{htmlFor:"email"},(0,u.AP)("generic_title_emailaddress_web")),r.createElement(P.p,{id:"reset_mail",type:"text",value:t,onChange:a,placeholder:(0,u.AP)("generic_title_emailaddress_web")}),e===w.ERROR_INVALID_EMAIL?r.createElement(C.Wt,null,(0,u.AP)("Adresse email invalide")):null,e===w.ERROR_UNKNOWN_EMAIL?r.createElement(C.Wt,null,(0,u.AP)("Identifiant inconnu.")):null):null;return r.createElement(r.Fragment,null,r.createElement(d.r,null,s===S.Reset?(0,u.AP)("Réinitialiser mon mot de passe"):(0,u.AP)("passwordsetting_title_setyourpassword_web")),r.createElement(_.c,null,r.createElement(E.m,{maxW:"container.sm"},r.createElement("form",{onSubmit:n},r.createElement(v.T,{spacing:"spacing.l"},r.createElement(R.N,{status:"error"},(0,u.AP)("Votre demande a expiré. Veuillez réessayer.")),c,r.createElement(m.$n,{type:"submit",isDisabled:o,rightIcon:i,width:"100%"},(0,u.AP)("generic_title_resetyourpassword_web")))))))}}var M,L=s("Al8Q"),q=s("dPP5"),D=s("Z+z7");const T=(0,L.A)("form",{target:"ebwqeia0"})({name:"5noinz",styles:"display:flex;flex-direction:column;margin:0 auto;max-width:400px;width:100%;& *{box-sizing:border-box;}"});class k extends r.PureComponent{render(){const{resetRequestRequestStatus:e,email:t,onEmailChange:s,onReset:a,formType:n}=this.props;if(n===S.Migration)return null;const o=e===w.ERROR_INVALID_EMAIL||e===w.ERROR_UNKNOWN_EMAIL,l=e===w.PENDING;let i;l&&(i=M||(M=r.createElement(I.k,{thickness:2,size:14})));const c=e&&o?(0,u.AP)("Merci de vérifier le format de votre adresse email."):void 0;return r.createElement(r.Fragment,null,r.createElement(d.r,null,(0,u.AP)("generic_title_resetyourpassword_web")),r.createElement(_.c,null,r.createElement(T,{onSubmit:a},r.createElement(q.B,{direction:"column",spacing:"6",mb:"6"},r.createElement(D.E,{color:"text.neutral.secondary.default",textAlign:"center"},(0,u.AP)("resetpasswordmodal_text_enteremailtoreceivelink_web")),r.createElement(b.MJ,{isInvalid:Boolean(c)},r.createElement(y.l,null,(0,u.AP)("generic_title_emailaddress_web")),r.createElement(P.p,{id:"reset_mail",type:"email",onChange:s,value:t}),r.createElement(C.Wt,null,c)),r.createElement(m.$n,{type:"submit",isDisabled:l,rightIcon:i},(0,u.AP)("generic_action_sendlink_web"))))))}}k.defaultProps={resetRequestRequestStatus:w.NONE};var U=s("m4fd");const W=({resetConfirmResult:e,email:t,onResetConfirm:s,formType:a})=>r.createElement(r.Fragment,null,r.createElement(d.r,null,a===S.Reset?(0,u.AP)("generic_title_resetyourpassword_web"):(0,u.AP)("passwordsetting_title_setyourpassword_web")),r.createElement(_.c,null,r.createElement(U.A,{email:t,onSubmit:s,ctaLabel:a===S.Reset?(0,u.AP)("Réinitialiser"):(0,u.AP)("Confirmer"),isLoading:e===A.PENDING})));var G,F;class V extends r.PureComponent{render(){const{email:e}=this.props;return r.createElement(r.Fragment,null,r.createElement(d.r,null,(0,u.AP)("Vous avez un message !")),r.createElement(_.c,{textAlign:"center"},r.createElement("span",{dangerouslySetInnerHTML:{__html:(0,u.WI)("Consultez votre boîte de réception, nous vous avons envoyé un lien pour réinitialiser votre mot de passe à : %s.","Consultez votre boîte de réception, nous vous avons envoyé un lien pour réinitialiser votre mot de passe à : %s.",{sprintf:[`<span id="reset_confirm_mailto" class="color-primary">${e}</span>`],count:1})}}),G||(G=r.createElement("br",null)),F||(F=r.createElement("br",null)),(0,u.AP)("Si dans quelques minutes vous n'avez toujours pas reçu le message, merci de vérifier que celui-ci n'est pas dans vos messages indésirables.")),this._renderFooter())}_renderFooter(){const{redirectUri:e}=this.props;return e?r.createElement(p.jl,{textAlign:"center"},r.createElement(m.$n,{as:"a",href:e},(0,u.AP)("Retour"))):null}}V.defaultProps={redirectUri:void 0};var z,H,K,B=s("NlRl");class Y extends r.PureComponent{render(){return r.createElement(r.Fragment,null,r.createElement(d.r,null,(0,u.AP)("Réinitialiser mon mot de passe")),z||(z=r.createElement(_.c,null,r.createElement(B.o,null,r.createElement(I.k,null)))))}}class j extends r.Component{constructor(e){super(e),this._onEmailChange=e=>{this.setState({email:e.currentTarget.value})},this._onReset=e=>{e.preventDefault(),e.stopPropagation();const{email:t}=this.state;this.setState({resetRequestRequestStatus:w.PENDING},(()=>{o.default.sendResetPassword(t).then((()=>{this.setState({resetRequestRequestStatus:w.SUCCESS})})).catch((e=>{this.setState({resetRequestRequestStatus:"error"===e.message?w.ERROR_INVALID_EMAIL:w.ERROR_UNKNOWN_EMAIL})}))}))},this._onResetConfirm=(e,t)=>{const{resetKey:s,formType:r}=this.props,{email:a}=this.state;this.setState({resetConfirmationRequestStatus:A.PENDING},(()=>{r===S.Reset?o.default.sendResetPasswordConfirm(window.btoa(a),window.btoa(s||""),e,t).then((()=>{this.setState({resetConfirmationRequestStatus:A.SUCCESS})})).catch((()=>{this.setState({resetConfirmationRequestStatus:A.ERROR})})):r===S.Migration&&n.A.call({method:"user.profileMigrationThroughEmail",data:{email:a,password:e,token:s},success:e=>{e?this.setState({resetConfirmationRequestStatus:A.SUCCESS}):this.setState({tokenValidationRequestStatus:h.ERROR})},error:()=>this.setState({tokenValidationRequestStatus:h.ERROR})})}))},this._checkToken=()=>{this.setState({tokenValidationRequestStatus:h.PENDING},(()=>{n.A.call({method:"user.checkResetPasswordToken",data:{EMAIL:this.state.email,TOKEN:this.props.resetKey},success:e=>{this.setState({tokenValidationRequestStatus:e?h.SUCCESS:h.ERROR})},error:()=>{this.setState({tokenValidationRequestStatus:h.ERROR})}})}))},this.state={email:e.defaultEmailValue,resetConfirmationRequestStatus:A.NONE,resetRequestRequestStatus:w.NONE,tokenValidationRequestStatus:e.formType===S.Migration?h.SUCCESS:h.NONE}}componentDidMount(){this.state.email&&this.props.resetKey&&this.state.tokenValidationRequestStatus===h.NONE&&this._checkToken()}render(){const{userID:e,defaultEmailValue:t,resetKey:s,redirectUri:a,formType:n}=this.props;return this.state.resetRequestRequestStatus===w.SUCCESS?this._renderModal(r.createElement(V,{email:this.state.email,redirectUri:a})):this.state.resetConfirmationRequestStatus===A.SUCCESS?this._renderModal(r.createElement(O,{email:this.state.email,userID:e,formType:n})):this.state.tokenValidationRequestStatus===h.PENDING?this._renderModal(H||(H=r.createElement(Y,null))):t&&s&&this.state.tokenValidationRequestStatus===h.SUCCESS?this._renderModal(r.createElement(W,{resetConfirmResult:this.state.resetConfirmationRequestStatus,email:this.state.email,onResetConfirm:this._onResetConfirm,formType:n})):t&&s&&this.state.tokenValidationRequestStatus===h.ERROR?this._renderModal(r.createElement(x,{resetRequestRequestStatus:this.state.resetRequestRequestStatus,email:this.state.email,onEmailChange:this._onEmailChange,onReset:this._onReset,formType:n})):this._renderModal(r.createElement(k,{resetRequestRequestStatus:this.state.resetRequestRequestStatus,email:this.state.email,onEmailChange:this._onEmailChange,onReset:this._onReset,formType:n}))}_renderModal(e){const{isStandalone:t}=this.props;return t?r.createElement(c.A.Layout,null,e):r.createElement(r.Fragment,null,K||(K=r.createElement(p.s_,null)),e)}}l.A.addReducers({modal:i.Ay});const Q=(0,a.Ng)((({user:e,modal:t},s)=>{var r,a,n;let o,l,i=t.data?t.data.defaultValue:"";return null!==(r=s.location)&&void 0!==r&&r.query.email&&(i=window.atob(s.location.query.email)),null!==(a=s.location)&&void 0!==a&&a.query.key&&(o=s.location.query.key,s.formType===S.Reset&&(o=window.atob(o))),null!==(n=s.location)&&void 0!==n&&n.query.redirect_uri&&document&&document.location&&document.location.hostname===new URL(s.location.query.redirect_uri).hostname&&(l=s.location.query.redirect_uri),{userID:e.id,defaultEmailValue:i,resetKey:o,redirectUri:l,isStandalone:Boolean(s.location)}}))(j)},EYlq:(e,t,s)=>{s.d(t,{u:()=>a});var r=s("Wp0Y");const a=e=>{switch(e){case"invalid_msisdn":return(0,r.AP)("errormessage_text_invalidphonenumber_web");case"sms_login_limit":return(0,r.AP)("SMScoderesentconfirmationscreen_text_allattemptsused_web");case"internal_error":case"swap_limit":default:return(0,r.AP)("errormessage_text_anerroroccurredpleasetryagain_web");case"invalid_code":case"invalid_code_wrong":return(0,r.AP)("errormessage_text_invalidcode_web");case"code_too_short":return(0,r.AP)("errormessage_text_codeincomplete_web");case"code_too_long":return(0,r.AP)("errormessage_text_codetoomanydigits_web");case"phone_already_used":return(0,r.AP)("Ce numéro est déjà utilisé.")}}},H9G8:(e,t,s)=>{s.d(t,{CZ:()=>u,Ee:()=>m,Hf:()=>l,In:()=>R,RQ:()=>d,SY:()=>i,U9:()=>_,aS:()=>E,jQ:()=>o,qb:()=>c,r_:()=>p,vM:()=>h});var r=s("Wp0Y"),a=s("5U+Y"),n=s("guCc");class o extends Error{constructor(e){super(e),this.name=n.U.FORM_ERROR}}class l extends o{constructor(){super((0,r.AP)("formerrormessage_text_emailaddressformatnotvalid_web")),this.name=n.U.EMAIL_NOT_VALID}}class i extends o{constructor(e){super((0,r.AP)("errormessage_text_domainnnamenotallowed_web",{sprintf:[e]})),this.name=n.U.EMAIL_DOMAIN_NOT_VALID}}class c extends o{constructor(){super((0,r.AP)("errormessage_title_accountalrdyassociatedwithemail_web")),this.name=n.U.EMAIL_ALREADY_USED}}class u extends o{constructor(){super((0,r.WI)("formerrormessage_text_passwordnotenoughchars_web","formerrormessage_text_passwordnotenoughchars_web",{sprintf:[a.wz],count:a.wz})),this.name=n.U.PASSWORD_TOO_SHORT}}class m extends o{constructor(){super((0,r.WI)("formerrormessage_text_passwordtoomanychars_web","formerrormessage_text_passwordtoomanychars_web",{sprintf:[a.K9],count:a.K9})),this.name=n.U.PASSWORD_TOO_LONG}}class d extends o{constructor(){super((0,r.AP)("errormessage_text_passwordnbeginendwithspace_web")),this.name=n.U.PASSWORD_HAS_TRAILLING_WHITESPACE}}class _ extends o{constructor(){super((0,r.WI)("formerrormessage_text_usernamenotenoughchars_web","formerrormessage_text_usernamenotenoughchars_web",{sprintf:[a.D6],count:a.D6})),this.name=n.U.BLOGNAME_TOO_SHORT}}class E extends o{constructor(){super((0,r.WI)("formerrormessage_text_usernametoomanychars_web","formerrormessage_text_usernametoomanychars_web",{sprintf:[a.d0],count:a.d0})),this.name=n.U.BLOGNAME_TOO_LONG}}class R extends o{constructor(){super((0,r.AP)("errormessage_text_usernamecannotcontainsemojis_web")),this.name=n.U.BLOGNAME_HAS_SPECIAL_CHARS}}class p extends o{constructor(e){super((0,r.WI)("agerestrictionerrormessage_text_mustbeXyearsentervaliddate_web","agerestrictionerrormessage_text_mustbeXyearsentervaliddate_web",{sprintf:[e],count:e})),this.name=n.U.MIN_LEGAL_AGE}}class h extends o{constructor(){super((0,r.AP)("errormessage_text_ageisinvalid_web")),this.name=n.U.AGE_INVALID}}},QSbk:(e,t,s)=>{s.d(t,{M4:()=>u,gf:()=>c,ri:()=>m}),s("/eM8");var r=s("Vd8Q"),a=s("YEdj"),n=s("zuHY");const o=(0,n.VF)((0,n.ny)(n.MG));let l=null;const i=()=>{if(l)return l;const e=r.default.get("host_authent");return l=new o({tokenOutputType:n.NP.PAYLOAD,refreshTokenOutputType:n.NP.COOKIE,host:e,customFetch:(e,t)=>{const s=new Headers({Accept:"application/json"});return s.append("Origin",`https://${r.default.get("host_website_ssl")}`),(0,a.A6)(e,{...t,headers:s,credentials:"include"})},requestDelay:15}),l},c=async e=>{let t;try{t=await i().getToken()}catch(s){t=e?await i().loginWithArl().catch((async()=>await i().getToken())):await i().loginAsAnonymous()}if(null===t)throw new Error("Could not log user to new Auth");return t},u=()=>{i().invalidateCurrentToken()},m=async()=>{i().logout()}},"Wyo/":(e,t,s)=>{s.d(t,{A:()=>y});var r=s("WKgy"),a=s("q1tI"),n=s("TRpf"),o=s("juqV"),l=s("TqF5"),i=s("Wp0Y"),c=s("tZCQ"),u=s("L2Iu");class m extends a.Component{constructor(...e){super(...e),this._onClick=()=>{this.props.onClick&&this.props.onClick(),this.props.closeModal(!0)}}render(){if(c.A.isAllowed("revamp2023"))return a.createElement(u.s_,{id:"modal-close",onClick:this._onClick,"aria-label":(0,i.AP)("Fermer")});const{color:e}=this.props,t=(0,o.A)("modal-close icon icon-cancel",{"modal-close-light":"light"===e});return a.createElement("button",{className:t,id:"modal-close",type:"button",onClick:this._onClick,"aria-label":(0,i.AP)("Fermer")})}}m.defaultProps={color:"",onClick:void 0};const d=(0,n.Ng)(null,{closeModal:l.Oo})(m);d.displayName="Close";const _=d;var E,R=s("9yOc"),p=s("hDNs"),h=s("LSdk"),A=s("NlRl"),w=s("vUoE");class S extends a.Component{render(){const e=(0,o.A)("modal-body",this.props.className);return c.A.isAllowed("revamp2023")?a.createElement(w.c,{className:e},this.props.children):a.createElement("div",{className:e},this.props.children)}}const f=S;var g=s("+9dH"),O=s("KIES");class I extends a.Component{render(){if(c.A.isAllowed("revamp2023"))return a.createElement(u.jl,null,this.props.children);const e=(0,o.A)("modal-footer",this.props.className);return a.createElement("div",{className:e},this.props.children)}}const b=I;r.A.addReducers({modal:l.Ay});const y={Close:_,Layout:function({children:e}){return R.A.is("mobile")||R.A.is("tablet")?a.createElement(u.aF,{isOpen:!0,size:"full"},a.createElement("div",{className:"modal-container"},a.createElement("div",{className:"modal-dialog modal-small"},E||(E=a.createElement("div",{className:"modal-header-partner"},a.createElement("span",{className:"cell"},a.createElement(p.QQ,null,a.createElement(h.T,null))))),e))):a.createElement(u.aF,{isOpen:!0,size:"full"},a.createElement(A.o,{flexDirection:"column",mt:"spacing.3xl"},e))},Body:f,Header:({children:e,...t})=>a.createElement(O.r,(0,g.A)({"data-testid":"modal_header"},t),e),Footer:b}},guCc:(e,t,s)=>{s.d(t,{U:()=>r,m:()=>a});let r=function(e){return e.AGE_INVALID="FORM_ERROR_AGE_INVALID",e.BLOGNAME_HAS_SPECIAL_CHARS="FORM_ERROR_BLOGNAME_HAS_SPECIAL_CHARS",e.BLOGNAME_TOO_LONG="FORM_ERROR_BLOGNAME_TOO_LONG",e.BLOGNAME_TOO_SHORT="FORM_ERROR_BLOGNAME_TOO_SHORT",e.EMAIL_ALREADY_USED="FORM_ERROR_EMAIL_ALREADY_USED",e.EMAIL_DOMAIN_NOT_VALID="FORM_ERROR_EMAIL_DOMAIN_NOT_VALID",e.EMAIL_NOT_VALID="FORM_ERROR_EMAIL_NOT_VALID",e.FORM_ERROR="FORM_ERROR",e.MIN_LEGAL_AGE="FORM_ERROR_MIN_LEGAL_AGE",e.PASSWORD_HAS_TRAILLING_WHITESPACE="FORM_ERROR_PASSWORD_HAS_TRAILLING_WHITESPACE",e.PASSWORD_TOO_LONG="FORM_ERROR_PASSWORD_TOO_LONG",e.PASSWORD_TOO_SHORT="FORM_ERROR_PASSWORD_TOO_SHORT",e}({}),a=function(e){return e[e.TOO_WEAK=0]="TOO_WEAK",e[e.WEAK=1]="WEAK",e[e.MEDIUM=2]="MEDIUM",e[e.STRONG=3]="STRONG",e}({})},m4fd:(e,t,s)=>{s.d(t,{A:()=>b});var r,a,n=s("q1tI"),o=s("d84/"),l=s("dPP5"),i=s("7ZZW"),c=s("4tze"),u=s("XkdG"),m=s("65w8"),d=s("xgzm"),_=s("Z+z7"),E=s("HmE0"),R=s("4NIx"),p=s("rxfZ"),h=s("Wp0Y"),A=s("+Sva"),w=s("okj2"),S=s("7HKI"),f=s("oJMq"),g=s("zerP"),O=s("guCc");function N({password:e}){const{level:t,color:s}=(e=>{switch((0,g.sR)(e)){case O.m.STRONG:return{level:(0,h.AP)("securitylevel_title_strong_web"),color:"text.feedback.success.default"};case O.m.MEDIUM:return{level:(0,h.AP)("securitylevel_title_medium_web"),color:"text.feedback.warning.default"};case O.m.WEAK:return{level:(0,h.AP)("securitylevel_title_weak_web"),color:"text.feedback.error.default"};default:return{level:(0,h.AP)("securitylevel_title_tooweak_web"),color:"text.feedback.error.default"}}})(e);if(!e)return null;const l=[{regex:/^.{8,}$/,text:(0,h.WI)("passwordrequirements_text_atleastXcharacters_web","passwordrequirements_text_atleastXcharacters_web",{count:8,sprintf:["8"]})},{regex:/.*[a-zA-Z].*/,text:(0,h.AP)("passwordrequirements_text_atleastoneletter_web")},{regex:/.*\d.*/,text:(0,h.AP)("passwordrequirements_text_atleastonenumber_web")}];return n.createElement(o.s,{direction:"row",justifyContent:"space-between",borderRadius:"s",py:"spacing.m",mt:"spacing.s",px:"spacing.l",bg:"background.neutral.tertiary.default"},n.createElement(A.T,{me:"spacing.l",alignItems:"flex-start"},n.createElement(_.E,{variant:"body.l.default"},(0,h.AP)("passwordrequirements_title_yourpasswordmustinclude_web")),l.map(((t,s)=>{const o=t.regex.test(e);return n.createElement(w.z,{key:t.text+s,color:o?"text.feedback.success.default":"text.neutral.primary.default",spacing:"spacing.xs"},o?r||(r=n.createElement(S._,{animation:"300ms bounce-scale",color:"icon.feedback.success.default"})):a||(a=n.createElement(f.k,{color:"icon.neutral.primary.disabled"})),n.createElement("span",null,t.text))}))),n.createElement(_.E,{variant:"body.l.default",textAlign:"end",flex:"1",color:s},t))}const I=(0,R.B)(p.a,{baseStyle:{maxWidth:"400px",w:"100%"}});I.defaultProps={as:"form"};const b=({ctaLabel:e=(0,h.AP)("Enregistrer"),defaultPassword:t="",defaultPasswordConfirm:s="",email:r,error:a,isLoading:R=!1,onSubmit:p})=>{const[A,w]=(0,n.useState)(t),[S,f]=(0,n.useState)(s),[O,b]=(0,n.useState)(""),[y,P]=(0,n.useState)(""),[C,v]=(0,n.useState)(!1);return n.createElement(o.s,{alignItems:"center",justifyContent:"center",w:"100%",mb:"4"},n.createElement(I,{onSubmit:e=>{e.preventDefault();try{(0,g.BE)(A)}catch(e){return void b(e.message)}S===A?p(A,S):P((0,h.AP)("passwordsecurity_text_newpasswordsneedtobethesame_web"))},id:"password-change-form"},n.createElement(l.B,{direction:"column",spacing:"6"},r&&n.createElement(i.MJ,{id:"email-readonly",isReadOnly:!0},n.createElement(c.l,{cursor:"default"},(0,h.AP)("generic_title_emailaddress_web")),n.createElement(u.p,{type:"email",value:r,isDisabled:!0})),n.createElement(i.MJ,{isInvalid:Boolean(O)},n.createElement(c.l,{cursor:"default"},(0,h.AP)("Votre nouveau mot de passe")),n.createElement(m.y,{autoComplete:"new-password","data-testid":"new_password",id:"reset_new_password",name:"password",onChange:e=>{w(e.target.value),b(""),P("")},value:A,onShowPasswordChange:v,showPassword:C}),n.createElement(N,{password:A}),n.createElement(d.Wt,null,O)),n.createElement(i.MJ,{isInvalid:Boolean(y)},n.createElement(c.l,{cursor:"default"},(0,h.AP)("Vérification du mot de passe")),n.createElement(m.y,{autoComplete:"new-password","data-testid":"new_password_confirmation",id:"reset_new_confirm",name:"passwordConfirm",onChange:e=>{f(e.target.value),b(""),P("")},value:S,onShowPasswordChange:v,showPassword:C}),n.createElement(d.Wt,null,y)),a&&n.createElement(_.E,null,a),n.createElement(E.$n,{"data-testid":"new_password_save_button",isDisabled:R,isLoading:R,type:"submit"},e))))}},zerP:(e,t,s)=>{s.d(t,{$O:()=>R,A$:()=>u,BE:()=>_,Hx:()=>p,PJ:()=>m,iE:()=>E,sR:()=>d}),s("WpbS"),s("/eM8");var r=s("nrKQ"),a=s("1EyH"),n=s("kSUS"),o=s("guCc"),l=s("H9G8"),i=s("5U+Y"),c=s("EYlq");const u=async(e,t=!1)=>{if(e=e.trim(),!(0,a.UC)(e))throw new l.Hf;const s=await r.A.callAsync({method:"deezer.emailCheck",data:{EMAIL:e}});if(!s.domain_validity)throw new l.SY(s.domain);if(s.availability)return t&&s.suggestion?{success:!0,suggestion:s.suggestion}:{success:!0};throw new l.qb},m=(0,n.A)(((e,t,s,r)=>u(e,t).then(s).catch(r)),400),d=e=>{const t=[/.*[A-Z]+.*/,/.*[a-z]+.*/,/.*[0-9]+.*/,/.*[^A-Za-z0-9]+.*/];if([/.*[0-9]+.*/,/.*[a-zA-Z]+.*/,/^.{8,}$/].reduce(((t,s)=>t&&s.test(e)),!0)){const s=t.reduce(((t,s)=>t+(s.test(e)?1:0)),0);return s>3?o.m.STRONG:s>2?o.m.MEDIUM:s>1?o.m.WEAK:o.m.TOO_WEAK}return o.m.TOO_WEAK},_=e=>{if(e!==e.trim())throw new l.RQ;if(e.length>i.K9)throw new l.Ee;if(e.length<i.wz)throw new l.CZ;return!0},E=e=>{if((e=e.trim()).length<i.D6)throw new l.U9;if(e.length>i.d0)throw new l.aS;if((0,a.Sx)(e)||(0,a.BB)(e))throw new l.In;return!0},R=e=>{if("string"==typeof e){if(!/^\d+$/.test(e.toString()))throw new l.vM;e=parseInt(e,10)}if(e<i.fB)throw new l.r_(i.fB);if(e>i.D3)throw new l.vM;return!0},p=e=>{if(0===e.length)throw new l.jQ((0,c.u)("invalid_code"));if(e.length<6)throw new l.jQ((0,c.u)("code_too_short"));if(e.length>6)throw new l.jQ((0,c.u)("code_too_long"));return!0}}}]);