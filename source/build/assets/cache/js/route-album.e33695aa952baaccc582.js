"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[592],{d6cg:(e,t,n)=>{n.d(t,{A:()=>L});var a=n("q1tI"),r=n("5G9X"),i=n("sdUN"),l=n("Wp0Y"),s=n("A2sV"),o=n("TDRX"),c=n("hIIJ"),d=n("fIC+"),u=n("ailv");const m=({artistId:e,albumId:t})=>{var n,r;const{data:i,error:m}=(0,s.KDJ)({variables:{artistId:e,liveEventsByProximityFirst:5},skip:!e});if(m)throw m;if(null==i||null===(n=i.artist)||void 0===n||!n.liveEventsByProximity||0===(null==i||null===(r=i.artist)||void 0===r||null===(r=r.liveEventsByProximity)||void 0===r?void 0:r.edges.length))return null;const p=i.artist.liveEventsByProximity.edges.map((e=>null==e?void 0:e.node)).filter(Boolean).slice(0,3);return a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},a.createElement(o.a,{mb:"spacing.xl"},a.createElement(c.A,{title:(0,l.AP)("artistpage_title_artistXontour_web",{sprintf:[i.artist.name]}),href:`/artist/${i.artist.id}/concerts`,ctaLabel:(0,l.AP)("eventpage_action_alltourdates_web")})),a.createElement(d.A,{concerts:p,onItemClick:(e,n)=>{(0,u.uV)({action:u.rc.CLICK_CONCERT,screen_view_id:t||"",screen_view_id_type:u.v5.ALBUM,screen_view_name:u.Xw.ALBUM,concert_ranking:n,item_id:e.id,item_type:(0,u.U$)(e.types)})}})))};var p=n("4vn4"),A=n("3ns7"),E=n("GxIe"),h=n("3nMj"),v=n("0O3b"),g=n("0JBE");const _=({dataFromStore:e})=>{var t,n,r;const{ALB_ID:i,ART_ID:o}=e,d={artistId:o,nb:30,cursor:null,roles:[s.by3.MAIN],subType:null,order:s.sV3.RELEASE_DATE,mode:s.rb0.OFFICIAL},{data:u}=(0,s.T_E)({variables:{...d,types:[s.iqi.ALBUM]}}),{data:m}=(0,s.T_E)({variables:{...d,types:[s.iqi.EP]}}),{data:_}=(0,s.T_E)({variables:{...d,types:[s.iqi.SINGLES]}}),b=[...(0,v.A)(null==u||null===(t=u.artist)||void 0===t?void 0:t.albums.edges),...(0,v.A)(null==m||null===(n=m.artist)||void 0===n?void 0:n.albums.edges),...(0,v.A)(null==_||null===(r=_.artist)||void 0===r?void 0:r.albums.edges)].filter((e=>e.id!==i)).slice(0,12);return b.length?a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},a.createElement(p.FN,null,a.createElement(p.qz,null,a.createElement(c.A,{title:(0,l.AP)("discographytype_title_discography_web"),href:`/artist/${o}`,ctaLabel:(0,l.AP)("Voir tout")}),a.createElement(p.q2,{leftLabel:(0,l.AP)("Précédent"),rightLabel:(0,l.AP)("Suivant")})),a.createElement(p.vQ,{as:A.kK,oneLine:!0},b.map((e=>{var t,n;return a.createElement(g.OJ,{key:e.id,value:{legacyContext:{TYPE:"album_discography",CONTEXT_ID:i,ID:e.id}}},a.createElement(E.A,{id:e.id,albumName:e.displayTitle,picture:null===(t=e.cover)||void 0===t?void 0:t.large[0],isExplicitAlbum:e.isExplicit||!1,hasExplicitCover:null===(n=e.cover)||void 0===n?void 0:n.explicitStatus,releaseDate:(0,h.A)(e.releaseDate),contributors:(0,v.A)(e.contributors.edges)}))})))))):null};var b=n("X/JG"),y=n("lpJY"),I=n("7E8A");const C=({dataFromStore:e})=>{const{RELATED_ARTISTS:t}=e;return t.data.length?a.createElement("div",{className:"catalog-content"},a.createElement(b.A,{data:t.data,title:(0,l.AP)("Artistes similaires"),context:"album_similar_artist",pageContext:I.CONTEXT_PAGE_ALBUM_SIMILAR_ARTIST,alignment:"left"},a.createElement(y.A,{data:t.data,context:"album_similar_artist",pageContext:I.CONTEXT_PAGE_ALBUM_SIMILAR_ARTIST,nbLines:1}))):null},T=({albumId:e})=>{var t;const{data:n}=(0,s.LLq)({variables:{albumId:e}}),r=(0,v.A)(null==n||null===(t=n.album)||void 0===t||null===(t=t.alternativeVersions)||void 0===t?void 0:t.edges);return r.length?a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},a.createElement(p.FN,null,a.createElement(p.qz,null,a.createElement(c.A,{title:(0,l.AP)("albumpage_title_otherversions_web")}),a.createElement(p.q2,{leftLabel:(0,l.AP)("Précédent"),rightLabel:(0,l.AP)("Suivant")})),a.createElement(p.vQ,{as:A.kK,oneLine:!0},r.map((t=>{var n,r;return a.createElement(g.OJ,{key:t.id,value:{legacyContext:{ID:t.id,TYPE:"album_discography",CONTEXT_ID:e}}},a.createElement(E.A,{id:t.id,albumName:t.displayTitle,picture:null===(n=t.cover)||void 0===n?void 0:n.large[0],isExplicitAlbum:t.isExplicit||!1,hasExplicitCover:null===(r=t.cover)||void 0===r?void 0:r.explicitStatus,releaseDate:(0,h.A)(t.releaseDate),contributors:(0,v.A)(t.contributors.edges)}))})))))):null},L=e=>{const{dataFromStore:t,children:n}=e,{COPYRIGHT:l,PRODUCER_LINE:s}=t;return a.createElement("div",{className:"naboo-catalog",id:"page_naboo_album",itemScope:!0,itemType:"http://schema.org/MusicAlbum"},a.createElement("div",{className:"catalog-content"},a.createElement("div",{className:"container"},n,a.createElement("div",{className:"catalog-legal-notice"},a.createElement("p",null,l),a.createElement("p",null,s)))),a.createElement(m,{albumId:t.ALB_ID,artistId:t.ART_ID}),a.createElement(T,{albumId:t.ALB_ID}),a.createElement(_,{dataFromStore:t}),a.createElement(C,{dataFromStore:t}),a.createElement(i.A,{type:r.Ay.Album,data:t}))}},oIpn:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N}),n("/eM8");var a,r,i,l,s=n("q1tI"),o=n("TRpf"),c=n("X6oL"),d=n("H/eQ"),u=n("WmA5"),m=n("iooo"),p=n("tZCQ"),A=n("5G9X"),E=n("p/gB"),h=n("d6cg"),v=n("y8BT"),g=n("FSqQ"),_=n("G929"),b=n("PMxo"),y=n("H9Ex"),I=n("NNA0"),C=n("q7N2"),T=n("xobL"),L=n("sAMA"),x=n("0JBE");const S=s.lazy((()=>n.e(7480).then(n.bind(n,"VAa1"))));let f=(0,c.Ay)({event:"updatepage",pagename:"album",pagecategory:"catalog"})(((r=class extends s.Component{constructor(...e){super(...e),this.state={error:null},this._updateNbFan=({namespace:e},t)=>{const{match:{params:n},data:a}=this.props;if(Number(t.id)!==Number(n.id))return;const r="USER.addFavorite"===e?a.NB_FAN+1:a.NB_FAN-1;this.props.updateAlbumFanCount({id:n.id,nbFan:r})}}componentDidMount(){const{appState:e,match:{params:{id:t}},data:n}=this.props;n&&n.FALLBACK_ID&&u.A.replace((0,m.jd)(`/album/${n.FALLBACK_ID}`)),this.props.loadAlbum({id:t,rehydrateData:e?{...e,partial:!1}:void 0}).catch((e=>this.setState({error:e}))),d.A.subscribe(d.A.user.addFavorite,this._updateNbFan),d.A.subscribe(d.A.user.deleteFavorite,this._updateNbFan)}componentDidUpdate(e){const{match:{params:{id:t}},data:n}=this.props;(e.data.ALB_ID&&Number(e.data.ALB_ID)!==Number(t)||n.partial)&&(this.props.loadAlbum({id:t}).catch((e=>this.setState({error:e}))),this.props.tracking&&this.props.tracking.trackEvent()),n.FALLBACK_ID&&u.A.replace((0,m.jd)(`/album/${n.FALLBACK_ID}`))}componentWillUnmount(){(0,y.w8)(),d.A.unsubscribe(d.A.user.addFavorite,this._updateNbFan),d.A.unsubscribe(d.A.user.deleteFavorite,this._updateNbFan)}render(){if(this.state.error)throw this.state.error;const{match:{params:e},data:t}=this.props;if(Number(e.id)!==Number(t.ALB_ID)||t.partial)return i||(i=s.createElement(g.A,null));if(!t.IS_AVAILABLE)return t.FALLBACK_ID?null:l||(l=s.createElement(v.A,null));if(!p.A.isAllowed("public_api_album"))return this._renderLegacy();const n={dataFromStore:t,params:e};return s.createElement(s.Suspense,{fallback:null},s.createElement(S,n))}_renderLegacy(){const{match:{params:e},data:t,shouldExplicitBeHidden:n}=this.props,{id:a,SONGS:r}=t,i={ID:e.id,TYPE:(0,E.Us)(A.Ay.Album)};return s.createElement(x.OJ,{value:{page:"album",entity:"album",entityId:e.id}},s.createElement(h.A,{dataFromStore:t,id:Number(e.id),context:i},s.createElement(_.t,(0,C.Bx)(null,t)),s.createElement(b.A,{id:a,context:i,items:r,shouldExplicitBeHidden:n})))}}).displayName="album",r.defaultProps={appState:void 0},a=r))||a;const N=(0,o.Ng)((({entities:e,user:t},{match:{params:n}})=>({data:(0,I.ce)(e,n),shouldExplicitBeHidden:(0,T.Uw)(t)===L.g})),{loadAlbum:y.eQ,updateAlbumFanCount:y.NZ})(f)},"X/JG":(e,t,n)=>{n.d(t,{A:()=>x});var a,r,i,l,s=n("+9dH"),o=n("17x9"),c=n.n(o),d=n("q1tI"),u=n("TRpf"),m=n("kSUS"),p=n("juqV"),A=n("Wp0Y"),E=n("H/eQ"),h=n("LOQS"),v=n("HmE0"),g=n("hIIJ"),_=n("sCpb"),b=n("fsGD"),y=n("vF4p"),I=n("6vqc"),C=n("RSbz"),T=n("nN8/");class L extends d.Component{constructor(e){super(e),this._initAds=this._initAds.bind(this),this._debouncedCheckItems=this._debouncedCheckItems.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this.state={itemIndex:0,itemWidth:0,containerWidth:0,displayedItemCount:0,hasControlLeft:!1,hasControlRight:!0,mouseIn:!1},this._nodeRef=d.createRef()}getChildContext(){return{layout:b.Pl}}componentDidMount(){this.props.data.length>0&&(this._checkItems(),E.A.subscribe(E.A.layout.adsBackground,this._initAds),E.A.subscribe(E.A.layout.resize,this._debouncedCheckItems),this._setAutoAnimate())}componentDidUpdate(e,t){const{mouseIn:n}=this.state,{data:a,related:r}=this.props;t.mouseIn!==n&&(n?clearTimeout(this._intervalAutoAnimate):this._setAutoAnimate()),(e.data.length!==a.length||e.related!==r&&a.length>0)&&this._checkItems()}componentWillUnmount(){clearTimeout(this._timeoutRef),this._debounceRef&&this._debounceRef.cancel(),this.props.autoAnimate&&clearTimeout(this._intervalAutoAnimate),E.A.unsubscribe(E.A.layout.adsBackground,this._initAds),E.A.unsubscribe(E.A.layout.resize,this._debouncedCheckItems)}render(){const{itemIndex:e,itemWidth:t}=this.state,{children:n,related:a,hasMoreItems:r}=this.props,i=e*("rtl"===this.props.langDirection?1:-1)*t,l={transform:`translateX(${i}px)`,msTransform:`translateX(${i}px)`,WebkitTransform:`translateX(${i}px)`},s={};""!==a.target&&""!==a.label&&r&&(s.label=a.label,s.target=a.target);const o=d.Children.map(n,(e=>d.isValidElement(e)?d.cloneElement(e,{viewMore:s}):e));return d.createElement("div",{className:"carousel",ref:this._nodeRef},d.createElement("div",{className:"container"},this._renderHeadings()),d.createElement("div",{className:"container"},d.createElement("div",{className:"carousel-wrapper"},d.createElement("div",{className:"carousel-inner",style:l,onMouseEnter:this._onMouseOver,onMouseLeave:this._onMouseOut},o))))}_renderHeadings(){const{alignment:e,enrichedTitle:t}=this.props,n=(0,p.A)("channel-headings",{"is-centered":"center"===e});return d.createElement("div",{className:n},t?this._renderEnrichedTitle():this._renderTitle(),this._renderControls())}_renderTitle(){const{title:e,related:t,subtitle:n,target:a}=this.props;if(""===e)return null;const r=t.target||a;return d.createElement(T.Mk.Consumer,null,(({dynamicContentlogAction:t})=>d.createElement(g.A,{href:void 0!==r&&""!==r?r:void 0,title:e,subtitle:n,onClick:()=>this._onClickViewAll(t)})))}_renderEnrichedTitle(){const{related:e,target:t,enrichedTitle:n}=this.props,a=e.target||t;return d.createElement(_.A,{href:void 0!==a&&""!==a?a:void 0,enrichedTitle:n})}_onClickViewAll(e){const{module_id:t,pageContext:n,tab:a}=this.props;e({action:T.D$.VIEW_ALL_CLICKED,payload:{module_id:t}}),null!=n&&n.includes("profile_")&&h.A.log({type:"cdp",eventName:"view_all_clicked",customAttributes:{section_name:y.Xw[a],screen_view_name:"profile_recently_played"===n?y.Xw.home:y.Xw[n.replace("profile_","")]}})}_shouldDisplayControls(){const{hasControlLeft:e,hasControlRight:t}=this.state;return e||t}_renderControlRight(){return this._shouldDisplayControls()?d.createElement("div",{className:"carousel-control carousel-next"},d.createElement(v.K0,{"aria-label":(0,A.AP)("Suivant"),isDisabled:!this.state.hasControlRight,icon:"ltr"===this.props.langDirection?a||(a=d.createElement(I.v,null)):r||(r=d.createElement(C.Y,null)),onClick:this._onSlide.bind(this,"right",!0),variant:"ghost"})):null}_renderControlLeft(){return this._shouldDisplayControls()?d.createElement("div",{className:"carousel-control carousel-prev"},d.createElement(v.K0,{"aria-label":(0,A.AP)("Précédent"),isDisabled:!this.state.hasControlLeft,icon:"ltr"===this.props.langDirection?i||(i=d.createElement(C.Y,null)):l||(l=d.createElement(I.v,null)),onClick:this._onSlide.bind(this,"left",!0),variant:"ghost"})):null}_renderControls(){if(!this.props.data.length)return null;let e={};return this.props.autoAnimate&&(e={onMouseEnter:this._onMouseOver,onMouseLeave:this._onMouseOut}),d.createElement("div",(0,s.A)({className:"carousel-controls"},e),this._renderControlLeft(),this._renderControlRight())}_onAutoAnimation(){const{hasControlLeft:e,hasControlRight:t,mouseIn:n}=this.state;!n&&t?this._onSlide("right",t):!n&&e&&this._processNewState(0)}_onMouseOver(){this.setState({mouseIn:!0})}_onMouseOut(){this.setState({mouseIn:!1})}_onSlide(e,t){if(t){const{itemIndex:t,displayedItemCount:n}=this.state,a=t+("left"===e?-1:1)*n;a!==t&&this._processNewState(a)}}_measureContainerWidth(){return this._nodeRef.current?this._nodeRef.current.querySelector(".carousel-inner").getBoundingClientRect().width:0}_checkItems(){if(!this._nodeRef.current)return;const e=this._nodeRef.current.getElementsByClassName("thumbnail-col");if(!e||0===e.length)return;const t=this._measureContainerWidth(),n="margin"+("rtl"===this.props.langDirection?"Right":"Left"),a=e[0].offsetWidth+parseInt(window.getComputedStyle(e[0])[n],10),r=Math.min(e.length,Math.ceil(t/a));this.setState({containerWidth:t,displayedItemCount:r,itemWidth:a},(()=>{this._processNewState(this.state.itemIndex)}))}_debouncedCheckItems(){this._debounceRef=(0,m.A)((()=>{this._checkItems()}),300),this._debounceRef()}_processNewState(e){if(!this._nodeRef.current)return;const t=this._nodeRef.current.getElementsByClassName("thumbnail-col"),{displayedItemCount:n}=this.state;e=Math.min(t.length-n,Math.max(0,e)),this.setState({itemIndex:e,hasControlLeft:e>0,hasControlRight:e+n<t.length})}_initAds(){this._checkItems()}_setAutoAnimate(){this.props.autoAnimate&&(this._intervalAutoAnimate=setInterval((()=>{this._onAutoAnimation()}),6e3))}}L.childContextTypes={layout:c().string},L.defaultProps={title:"",subtitle:"",target:"",section_id:"",hasMoreItems:!1,related:{target:"",label:""},options:[],alignment:"center",autoAnimate:!1,context:""};const x=(0,u.Ng)((({user:e})=>({langDirection:e.DIRECTION})))(L)},Q6dJ:(e,t,n)=>{n.d(t,{A:()=>A});var a=n("q1tI"),r=n("juqV"),i=n("GkjM"),l=n("3JOg"),s=n("rYh+");const o={element:"ZzbWE"};var c,d=n("+RX7"),u=n("TDRX"),m=n("y7xR"),p=n("pVdW");const A=({date:e,title:t,subtitle:n,concertId:A,onClick:E,calendarIconSize:h="sm",className:v,locationState:g})=>{const _=`/concert/${A}`;return a.createElement(l.A,null,a.createElement(i.A,{role:"button",to:{pathname:_,state:g},onClick:E,className:(0,r.A)(o.element,v)},a.createElement(d.V,{date:new Date(e),size:h}),a.createElement(u.a,{className:o.cell,flex:"1",flexDirection:"column",px:"spacing.m"},a.createElement(m.D,{variant:"heading.xs",noOfLines:1,mb:"spacing.xs",width:"100%"},t),n&&a.createElement(p.E,{variant:"body.s.default",color:"text.neutral.secondary.default",noOfLines:1,pb:"spacing.xs",width:"100%"},n)),c||(c=a.createElement(s.A,{size:"16"}))))}},"fIC+":(e,t,n)=>{n.d(t,{A:()=>E});var a=n("q1tI"),r=n("Q6dJ"),i=n("wZBD"),l=n("aIaO");var o,c=n("TRpf"),d=n("xobL"),u=n("Wp0Y"),m=n("wdFl");const p=({concert:e})=>{const t=(0,c.d4)((e=>e)),n=(0,d.Z0)(t.user);return a.createElement(a.Fragment,null,(e.types.isLivestreamConcert||e.types.isLivestreamFestival)&&(o||(o=a.createElement(i.J,{variant:"live",p:1,mr:1,display:"inline-block"},a.createElement(m.J,null)))),((e,t)=>{const n=new Date(e);return`${new Intl.DateTimeFormat(t,{day:"2-digit",month:"long"}).format(n)} • ${new Intl.DateTimeFormat(t,{hour:"2-digit"}).format(n)}`})(e.startDate,n))},A=({concert:e})=>a.createElement(a.Fragment,null,e.types.isLivestreamConcert||e.types.isLivestreamFestival?(0,u.AP)("concerthub_title_liveondeezer_web"):`${e.venue}, ${e.cityName}, ${e.countryCode}`),E=({concerts:e,onItemClick:t,locationState:n})=>a.createElement(l.x,{templateColumns:{base:"repeat(auto-fit, minmax(calc(50% - 16px), 1fr))",lg:"repeat(auto-fit, minmax(calc(33% - 16px), 1fr))"},columnGap:4,rowGap:2},e.map(((e,i)=>a.createElement(r.A,{key:e.id,concertId:e.id,date:e.startDate,title:a.createElement(A,{concert:e}),subtitle:a.createElement(p,{concert:e}),onClick:()=>t(e,i),calendarIconSize:"md",className:"ENwNR",locationState:n}))))},y8BT:(e,t,n)=>{n.d(t,{A:()=>u});var a,r=n("q1tI"),i=n("TRpf"),l=n("GkjM"),s=n("Wp0Y"),o=n("WmA5"),c=n("HmE0");class d extends r.Component{constructor(e){super(e),this._onClick=this._onClick.bind(this)}render(){const{userID:e,userLang:t}=this.props,n=(0,s.AP)("Pour profiter du meilleur de Deezer, jetez un œil à nos <a %1$s>Univers</a> ou à <a %2$s>vos Coups de cœur</a>.",{sprintf:[`href="/${t}/channels/explore"`,`href="/${t}/profile/${e}/loved"`]});return r.createElement("div",{className:"naboo-not-found"},a||(a=r.createElement("div",{className:"title"},"404")),r.createElement("div",{className:"unavailable"},(0,s.AP)("Désolé, nous ne trouvons pas la page que vous recherchez")),r.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:n},onClick:this._onClick}),r.createElement(c.$n,{as:l.A,to:`/${this.props.userLang}/`},(0,s.AP)("Explorer")))}_onClick(e){const t=e.target;"a"===t.tagName.toLowerCase()&&(o.A.replace(t.getAttribute("href")),e.preventDefault())}}const u=(0,i.Ng)((({user:e})=>({userID:e.id,userLang:e.SETTING_LANG})))(d)},FSqQ:(e,t,n)=>{n.d(t,{A:()=>l});var a,r=n("q1tI"),i=n("juqV");class l extends r.Component{render(){const{className:e}=this.props;let t=(0,i.A)("loader-container",e);return r.createElement("div",{className:t,"data-testid":"loader"},a||(a=r.createElement("div",{className:"loader animate-spin"})))}}},"JKL/":(e,t,n)=>{n.d(t,{A:()=>i});var a=n("q1tI"),r=n("TDRX");const i=({children:e,className:t=""})=>a.createElement(r.a,{mt:"spacing.xl",mb:"spacing.2xl",className:t},e)},RTUF:(e,t,n)=>{n.d(t,{i:()=>l,m:()=>i});var a=n("q1tI");const r=a.createContext({isDragging:!1}),i=({children:e})=>{const[t,n]=a.useState(!1);a.useEffect((()=>{const e=e=>{e.preventDefault()},t=()=>{document.removeEventListener("dragend",t),document.removeEventListener("drop",t),document.removeEventListener("dragenter",e),document.removeEventListener("dragover",e),n(!1),document.body.classList.remove("is-dragging")};return document.addEventListener("dragstart",(()=>{document.addEventListener("dragenter",e),document.addEventListener("dragover",e),document.addEventListener("dragend",t),document.addEventListener("drop",t),n(!0),document.body.classList.add("is-dragging")})),()=>{document.removeEventListener("dragend",t),document.removeEventListener("drop",t),document.removeEventListener("dragenter",e),document.removeEventListener("dragover",e)}}),[]);const i=a.useMemo((()=>({isDragging:t})),[t]);return a.createElement(r.Provider,{value:i},e)},l=()=>{const e=a.useContext(r);if(!e)throw new Error("useDrag must be used wrapped inside a DragProvider");return e}},sCpb:(e,t,n)=>{n.d(t,{A:()=>m});var a=n("q1tI"),r=n("CdHq"),i=n("mmFw"),l=n("pVdW"),s=n("y7xR"),o=n("9OcB"),c=n("GkjM"),d=n("hz5U"),u=n("5G9X");const m=({enrichedTitle:e,href:t})=>{var n;let m;if(null!==(n=e.pictures[0])&&void 0!==n&&n.md5){const t=d.A.getCoverType(e.type);m=d.A.getImageSrc(t,e.pictures[0].md5,48,48,"none")}return a.createElement(r.s,{direction:"row",align:"center"},a.createElement(c.A,{to:t,me:"spacing.s"},e.type===u.Ay.Artist||e.type===u.Ay.User?a.createElement(i.eu,{src:m,name:e.title,size:"size.xl",variant:"neutral","data-testid":"dynamic_page_section_image"}):a.createElement(o.A,{src:m,type:e.type,alt:e.title,size:"size.xl","data-testid":"dynamic_page_section_image"})),a.createElement(r.s,{direction:"column",w:"100%"},a.createElement(l.E,{variant:"body.s.default",mb:"spacing.xs",color:"text.neutral.secondary.default","data-testid":"dynamic_page_section_lead_in",noOfLines:1,maxW:"90%"},e.lead_in),a.createElement(s.D,{variant:"heading.m",noOfLines:1,maxW:"90%","data-testid":"dynamic_page_section_title"},a.createElement(c.A,{to:t,_hover:{textDecoration:"underline"},_active:{textDecoration:"underline"},_focus:{textDecoration:"underline"}},e.title))))}},"0oF4":(e,t,n)=>{n.d(t,{A:()=>c});var a=n("q1tI"),r=n("juqV"),i=n("6R6N"),l=n("BJtZ");const s={root:"CSc6R","is-disabled":"aLtBD",isDisabled:"aLtBD","is-restricted":"EyGqz",isRestricted:"EyGqz",container:"ui85P",note:"jSAPr","is-active":"llBv5",isActive:"llBv5"};var o=n("Wp0Y");const c=({rank:e})=>{const t=(0,r.A)(s.root,(0,l.A)(s));return a.createElement("div",{className:t,"aria-label":(0,o.AP)("datagrid_text_bypopularity_web",{sprintf:[`${e} / 10`]}),"data-testid":"popularity"},a.createElement(i.A,{className:s.container},(()=>{const t=[];for(let n=0;n<5;n++){const i=n<=e/2-1,l=(0,r.A)(s.note,{[s.isActive]:i});t.push(a.createElement("span",{key:n,"data-testid":i?"note-active":"note-inactive",className:l}))}return t})()))}},r4LN:(e,t,n)=>{n.d(t,{A:()=>E});var a=n("q1tI"),r=n("juqV"),i=n("iooo"),l=n("GkjM"),s=n("BJtZ"),o=n("t08u"),c=n("/5X2"),d=n("xCFc"),u=n("iiSH"),m=n("1Pdy");const p={root:"hjoo7",multilines:"yjFrI",link:"_ZA0C",text:"A9te1","is-active":"_MAPk",isActive:"_MAPk"};var A=n("kb9X");const E=({links:e,onClick:t})=>{const{id:n,index:E,type:h}=a.useContext(c.gy),{context:v,rowHeight:g}=a.useContext(d.Gt),{triggerTracking:_}=(0,o.A)(v.TYPE),b=(0,A.A)(),y=(0,s.A)(p),I=(0,r.A)(p.root,y,{[p.multilines]:g>m.F4.md}),C=(0,r.A)(p.link,y),T=(0,r.A)(p.text,y),L=e=>""!==e?e:u.fs;return a.createElement("div",{className:I},e.map(((r,s)=>a.createElement(a.Fragment,{key:r.path},null===r.path?a.createElement("span",{className:T,"data-testid":r.type},L(r.name)):a.createElement(l.A,{className:C,"data-testid":r.type,to:(0,i.jd)(r.path),onClick:()=>{b(),null==t||t(r),_({action:r.type,item:{id:n,rank:E,type:h}})}},L(r.name)),s<e.length-1?", ":null))),0===e.length&&"-")}},"wkd/":(e,t,n)=>{n.d(t,{A:()=>o});var a=n("q1tI"),r=n("PF77"),i=n("6R6N"),l=n("/5X2"),s=n("xCFc");const o=()=>{const{id:e,index:t,type:n,uuid:o}=(0,l.$_)(),{select:c}=(0,s.$A)();return a.createElement(i.A,null,a.createElement(r.Sc,{isChecked:c&&c.isSelected(o),onChange:()=>{c&&c.toggleSelect(e,n,o,t)},"data-testid":"select_button"}))}},PMxo:(e,t,n)=>{n.d(t,{A:()=>H});var a=n("q1tI"),r=n("8m9I"),i=n("1Pdy"),l=n("AfN5"),s=n("STEc");const o={TITLE:{SIZE:s.uq.Full},ARTIST:{SIZE:s.uq.PercentXs},DURATION:{SIZE:s.uq.sm},POPULARITY:{BREAKPOINT:s.x1.lg,SIZE:s.uq.sm},SELECT:{ALIGN:s.uP.Right,SIZE:s.uq.sm}};var c=n("xCFc"),d=n("juqV");const A=({index:e,number:t,style:n})=>{const r=(0,d.A)("nqfmm",{tWqeh:0===e});return a.createElement("div",{"aria-rowindex":e+1,role:"row",className:r,style:n},a.createElement("div",{className:"LvPr0"},"CD ",t))};var E,h,v,g,_=n("BP9I"),b=n("1Uwb"),y=n("fSLK"),I=n("lXQd"),C=n("o+h5"),T=n("0JBE"),L=n("pQlO"),x=n("0oF4"),S=n("r4LN"),f=n("wkd/"),N=n("LGn+"),D=n("tgyz"),k=n("Wp0Y"),w=n("CxZw"),P=n("5G9X"),R=n("SehT"),F=n("X/h3");const B=(0,a.memo)((0,T.S2)((({data:e,index:t,shouldDisplayFeaturing:n=!1,style:r})=>{const{context:i,container:l,loadingStatus:s,isOrderable:d,lastSeen:u,shouldExplicitBeHidden:m}=(0,c.$A)(),{playerStatus:p,play:A,isItemLoadedInPlayer:_}=(0,D.A)(i,l,s.isFullyFetched),y=e.toDisplay[t],T=y.item.hasExplicitLyrics&&m,B=(0,a.useCallback)(((t,n)=>{A({playIndex:n,playItems:e.toPlay,isTrackActive:t})}),[e.toPlay,A]),M=(0,a.useCallback)((t=>{A({notify:!1,playIndex:t,playItems:e.toPlay,playLyrics:!0})}),[e.toPlay,A]);return a.createElement(b.A.Row,{style:r,uuid:y.uuid,id:y.item.id,index:y.index,isActive:_(y.item)&&p.isSameContext,isOrderable:d,isReadable:y.item.right===w.A.READABLE,isRestrictedByExplicit:T,isUnseen:(0,F.g)(u,y.item.date),type:y.item.type,isDraggable:!0},a.createElement(N.A,{size:o.TITLE.SIZE},a.createElement(N.A.Play,{ariaLabel:(0,k.AP)("generic_action_playsongXbyartistX_web",{sprintf:[y.item.title,(0,I.A)(y,"item.artists[0].name","")]}),hasExplicitCover:y.item.parent.hasExplicitCover,onPlayItems:B,pictureUrl:y.item.cover(C.r4).url}),E||(E=a.createElement(N.A.Unseen,null)),h||(h=a.createElement(N.A.Download,null)),a.createElement(N.A.PlayableLabel,{hasExplicitLyrics:y.item.hasExplicitLyrics,label:`${y.item.number||0}. ${y.item.title}`,onPlayItems:B,tooltipText:(0,R.Y)(y.item,m)}),a.createElement(b.A.IconGroup,null,a.createElement(N.A.ShowLyrics,{item:y.item,lyricsId:y.item.lyricsId,onPlayLyrics:M}),v||(v=a.createElement(N.A.AddToFeedback,null)),a.createElement(N.A.OpenContextMenu,{item:y.item}))),n&&a.createElement(b.A.CellBody,{size:o.ARTIST.SIZE},a.createElement(S.A,{links:y.item.featuring.map((e=>({...e,type:P.Ay.Artist})))})),a.createElement(b.A.CellBody,{size:o.DURATION.SIZE},a.createElement(L.A,{duration:y.item.duration})),a.createElement(b.A.CellBody,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE},a.createElement(x.A,{rank:y.item.popularity})),a.createElement(b.A.CellBody,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},g||(g=a.createElement(f.A,null))))}),(({index:e,data:t})=>({item:P.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),y.t7);var U,G,M=n("ZH8F"),O=n("dalA"),q=n("ftFY"),W=n("7u2F");const H=({context:e,id:t,items:n,shouldExplicitBeHidden:s=!1})=>{const d={id:t,type:l.Kk.ALBUM},u=(0,a.useRef)(null),{manageItems:m,tableItems:p}=(0,q.A)(t,n,e),E=(0,W.A)(p,e),{playerStatus:h,play:v}=(0,D.A)(e,d,!0),g=p.all.some((e=>e.item.featuring.length>0)),y=(e=>e.some((e=>null!==e.item.disk&&1!==e.item.disk)))(p.all);(0,O.A)(M.g.PLAY,(()=>{v({playItems:p.toPlay})}),e);const I=e=>a.createElement(B,{key:p.toDisplay[e].uuid,data:p,index:e,shouldDisplayFeaturing:g,style:{height:i.F4.md}}),C=(0,c.Ay)({container:d,context:e,manageItems:m,playerStatus:h,select:E,shouldExplicitBeHidden:s});return a.createElement(c.ru,{value:C},a.createElement(b.A,{tableRef:u,rowCount:p.toDisplay.length},a.createElement(b.A.Header,null,a.createElement(b.A.CellHead,{size:o.TITLE.SIZE},(0,k.AP)("datagrid_title_trackUPP_web")),g&&a.createElement(b.A.CellHead,{size:o.ARTIST.SIZE},(0,k.AP)("datagrid_title_featuredartistsUPP_web")),a.createElement(b.A.CellHead,{ariaLabel:(0,k.AP)("sortingmenu_title_duration_web"),size:o.DURATION.SIZE},U||(U=a.createElement(r.m,null))),a.createElement(b.A.CellHead,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE},(0,k.AP)("datagrid_title_popularityabbrevUPP_web")),a.createElement(b.A.CellHead,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},a.createElement(_.A,{rowCount:p.toDisplay.length}))),a.createElement(b.A.Body,null,p.toDisplay.map(((e,t)=>{return y&&(n=e.item,(r=t>0?p.toDisplay[t-1].item:null)?r.disk!=n.disk:null!==n.disk)&&e.item.disk?a.createElement(a.Fragment,{key:`cd-${e.item.disk}`},a.createElement(A,{index:t,number:e.item.disk,style:{height:i.F4.md}}),I(t)):I(t);var n,r})))),0===p.toDisplay.length&&(G||(G=a.createElement(b.A.EmptyContent,null))))}},BP9I:(e,t,n)=>{n.d(t,{A:()=>h});var a=n("q1tI"),r=n("HmE0"),i=n("PF77"),l=n("5Loq"),s=n("6R6N"),o=n("dSZ9"),c=n("xCFc"),d=n("t08u"),u=n("5G9X"),m=n("1Pdy");var E;const h=({rowCount:e})=>{const{container:t,context:n,options:h,isPersonalFavoritesSongs:v,select:g}=(0,c.$A)(),{triggerTracking:_}=(0,d.A)(n.TYPE),b=g&&g.getSelectedItemsCount()||0,y=g&&g.getSelectedTrackIds()||[],I=1===b?g&&g.getSelectedItems()[0].item.legacy:{},C=(0,a.useCallback)((()=>{g&&g.toggleSelectAll()}),[g]),T=(0,a.useCallback)((()=>{_({action:"menu",eventaction:`menu-multi-${b}`})}),[b,_]),L={anchor:a.createElement(r.K0,{"aria-label":"open-menu","aria-haspopup":!0,icon:E||(E=a.createElement(l.j,null)),onClick:T,size:"sm",variant:"ghost"}),context:n,data:{...I,[u.vn[t.type]]:t.id,IS_DELETABLE:h.includes(m.Rj.Delete)&&!v},hasHeader:!0,id:y};return a.createElement("div",{className:"kjb5O"},b>0&&a.createElement("div",{className:"l5ll1"},a.createElement(o.A,L)),a.createElement(s.A,null,a.createElement(i.Sc,{isChecked:b>0,onChange:C,isIndeterminate:b>0&&b<e})))}},ZH8F:(e,t,n)=>{n.d(t,{e:()=>r,g:()=>a});let a=function(e){return e.FILTER="table-filter",e.PLAY="table-play",e}({});const r=(e,t)=>new CustomEvent(e,{detail:t})},dalA:(e,t,n)=>{n.d(t,{A:()=>r});var a=n("q1tI");const r=(e,t,n,r=document)=>{const i=({detail:e})=>{e.context.ID===n.ID&&e.context.TYPE===n.TYPE&&t(e)};return a.useEffect((()=>r&&r.addEventListener?(r.addEventListener(e,i),()=>{r.removeEventListener(e,i)}):()=>{})),{eventName:e,handleEvent:i}}},"7u2F":(e,t,n)=>{n.d(t,{A:()=>s}),n("/eM8");var a=n("q1tI"),r=n("xhuf"),i=n("LWGD"),l=n("t08u");const s=(e,t,n)=>{const{triggerTracking:s}=(0,l.A)(t.TYPE),[o,c]=(0,a.useState)([]),d=(0,a.useRef)(!1),u=(0,a.useMemo)((()=>{const t={};return e.toDisplay.forEach((e=>t[e.uuid]=e)),t}),[e.toDisplay]),m=Object.keys(u),p=(0,a.useMemo)((()=>{const e=(0,r.A)(o,m);return e.length>0?(0,i.A)(o,...e):o}),[m,o]);d.current&&0===o.length&&(d.current=!1),d.current&&m.length>o.length&&c(m),p.length!==o.length&&c(p);const A=(0,a.useCallback)((()=>o.map((e=>u[e]))),[u,o]),E=(0,a.useCallback)((()=>o.length),[o.length]),h=(0,a.useCallback)((()=>{const e={},t=A(),n=[];return t.forEach((t=>{const a=t.item.id;void 0===e[a]&&(n.push(a),e[a]=!0)})),n}),[A]),v=(0,a.useCallback)((e=>o.includes(e)),[o]),g=(0,a.useCallback)(((e,t,n,a=0)=>{v(n)?(d.current=!1,c(o.filter((e=>e!==n)))):(m.length===o.length+1&&(d.current=!0),c([...o,n])),s({action:"select",item:{id:e,rank:a,type:t}})}),[m.length,v,o,s]),_=(0,a.useCallback)((async()=>{o.length>0?(d.current=!1,c([])):("function"==typeof n&&await n(),d.current=!0,c(m)),s({action:"select",eventaction:"select-all"})}),[m,n,o.length,s]);return{getSelectedItems:A,getSelectedItemsCount:E,getSelectedTrackIds:h,isSelected:v,toggleSelect:g,toggleSelectAll:_}}},"rOn+":(e,t,n)=>{n.d(t,{A:()=>o});var a=n("q1tI"),r=n("0oT0"),i=n("N67Q"),l=n("1h7S"),s=n("cFUB");const o=()=>{const{context:e,id:t,isLoveable:n,isSponsored:o,type:c}=a.useContext(l.PK);return n?a.createElement(i.A,null,a.createElement(r.A,{action:s.Hj.FAVORITE,color:!0===o?s.cW.LIGHT:s.cW.DEFAULT,context:e,id:t,type:c})):null}},KJ1h:(e,t,n)=>{n.d(t,{A:()=>o});var a=n("q1tI"),r=n("0oT0"),i=n("N67Q"),l=n("1h7S"),s=n("cFUB");const o=()=>{const{context:e,id:t,isDownloadable:n,type:o}=a.useContext(l.PK);return n?a.createElement(i.A,null,a.createElement(r.A,{action:s.Hj.DOWNLOAD,context:e,id:t,type:o})):null}},Ye48:(e,t,n)=>{n.d(t,{A:()=>u});var a,r=n("q1tI"),i=n("HmE0"),l=n("5Loq"),s=n("Wp0Y"),o=n("2EvD"),c=n("N67Q"),d=n("1h7S");const u=({placement:e="right"})=>{const{id:t,containerData:n,context:u,isSponsored:m,type:p}=r.useContext(d.PK),A={anchor:r.createElement(i.K0,{"aria-haspopup":!0,"aria-label":(0,s.AP)("generic_action_viewmenu_web"),colorScheme:!0===m?"white":"neutral",icon:a||(a=r.createElement(l.j,null)),variant:"ghost"}),context:u,data:n,id:t,placement:e,type:p};return r.createElement(c.A,null,r.createElement(o.A,A))}},Eiyd:(e,t,n)=>{n.d(t,{A:()=>d});var a=n("q1tI"),r=n("H/eQ"),i=n("N67Q"),l=n("0oT0"),s=n("1h7S"),o=n("cFUB"),c=n("ZH8F");const d=()=>{const{containerData:e,context:t,id:n,type:d}=a.useContext(s.PK),u=(0,a.useCallback)((()=>{document.dispatchEvent((0,c.e)(c.g.PLAY,{context:t}))}),[t]);return(0,a.useEffect)((()=>(r.A.subscribe("EVENT.TRACKLIST.togglePlayAll",u),()=>{r.A.unsubscribe("EVENT.TRACKLIST.togglePlayAll",u)})),[u]),e.NB_SONG||e.NB_EPISODES?a.createElement(i.A,{testId:"play"},a.createElement(l.A,{id:n,items:e.items||void 0,type:d,onClick:u,context:t,action:o.Hj.PLAY_SMALL,color:o.cW.PRIMARY,wordingType:o.Hn.STANDARD})):null}},C53p:(e,t,n)=>{n.d(t,{A:()=>p});var a,r=n("q1tI"),i=n("TRpf"),l=n("HmE0"),s=n("EPmj"),o=n("Wp0Y"),c=n("TqF5"),d=n("N67Q"),u=n("Jfek"),m=n("1h7S");const p=()=>{const{id:e,isShareable:t,containerData:n,context:p,shareType:A,isSponsored:E}=r.useContext(m.PK),h=(0,i.wA)();return t&&A?r.createElement(d.A,null,r.createElement(l.K0,{"aria-haspopup":!0,"aria-label":(0,o.AP)("Partager"),colorScheme:!0===E?"white":"neutral",icon:a||(a=r.createElement(s.l,null)),onClick:()=>{h((0,c.qf)({name:u.DN,props:{componentType:u.Wg.directShareMasthead,context:p,data:n,id:e,type:A}}))},variant:"ghost"})):null}},"1h7S":(e,t,n)=>{n.d(t,{Ay:()=>c,PK:()=>s});var a=n("chf7"),r=n("Jfek");const[i,l,s]=(0,a.q6)({name:"ToolbarContext"}),o={context:{ID:"",TYPE:""},id:"",isEditable:!1,isShareable:!1,isLoveable:!1,isDownloadable:!1,isSponsored:!1,shareType:r.Gb.song,type:""},c=e=>({...o,...e})},N67Q:(e,t,n)=>{n.d(t,{A:()=>r});var a=n("q1tI");const r=({children:e,testId:t})=>t?a.createElement("div",{"data-testid":t},e):a.createElement("div",null,e)},"X/h3":(e,t,n)=>{n.d(t,{g:()=>a});const a=(e,t)=>!(!e||!t)&&t>e},lpJY:(e,t,n)=>{n.d(t,{A:()=>a});const a=n("lG1H").A},GxIe:(e,t,n)=>{n.d(t,{A:()=>N});var a,r,i=n("q1tI"),l=n("Ty5D"),s=n("Wp0Y"),o=n("LpaV"),c=n("CrR0"),d=n("0sL9"),u=n("o6LG"),m=n("lhvF"),p=n("/eXD"),A=n("L20E"),E=n("uN8A"),h=n("TDRX"),v=n("9OcB"),g=n("5Loq"),_=n("T0hu"),b=n("GkjM"),y=n("7bA3"),I=n("1lpQ"),C=n("smbX"),T=n("nQur"),L=n("0JBE"),x=n("kb9X"),S=n("5G9X");const f=e=>{e.stopPropagation(),e.currentTarget.blur()},N=(0,L.S2)((({id:e,albumName:t,picture:n,hasExplicitCover:S,releaseDate:N,contributors:D,isExplicitAlbum:k,hasContextMenu:w=!0,onAction:P})=>{const{push:R}=(0,l.W6)(),{toggleFavorite:F,isFavorite:B}=(0,T.A)(e),{legacyContext:M}=(0,L.iQ)(),O=(0,x.A)(),q={anchor:i.createElement(c.U,{"aria-label":(0,s.AP)("Plus"),icon:a||(a=i.createElement(g.j,null))}),context:M,data:{name:t,ARTISTS:D.map((e=>({ART_NAME:e.name}))),picture:n,id:e,type:1},id:e,placement:"top",disableZoomCover:!0};return i.createElement(d.V,{onClick:()=>{O(),null==P||P({type:"navigation",target:"album",id:e}),R(`/album/${e}`)},_hover:{cursor:"pointer"},"data-testid":"album_thumbnail"},i.createElement(u.g,{ratio:1,display:"block"},i.createElement(v.A,{src:n,alt:t,isExplicitCover:S},i.createElement(m.Q,null,i.createElement(y.A,{onClick:()=>null==P?void 0:P({type:"play"}),type:"album",id:e}),i.createElement(C.A,{isFavorite:B,toggleFavorite:F}),w&&i.createElement(o.K.Provider,{value:e},i.createElement(_.A,q))))),i.createElement(p.r,{title:t},i.createElement(b.A,{onClick:t=>{O(),null==P||P({type:"navigation",target:"album",id:e}),f(t)},to:`/album/${e}`,_hover:{textDecoration:"underline"}},t)),i.createElement(A.T,null,D.map(((e,t)=>i.createElement(i.Fragment,{key:e.id},t>0&&", ",i.createElement(b.A,{onClick:t=>{O(),null==P||P({type:"navigation",target:"artist",id:e.id}),f(t)},to:`/artist/${e.id}`,_hover:{textDecoration:"underline"}},e.name))))),i.createElement(E.f,null,(0,s.AP)("Sorti le")," ",N),k&&(r||(r=i.createElement(h.a,{mt:"spacing.s"},i.createElement(I.A,null)))))}),(({id:e})=>({itemId:e,item:S.Ay.Album})))},smbX:(e,t,n)=>{n.d(t,{A:()=>s});var a=n("q1tI"),r=n("Hews"),i=n("CrR0"),l=n("Wp0Y");const s=({isFavorite:e,toggleFavorite:t})=>a.createElement(i.U,{"aria-label":e?(0,l.AP)("Retirer des Coups de cœur"):(0,l.AP)("Ajouter aux Coups de cœur"),icon:a.createElement(r.A,{isActive:e}),onClick:t})},"7bA3":(e,t,n)=>{n.d(t,{A:()=>o});var a=n("q1tI"),r=n("F3Nm"),i=n("CrR0"),l=n("0JBE"),s=n("GjdC");const o=({id:e,type:t,displayForce:n,shouldPlayRadio:o=!1,onClick:c})=>{const{legacyContext:d}=(0,l.iQ)(),u=(0,s.A)();return a.createElement(i.U,{"aria-label":"",as:"div",displayForce:n,icon:a.createElement(r.A,{id:e,type:t,context:d,radio:o,onClick:e=>{null==c||c(),e||u("direct_play")}})})}},nQur:(e,t,n)=>{n.d(t,{A:()=>E});var a=n("Au7y"),r=n("Sb6s"),i=n("TRpf"),l=n("Fzox"),s=n("X6oL"),o=n("Nz/Y"),c=n("34sk"),d=n("yJX9"),u=n("vXsw"),m=n("xobL"),p=n("A2sV");const A=a.J1`
	fragment isAlbumFavorite on Album {
		isFavorite
	}
`,E=e=>{const t={albumId:e},n=(0,i.wA)(),a=(0,l.G)((({user:e})=>(0,m.UJ)(e))),E=(0,o.A)(),h=(0,s.z1)(),{data:v}=(0,r.I)({fragment:A,from:{__typename:"Album",id:e},optimistic:!0}),[g]=(0,p._At)({variables:t,optimisticResponse:{__typename:"Mutation",addAlbumToFavorite:{album:{id:e,isFavorite:!0,__typename:"Album"},__typename:"AlbumMutationFavoriteAddOut"}},onCompleted:()=>{n((0,c.TD)(d.Z.favorites,{id:e,timestamp:Date.now()},"album"));const t=h.getTrackingData(),{pagecategory:a,pagename:r,index:i}=t,l=a||r,s="album";l&&h.trackEvent({eventaction:`click-favorite-${l}_${s}`,event:"click",eventcategory:l,eventlabel:`favorite-${l}_${s}`,item:{id:e,type:s,rank:i||0}})}}),[_]=(0,p.I7O)({variables:t,onCompleted:()=>{n((0,c.E$)(d.Z.favorites,e,"album"))},optimisticResponse:{__typename:"Mutation",removeAlbumFromFavorite:{album:{id:e,isFavorite:!1,__typename:"Album"},__typename:"AlbumMutationFavoriteRemoveOut"}}}),b=(0,l.G)((t=>t.feedbacks.favorites.album.feedbacks[e])),y=Boolean(b||(null==v?void 0:v.isFavorite));return{isFavorite:y,toggleFavorite:()=>{a?y?_():(E(),g()):u.g.goToConnection()}}}},G929:(e,t,n)=>{n.d(t,{t:()=>ie,A:()=>le});var a=n("+9dH"),r=(n("WpbS"),n("q1tI")),i=n("TRpf"),l=n("Wp0Y"),s=n("3nMj"),o=n("23Qi"),c=n("Qmjy"),d=n("5G9X"),u=n("p/gB"),m=n("xobL"),p=n("wZBD"),A=n("TDRX"),E=n("1lpQ"),h=n("2NhJ"),v=n("oq/a"),g=n("zJSK"),_=n("JKL/"),b=n("wRgy"),y=n("WQvr"),I=n("lDkB"),C=n("uSSP"),T=n("B3z3"),L=n("WY4A"),x=n("Ozpl"),S=n("CTxd"),f=n("X6oL"),N=n("juqV"),D=n("GkjM");var R;const F=(0,f.Ay)()(R=class extends r.Component{constructor(...e){super(...e),this._onConversionClick=()=>{this.props.tracking&&this.props.tracking.trackEvent({eventaction:"click-windowing-conversion-btn",event:"click",eventcategory:"album",eventlabel:"windowing-conversion-btn"})}}render(){const{enabled:e,dateAds:t}=this.props,n=e&&t?(0,l.AP)("windowing_title_premiumexclusivecontentwithdate_web",{sprintf:[(0,s.A)(t)]}):(0,l.AP)("windowing_text_premiumexclusivecontentnodate_web"),a=(0,N.A)("btn","Ku2sH");return r.createElement("div",{className:"gnm2d"},n,r.createElement(D.A,{className:a,to:"/offers?origin=windowing",target:"_blank",onClick:this.props.tracking?this._onConversionClick:void 0},r.createElement("span",{className:"x_s23"},(0,l.AP)("windowing_action_upgradenow_web"))))}})||R;var B,M,O,q,W,U=n("Jfek"),G=n("NNA0"),H=n("tZCQ"),X=n("1h7S"),Y=n("9MQu"),J=n("rOn+"),z=n("KJ1h"),$=n("Ye48"),V=n("Eiyd"),j=n("C53p");const K=({id:e,context:t})=>{const n=(0,i.d4)((t=>(0,G.ce)(t.entities,{id:e}))),a=(0,i.d4)((e=>(0,m.Jt)(e.user))),l=(0,X.Ay)({containerData:n,context:t,id:e,isDownloadable:a,isLoveable:!0,isShareable:!0,type:d.Ay.Album,shareType:U.Gb.album});return r.createElement(X.PK.Provider,{value:l},r.createElement(Y.e,{size:"medium",gap:H.A.isAllowed("revamp2023")?"spacing.xs":"12px",spacing:0,"data-testid":"toolbar"},B||(B=r.createElement(V.A,null)),M||(M=r.createElement(J.A,null)),O||(O=r.createElement(j.A,null)),q||(q=r.createElement(z.A,null)),W||(W=r.createElement($.A,null))))},Q=e=>Boolean(e&&e.windowingData),Z=(e,t,n)=>(!t||!n)&&Q(e),ee=(e,t)=>!(!t||!t.releaseDate)&&new Date(t.releaseDate).getTime()/1e3+2592e3>e;var ae,re=n("0JBE");class ie extends r.Component{render(){const{picture:e,name:t,id:n}=this.props;return e?r.createElement(re.OJ,{value:{item:d.Ay.Album,itemId:n}},r.createElement(h.Ay,null,this._renderThumbnail(),r.createElement(v.A,null,this._renderSticker(),r.createElement(g.A,null,t),this._renderContributors(),this._renderConversionBanner(),this._renderInfos())),r.createElement(_.A,null,this._renderToolbar())):null}_renderThumbnail(){var e;const{name:t,picture:n}=this.props;return n?r.createElement(b.A,{alt:t,src:null===(e=n.urls)||void 0===e||null===(e=e.large)||void 0===e?void 0:e[0],isExplicitCover:Boolean(n.isExplicit),type:d.Ay.Album,"data-testid":"album-cover"}):null}_renderContributors(){const{contributors:e}=this.props;return e&&e.length?r.createElement(y.A,null,this._renderContributorsThumbnail(),this._renderContributorsName()):null}_renderContributorsThumbnail(){const{contributors:e}=this.props;return e&&e.length?r.createElement(I.A,{className:"kICER"},e.slice(0,10).map((e=>e.picture?r.createElement(C.A,{key:e.id,text:e.name,to:`/artist/${e.id}`,className:"t62He"},r.createElement(S.Ay,(0,a.A)({},e.picture,{height:28,width:28,rounded:!0,type:d.Ay.Artist}))):null)).reverse()):null}_renderContributorsName(){const{contributors:e}=this.props;return e&&e.length?r.createElement("div",null,e.slice(0,10).map((e=>r.createElement(T.A,{key:`artist_${e.id}`,to:`/artist/${e.id}`,whiteSpace:"nowrap"},e.name))).reduce(((e,t)=>[e,", ",t]))):null}_renderConversionBanner(){const{displayWindowingBanner:e,windowingData:t}=this.props;return e?r.createElement(F,t):null}_renderInfos(){const{displayWindowingBanner:e}=this.props;return t={...this.props},!Boolean(Q(t)&&!t.windowingData.isStreamable)&&e?null:r.createElement(L.A,null,this._renderTracksCount(),this._renderDuration(),this._renderReleaseDate(),this._renderFans());var t}_renderTracksCount(){const{tracksCount:e}=this.props;return e?r.createElement(x.A,null,(0,l.WI)("%s titre","%s titres",{count:e,sprintf:[(0,o.A)(e)]})):null}_renderFans(){const{fansCount:e}=this.props;return e?r.createElement(x.A,null,(0,l.WI)("%s fan","%s fans",{count:e,sprintf:[(0,o.A)(e)]})):null}_renderReleaseDate(){const{releaseDate:e,windowingDateForAds:t}=this.props;return!e||t&&t.length?null:r.createElement(x.A,null,(0,s.A)(e))}_renderDuration(){const{duration:e}=this.props;return e?r.createElement(x.A,null,(0,c.A)(e)):null}_renderSticker(){const{isNew:e,isExplicit:t}=this.props;if(!e&&!Q({...this.props})&&!t)return null;let n;return t&&(n=ae||(ae=r.createElement(E.A,null))),e&&(n=r.createElement(p.J,{variant:"live"},(0,l.AP)("NOUVEAU"))),Q({...this.props})&&(n=r.createElement(p.J,{variant:"accent"},(0,l.AP)("windowing_title_PREMIUM_web"))),r.createElement(A.a,{mb:"spacing.s"},n)}_renderToolbar(){const{id:e}=this.props;return r.createElement(K,{context:{ID:e,TYPE:(0,u.Us)(d.Ay.Album)},id:e})}}const le=(0,i.Ng)(((e,t)=>{return{isNew:ee((0,m.mI)({SERVER_TIMESTAMP:e.user.SERVER_TIMESTAMP,clientTimestampDelta:e.user.clientTimestampDelta}),{...t}),displayWindowingBanner:Z({...t},(0,m.UJ)(e.user),(0,m.jQ)(e.user)),windowingDateForAds:(n={...t},a=(0,m.UJ)(e.user),r=(0,m.jQ)(e.user),Z(n,a,r)&&n.windowingData&&n.windowingData.enabled&&n.windowingData.dateAds||"")};var n,a,r}))(ie)},ailv:(e,t,n)=>{n.d(t,{SP:()=>r,U$:()=>c,Xw:()=>l,rc:()=>i,uV:()=>o,v5:()=>s});var a=n("LOQS");let r=function(e){return e.CONCERT="concert",e.CONCERT_WITH_LIVESTREAM="concert_with_livestream",e.FESTIVAL="festival",e.FESTIVAL_WITH_LIVESTREAM="festival_with_livestream",e}({}),i=function(e){return e.CLICK_CONCERT="click_concert",e.BUY_TICKET="buy_ticket",e.SEARCH="search",e.REMINDER="put_concert_reminder",e}({}),l=function(e){return e.CONCERT_HUB_FOR_YOU="concert_hub_for_you",e.CONCERT_DETAIL="concert_detail",e.ARTIST="artist",e.VIEW_ALL="view_all_concerts",e.ALBUM="album",e}({}),s=function(e){return e.CITY="city",e.CONCERT="concert",e.ARTIST="artist",e.ALBUM="album",e}({});const o=e=>{a.A.log({type:"cdp",eventName:"concert_hub_used",customAttributes:e})},c=e=>null!=e&&e.isConcert?r.CONCERT:null!=e&&e.isFestival?r.FESTIVAL:null!=e&&e.isLivestreamConcert?r.CONCERT_WITH_LIVESTREAM:null!=e&&e.isLivestreamFestival?r.FESTIVAL_WITH_LIVESTREAM:void 0},"0O3b":(e,t,n)=>{function a(e){return(e||[]).reduce(((e,t)=>(t.node&&e.push(t.node),e)),[])}n.d(t,{A:()=>a}),n("WpbS")},q7N2:(e,t,n)=>{n.d(t,{Bx:()=>c});var a=n("dTBB"),r=n("5G9X"),i=n("MWM2"),l=n("kPsn"),s=n("CyAC"),o=n("sAMA");const c=(e,t)=>{if(!(0,a.H)(t))throw new Error("Legacy album has wrong format");const n={id:(null==e?void 0:e.id)||t.ALB_ID,name:(null==e?void 0:e.displayTitle)||t.ALB_TITLE,contributors:(0,i.Z)(t.ARTISTS,(null==e?void 0:e.contributors)&&(null==e?void 0:e.contributors.edges)),picture:(0,l.jg)(r.Ay.Album,null==e?void 0:e.cover,t),fansCount:t.NB_FAN,tracksCount:t.SONGS.length,duration:(null==e?void 0:e.duration)||t.DURATION,releaseDate:(null==e?void 0:e.releaseDate)||t.RELEASE_DATE,isExplicit:void 0!==(null==e?void 0:e.isExplicit)&&null!==(null==e?void 0:e.isExplicit)?null==e?void 0:e.isExplicit:(c=t,!!c&&(0,s.Q3)(c)!==o.yC)};var c;return t.WINDOWING_DATA?{...n,windowingData:{enabled:t.WINDOWING_DATA.ENABLED,dateAds:t.WINDOWING_DATA.DATE_ADS,isStreamable:t.WINDOWING_DATA.IS_STREAMABLE}}:n}},MWM2:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n("5G9X"),r=n("kPsn"),i=n("tCiE");const l=(e,t)=>{return t&&t.length?t.map((e=>({id:e.node.id,name:e.node.name,picture:(0,r.jg)(a.Ay.Artist,e.node.picture)}))):(n=e)&&n.length?n.map((e=>{if(!(0,i.B)(e))throw new Error("Legacy contributor has wrong format");return{id:e.ART_ID,name:e.ART_NAME,picture:(0,r.kk)(a.Ay.Artist,e)}})):[];var n}},kb9X:(e,t,n)=>{n.d(t,{A:()=>i});var a=n("0JBE"),r=n("LOQS");const i=()=>{const{page:e,section:t,entityId:n,entity:i,item:l,itemId:s,itemIndex:o}=(0,a.iQ)();if(!e||!l||!s)return()=>{};const c=o||0===o?o+1:null;return()=>r.A.log({type:"cdp",eventName:"item_clicked",customAttributes:{screen_view_name:e,item_id:s,item_type:l,...i&&{screen_view_id_type:i},...n&&{screen_view_id:n},...t&&{section_name:t},...c&&{item_position:c}}})}}}]);