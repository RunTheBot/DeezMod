"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[1550],{"/k3D":(e,t,a)=>{a.d(t,{A:()=>E});var n=a("q1tI"),i=a("TRpf"),s=a("juqV"),r=a("oB8A"),l=a("RuKb"),o=a("xobL"),c=a("Wp0Y"),d=a("/5X2"),m=a("x4+n"),p=a("BJtZ");const u={root:"DqHx5","is-active":"fK3zp",isActive:"fK3zp",label:"TtjAg","is-disabled":"fRaWU",isDisabled:"fRaWU","is-restricted":"LjckW",isRestricted:"LjckW",date:"PTTQH",remaining:"wdZ0W",progress:"OaVz_","progress-inner":"BFn78",progressInner:"BFn78"};var h=a("iiSH"),g=a("w2Jm");const E=({date:e,duration:t})=>{const{id:a}=n.useContext(d.gy),[E,_]=(0,i.d4)((e=>[(0,l.v6)(e.bookmarks,r.x.EPISODE,a),(0,o.mI)({SERVER_TIMESTAMP:(0,o.mS)(e.user),clientTimestampDelta:(0,o.gE)(e.user)})])),y=(0,s.A)(u.root,(0,p.A)(u));return n.createElement("div",{className:y},n.createElement("div",{className:u.date,"data-testid":"added"},(0,m.E)(e,_)||h.fs),(()=>{if(E&&!(t<=0)&&(E.ongoing||E.played))return n.createElement("div",{className:u.remaining},(()=>{if(!E||!E.ongoing||t<=0)return;const e=(0,g.r3)(E.offset,t);return n.createElement("div",{"data-testid":"duration-left"},(0,c.WI)("timecounter_text_XminleftUPP_web","timecounter_text_XminleftUPP_web",{sprintf:[e],count:e}))})(),(()=>{if(!E||E.notPlayed||t<=0)return;if(E.played)return n.createElement("div",null,(0,c.AP)("podcastpage_title_playedUPP_web"));const e=(0,g.YX)(E.offset,t);return n.createElement("div",{"data-testid":"progress",className:u.progress},n.createElement("div",{className:u.progressInner,style:{width:`${e}%`}}))})())})())}},"/uRm":(e,t,a)=>{a.d(t,{F:()=>n});let n=function(e){return e.ONBOARDING="ON_BOARDING",e.ONBOARDING_LEGACY="ON_BOARDING_LEGACY",e.SELECT_PROFILE="SELECT_PROFILE",e.BRIDGED_WEBVIEW="BRIDGED_WEBVIEW",e.PLAYLIST_ASSISTANT="PLAYLIST_ASSISTANT",e}({})},BRvO:(e,t,a)=>{a.d(t,{A:()=>i});var n=a("A2sV");const i=function({variables:e}){return(0,n.oih)({variables:e,optimisticResponse:{__typename:"Mutation",unsubscribeToLiveEventNotification:{__typename:"LiveEventMutationUnsubscribeToNotificationOutput",status:!1,liveEvent:{__typename:"LiveEvent",id:e.eventId,hasSubscribedToNotification:!1}}}})}},FSqQ:(e,t,a)=>{a.d(t,{A:()=>r});var n,i=a("q1tI"),s=a("juqV");class r extends i.Component{render(){const{className:e}=this.props;let t=(0,s.A)("loader-container",e);return i.createElement("div",{className:t,"data-testid":"loader"},n||(n=i.createElement("div",{className:"loader animate-spin"})))}}},I36q:(e,t,a)=>{a.d(t,{d:()=>n});let n=function(e){return e.Welcome="welcome",e.Improve="improve",e}({})},JLdt:(e,t,a)=>{a.d(t,{A:()=>s});var n=a("Wp0Y"),i=a("A2sV");const s=({status:e,eventDate:t,lang:a,hourOption:s})=>{const r=new Date,l=Math.floor((t.getTime()-r.getTime())/864e5),o=0==t.getDate()-r.getDate()&&l<1,c=e===i.vi.STARTED,d=e===i.vi.ENDED,m=e===i.vi.CANCELLED;return d?(0,n.AP)("liveeventcard_title_ended_web"):m?(0,n.AP)("liveeventcard_title_canceled_web"):c?(0,n.AP)("livestreammodule_title_live_web"):l>0&&!o?(0,n.AP)("livestreammodule_title_daysXtogo_web",{count:Math.ceil(l),sprintf:[Math.ceil(l)]}):(0,n.AP)("livestreammodule_title_liveatXtime_web",{sprintf:[new Intl.DateTimeFormat(a,s).format(t)]})}},MIIr:(e,t,a)=>{a.d(t,{A:()=>i});var n=a("A2sV");const i=function({variables:e}){return(0,n.BMS)({variables:e,optimisticResponse:{__typename:"Mutation",subscribeToLiveEventNotification:{__typename:"LiveEventMutationSubscribeToNotificationOutput",status:!0,liveEvent:{__typename:"LiveEvent",id:e.eventId,hasSubscribedToNotification:!0}}}})}},RTUF:(e,t,a)=>{a.d(t,{i:()=>r,m:()=>s});var n=a("q1tI");const i=n.createContext({isDragging:!1}),s=({children:e})=>{const[t,a]=n.useState(!1);n.useEffect((()=>{const e=e=>{e.preventDefault()},t=()=>{document.removeEventListener("dragend",t),document.removeEventListener("drop",t),document.removeEventListener("dragenter",e),document.removeEventListener("dragover",e),a(!1),document.body.classList.remove("is-dragging")};return document.addEventListener("dragstart",(()=>{document.addEventListener("dragenter",e),document.addEventListener("dragover",e),document.addEventListener("dragend",t),document.addEventListener("drop",t),a(!0),document.body.classList.add("is-dragging")})),()=>{document.removeEventListener("dragend",t),document.removeEventListener("drop",t),document.removeEventListener("dragenter",e),document.removeEventListener("dragover",e)}}),[]);const s=n.useMemo((()=>({isDragging:t})),[t]);return n.createElement(i.Provider,{value:s},e)},r=()=>{const e=n.useContext(i);if(!e)throw new Error("useDrag must be used wrapped inside a DragProvider");return e}},Xb8Y:(e,t,a)=>{a.d(t,{Ay:()=>B,CZ:()=>O});var n=a("q1tI"),i=a("TRpf"),s=a("juqV"),r=a("WrS5"),l=a("Wp0Y"),o=a("TqF5"),c=a("A2sV"),d=a("CdHq"),m=a("HmE0"),p=a("siwx"),u=a("arV3"),h=a("P2AV"),g=a("8m9I"),E=a("wdFl"),_=a("brAN"),y=a("JLdt"),v=a("hrWl");const S="Aacm5",I="rM0w9",N="ViSJa";var w,C,P=a("tZCQ"),D=a("hIIJ");const L={weekday:"long",month:"short",day:"numeric"},O={hour:"numeric",minute:"numeric"},R={dispatchOpenModal:o.qf},B=(0,i.Ng)(null,R)((({dispatchOpenModal:e,eventDate:t,imageUrl:a,status:i,lang:o,sectionTitle:R,title:B,videoUrl:M,isNotified:F,toggleNotification:H})=>{const G=M?()=>e({name:r.b.GENERIC_IFRAME,size:"small",props:{url:M}}):void 0,U=(0,s.A)("c5ONn",{[N]:M}),V=(0,s.A)("thumbnail-col","thumbnail-col-event","Egguy",{[N]:M}),W=i===c.vi.STARTED,Y=i===c.vi.PENDING,z=(0,y.A)({status:i,eventDate:t,lang:o,hourOption:O});return n.createElement(n.Fragment,null,n.createElement("div",{className:"container"},n.createElement("div",{className:"channel-headings"},P.A.isAllowed("revamp2023")?n.createElement(D.A,null,R,n.createElement(d.s,{alignItems:"center",ms:"4"},n.createElement(v.A,{isLive:W},z))):n.createElement("h2",{className:"heading-2 has-badge"},R,n.createElement(d.s,{alignItems:"center",ms:"4"},n.createElement(v.A,{isLive:W},z))))),n.createElement("div",{className:"container"},n.createElement("div",{className:"thumbnail-grid thumbnail-grid-responsive"},n.createElement("div",{className:V,onClick:G},n.createElement("h3",{className:"WEYVm"},B),n.createElement("div",{className:"c217d"},n.createElement("span",{className:S,"data-testid":"date"},n.createElement(h.C,{className:I,w:5,h:5}),new Intl.DateTimeFormat(o,L).format(t)),n.createElement("span",{className:S,"data-testid":"hour"},n.createElement(g.m,{className:I,w:5,h:5}),new Intl.DateTimeFormat(o,O).format(t))),n.createElement("div",null,M&&!Y&&n.createElement(m.K0,{className:"xov_Q","aria-label":W?(0,l.AP)("livestreammodule_action_watchlive_web"):(0,l.AP)("livestreammodule_action_trailer_web"),colorScheme:"white",icon:w||(w=n.createElement(E.J,null)),onClick:e=>{G&&G(),e.stopPropagation()}}),Y&&n.createElement(m.K0,{"data-testid":"btn-notification",className:"AIqZl","aria-label":F?(0,l.AP)("livestreammodule_action_setreminder_web"):(0,l.AP)("livestreammodule_action_cancelreminder_web"),icon:n.createElement(_.$,{color:F?"icon.accent.primary.default":"icon.neutral.primary.default"}),onClick:e=>{e.stopPropagation(),H(F)}}))),n.createElement("div",{className:"thumbnail-col thumbnail-col-event"},n.createElement(p._,{className:U,src:a,alt:B,onClick:G,fallback:C||(C=n.createElement(u.E,{height:"100%"}))})))))}))},ZtP3:(e,t,a)=>{function n(e,t){return t.setMinutes(t.getMinutes()-e),t}a.d(t,{m:()=>n})},fXUk:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ia});var n=a("q1tI"),i=a("TRpf"),s=a("XiPH"),r=a("WKgy"),l=a("nrKQ"),o=a("H/eQ"),c=a("xobL");const d="home",m="podcasts",p="shows",u="channels/search-no-results",h="channels/home/unlogged-homepage",g=e=>[m,p,d,u,h].includes(e),E=e=>e.replace(/^\/[a-z]{2}\//,"/").replace(/^\/((search|tags)\/.*)/,u).replace(/^\/(page\/)?/,"")||d;a("WpbS");var _=a("tZCQ"),y=a("LOQS"),v=a("RxH4"),A=a("SLMx"),f=a("Sw64"),b=a("HQpa");const x=new class{constructor(){this.log=void 0,this.measure=void 0,this.log={dynamic_content_id:""},this.measure={}}init(e){this.log={dynamic_content_id:e},this.measure={}}stepStart(e,t){v.FO.mark(`${e}-${t}-start`)}stepEnd(e,t){v.FO.mark(`${e}-${t}-end`);const a=(0,v.pm)(`${e}-${t}-start`,`${e}-${t}-end`);null!==a&&(this.measure[t]=Math.round(a),this.sendLog(e))}stepSkip(e,t){this.measure[t]=0,this.sendLog(e)}isComplete(){return Object.keys(this.measure).length===Object.keys(b.H).length}get totalDuration(){return Object.values(this.measure).reduce(((e,t=0)=>e+t),0)}sendLog(e){e===this.log.dynamic_content_id&&this.isComplete()&&(this.log={...this.log,...this.measure,elapsed_time_total:this.totalDuration,client_ip:A.A.get()},_.A.isAllowed("metric.dynamic_page_loading")&&y.A.log((0,f.L)("dynamic_content.metrics","2.0.0",this.log)))}};var S=a("xckG"),I=a("4rpV"),k=a("vTk2"),T=a("Gr39"),N=a("8L3l"),w=a("ZPsS");const C=new s.wQ.Entity("PAGE_SECTIONS",{album:new s.wQ.Array(S.A),artist:new s.wQ.Array(I.A),liveradio:new s.wQ.Array(k.A),playlist:new s.wQ.Array(T.A),radio:new s.wQ.Array(N.A),show:new s.wQ.Array(w.A)});var P=a("+9dH"),D=a("17x9"),L=a.n(D),O=a("juqV"),R=a("hIIJ"),B=a("sCpb"),M=a("aFHr");var H,G=a("GkjM"),U=a("3JOg"),V=a("rYh+"),W=a("hz5U");class Y extends n.Component{render(){const{pictures:e,target:t,title:a,background_color:i}=this.props;if(!a||!t)return null;const s={backgroundColor:i};if(e&&e.length){const t=e[0];s.backgroundImage="url("+W.A.getImageSrc(t.type,t.md5,380,48,null,100)+")"}return n.createElement("div",{className:"channel-list-item"},n.createElement(U.A,null,n.createElement(G.A,{className:"nano-card-link",to:t,target:t.startsWith("http")?"_blank":"_self",style:s},n.createElement("div",{className:"heading-4 ellipsis"},a,H||(H=n.createElement(V.A,{size:"10"}))))))}}Y.defaultProps={pictures:null,background_color:"#C2C2CA"};const z=Y;var Q=a("n3en");class $ extends n.Component{render(){const e=(0,O.A)({"channel-list channel-deeplink-list":!0,["channel-list-"+this.props.items.length]:!0,clearfix:!0});return n.createElement("div",{className:"container"},n.createElement("div",{className:e},this._renderItems()))}_renderItems(){return this.props.items.map(this._renderItem)}_renderItem(e,t){if(-1===Q.f.indexOf(e.type))throw new Error('Items of type "'+e.type+'" are not handled by the DeeplinkList layout.');return n.createElement(z,(0,P.A)({key:t},function(e){const t={generic:"id",album:"ALB_ID",app:"APP_ID",artist:"ART_ID",playlist:"PLAYLIST_ID",radio:"RADIO_ID",show:"SHOW_ID",track:"SNG_ID",user:"USER_ID",livestream:"LIVESTREAM_ID"};return t[(e=Object.assign({},e)).type]&&(e.id=Number(e.data[t[e.type]])),e}(e)))}}const j=$;var q=a("Ty5D"),Z=a("HmE0"),J=a("pxP/");const X=function(){var e;"object"==typeof this.props.related&&this.props.related.target&&(e=this.props.related.target),e||"string"!=typeof this.props.target||(e=this.props.target),e&&(/^\//.test(e)?this.props.history.push("/"+r.A.getState().user.SETTING_LANG+e):J.A.href="/"+r.A.getState().user.SETTING_LANG+e)};var K,ee,te=a("lpJY"),ae=a("fsGD"),ne=a("X6oL");let ie=(0,ne.Ay)((e=>({pagecategory:e.pageContext})))((ee=class extends n.Component{constructor(e){super(e),this._setNbElemDisplayed=this._setNbElemDisplayed.bind(this),this._renderRelatedTarget=this._renderRelatedTarget.bind(this),this.state={nbElemDisplayed:1/0}}render(){const{items:e,data:t,pageContext:a}=this.props,{layout:i}=this.context;if(!e||0===e.length)return null;let s=!1;i===ae.ue?s=1:i===ae.g8&&(s=2);const r={data:t,items:e,pageContext:a,nbLines:s,setNbElemDisplayed:this._setNbElemDisplayed};return n.createElement("div",{className:"container"},n.createElement(te.A,r),this._renderRelatedTarget())}_renderRelatedTarget(){const{related:e}=this.props;return this._shouldRelatedTargetBeDisplayed()?n.createElement("div",{className:"channel-related-target"},n.createElement(Z.$n,(0,P.A)({size:"sm",variant:"outline","data-testid":"view-more-btn"},this._targetEvents()),e.label)):null}_targetEvents(){let e={};return"object"==typeof this.props.related&&this.props.related.target&&(e.onClick=X.bind(this)),e}_setNbElemDisplayed(e){e&&this.setState({nbElemDisplayed:e})}_shouldRelatedTargetBeDisplayed(){const{items:e,related:t,hasMoreItems:a}=this.props,{nbElemDisplayed:n}=this.state;return!("object"!=typeof t||!t.target||!t.label)&&(t.mandatory||a||e&&e.length>n)}},ee.contextTypes={router:L().object,layout:L().string},ee.defaultProps={hasMoreItems:!1,target:void 0,related:void 0},K=ee))||K;const se=(0,q.y)(ie);var re=a("5G9X"),le=a("QOhT"),oe=a("7E8A"),ce=a("xkUG");class de extends n.Component{render(){const{data:e}=this.props,t=e&&e[0]||null;if(!t)return null;if(t.type&&-1===ce.m.indexOf(t.type))throw new Error(`Items of type "${t.type}" are not handled by the ItemHighlight layout.`);const a=W.A.getImageSrc("misc",t.RADIO_PICTURE,"64","64");return n.createElement("div",{className:"container channel-item-highlight"},n.createElement("div",{className:"item-picture"},n.createElement(le.A,{imgSrc:a,height:64,width:64,coverLink:!1,data:t,type:re.Ay.Radio,context:t.context,pageContext:oe.CONTEXT_PAGE_DYNAMIC_PAGE})),n.createElement("div",{className:"item-infos"},n.createElement("div",{className:"heading-4 ellipsis"},t.TITLE),n.createElement("div",{className:"heading-4-sub ellipsis"},t.CAPTION)))}}const me=de;a("aRRr");var pe,ue=a("Qlza"),he=a("CyAC"),ge=a("sAMA"),Ee=a("epwx"),_e=a("Wp0Y"),ye=a("u7vQ"),ve=a("YVn8"),Ae=a("1lpQ"),fe=a("QKMO");class be extends n.Component{constructor(e){super(e),this._renderTrackList=this._renderTrackList.bind(this),this._getParams=this._getParams.bind(this),this._maxTracks=5,this.state={trackList:null,isLoaded:!1}}componentDidMount(){!this.state.isLoaded&&this._isTracklistType()&&this._getTrackList()}componentWillUnmount(){l.A.cancel(this._getTrackListApiRef)}render(){return n.createElement("div",{className:"large-card thumbnail-grid thumbnail-grid-responsive"},n.createElement("div",{className:"slide-container"},n.createElement(ve.A,this._getAttributesSlide())),n.createElement("div",{className:"large-card-infos thumbnail-col-slide thumbnail-col"},this._renderTrackList(),this._renderInfos()))}_renderTrackList(){const{trackList:e,isLoaded:t}=this.state,{type:a}=this.props;if(!t||!this._isTracklistType()||!e)return null;const i=e.slice(0,this._maxTracks);return a===re.Ay.Show?n.createElement("div",{className:"large-card-inner-infos large-card-tracklist"},n.createElement("h4",{className:"heading-label"},(0,_e.AP)("Derniers épisodes disponibles")),n.createElement("ul",{className:"tracklist",key:"large-card-tracklist"},i.map(((e,t)=>n.createElement("li",{className:"track is-episode",key:`episode_${e.EPISODE_ID}`},n.createElement("div",{className:"track-title heading-5"},n.createElement(G.A,{role:"button",onClick:this._play.bind(this,t)},e.EPISODE_TITLE))))))):n.createElement("div",{className:"large-card-inner-infos large-card-tracklist"},n.createElement("h4",{className:"heading-label"},(0,_e.AP)("Titres")),n.createElement("ul",{className:"tracklist"},i.map(((e,t)=>this._renderSong(e,t)))))}_renderSong(e,t){const{type:a,explicitContentLevel:i}=this.props,s=(0,he.AP)(e),r=s&&i!==ge.Mt?pe||(pe=n.createElement(Ae.A,null)):null,l=s&&i===ge.g?n.createElement("span",{className:"unavailable"},e.SNG_TITLE):n.createElement(G.A,{role:"button",onClick:this._play.bind(this,t)},e.SNG_TITLE);return n.createElement("li",{className:"track",key:`track_${e.SNG_ID}`},n.createElement("div",{className:"track-number"},(0,fe.A)(t+1,2)),n.createElement("div",{className:"track-title heading-5"},l,a===re.Ay.Playlist?n.createElement("span",{className:"heading-5-sub"},(0,_e.AP)("par")," ",n.createElement(G.A,{to:`/artist/${e.ART_ID}`},e.ART_NAME)):null),r)}_renderInfos(){return this._isTracklistType()?null:n.createElement("div",{className:"large-card-inner-infos"},this._renderLabel(),this._renderDescription())}_renderDescription(){const{description:e}=this.props;return e?n.createElement("p",{className:"heading-5 large-card-description"},e):null}_renderLabel(){const{label:e,description:t}=this.props;return e&&t?n.createElement("h4",{className:"heading-label"},e):null}_getAttributesSlide(){const{id:e,type:t,alignment:a,tag:n,pictures:i,title:s,title_color:r,subtitle:l,subtitle_color:o,theme:c,linkTarget:d,linkType:m,context:p,hasExplicitLyrics:u,hasExplicitCover:h}=this.props;return{id:e.toString(),type:t,alignment:a,coverLink:Boolean(d),context:p,theme:c,img:this._isTracklistType()?i&&i[0]:null,backgroundImage:this._isTracklistType()?null:i&&i[0],btn:m===ue.J0.TYPE.PLAY,target:d,tag:n,title:s,title_color:r,subtitle:l,subtitle_color:o,hasExplicitLyrics:u,hasExplicitCover:h}}_getTrackList(){const e=this._getParams();e&&(this._getTrackListApiRef=l.A.call({method:e.method,data:e.data,success:e=>{this.setState({trackList:e.data?e.data:e,isLoaded:!0})}}))}_getParams(){const{id:e,type:t}=this.props;switch(t){case re.Ay.Album:return{method:"song.getListByAlbum",data:{alb_id:Number(e),nb:this._maxTracks}};case re.Ay.Playlist:return{method:"playlist.getSongs",data:{playlist_id:Number(e),nb:this._maxTracks}};case re.Ay.Show:return{method:"episode_getListByShow",data:{show_id:Number(e),nb:this._maxTracks}};default:return null}}_isTracklistType(){const{type:e}=this.props,t=[re.Ay.Album,re.Ay.Playlist,re.Ay.Show];return!(!e||-1===t.indexOf(e))}_isExternalLinkTarget(){return 0===this.props.linkTarget.indexOf("http")}_play(e){const{id:t,type:a,context:n}=this.props;ye.Ay.play({id:t,type:a,index:e,context:n})}}be.defaultProps={context:{},label:void 0,subtitle:void 0,description:void 0,theme:"light",hasExplicitLyrics:!1,hasExplicitCover:!1,linkTarget:void 0,linkType:void 0};const xe=(0,i.Ng)((({user:e})=>({explicitContentLevel:(0,c.Uw)(e)})))(be);class Se extends n.Component{render(){const{items:e}=this.props,t=e.map(((e,t)=>this._renderItem(e,t)));return n.createElement("div",{className:"container"},t)}_renderItem(e,t){if(!e||!e.type)return null;if(e.type&&-1===Ee.g.indexOf(e.type))throw new Error(`Items of type "${e.type}" are not handled by the LargeCard layout.`);if(e.type===re.Ay.Album){if((0,he.bA)(this.props.user,this.props.data[t]))return null;(0,he.Q3)(this.props.data[t])===ge.zf&&(e.explicit=!0),(0,he.vp)(this.props.user,this.props.data[t])&&(e.explicitCover=!0)}return n.createElement(xe,{key:e.id,id:e.id,type:e.type,context:this.props.data[t].context,pictures:e.pictures,alignment:e.alignment,label:e.label,title:e.title,title_color:e.title_color,subtitle:e.subtitle,subtitle_color:e.subtitle_color,description:e.description,tag:e.tag,theme:e.theme,hasExplicitLyrics:e.explicit,hasExplicitCover:e.explicitCover,linkTarget:e.target,linkType:(0,ue.$E)(e.layout_parameters)})}}const Ie=(0,i.Ng)((({user:e})=>({user:e})))(Se);var ke=a("lXQd"),Te=a("8m9I"),Ne=a("1Pdy"),we=a("STEc");const Ce={TITLE:{SIZE:we.uq.Full},PARENT:{SIZE:we.uq.xxl},DATE:{BREAKPOINT:we.x1.xs,SIZE:we.uq.xxl},DURATION:{SIZE:we.uq.sm}};var Pe,De=a("xCFc"),Le=a("1Uwb"),Oe=a("fSLK"),Re=a("CxZw"),Be=a("o+h5"),Me=a("/k3D"),Fe=a("pQlO"),He=a("r4LN"),Ge=a("PJQK"),Ue=a("tgyz"),Ve=a("SehT"),We=a("nN8/");const ze=n.memo((({data:e,index:t,style:a})=>{const i=e.toDisplay[t],{context:s,container:r,shouldExplicitBeHidden:l}=n.useContext(De.Gt),{dynamicContentlogAction:o}=(0,We.D2)(),{playerStatus:c,play:d,isItemLoadedInPlayer:m}=(0,Ue.A)({...s,ID:i.item.id},r,!0),p=i.item.hasExplicitLyrics&&l,u=(t,a)=>{o({action:We.D$.PLAY_CLICKED,payload:{module_id:i.item.legacy.module_id||"",play_type:We.$x.GRID_PLAY,item:{id:i.item.id,type:b.S.EPISODE,position:a+1}}}),d({playItems:[e.toPlay[a]],isTrackActive:t,playOneEpisode:!0})};return n.createElement(Le.A.Row,{style:a,uuid:i.uuid,id:i.item.id,index:i.index,isActive:m(i.item)&&c.isSameContext,isReadable:i.item.right===Re.A.READABLE,isRestrictedByExplicit:p,type:i.item.type},n.createElement(Ge.A,{size:Ce.TITLE.SIZE},n.createElement(Ge.A.Play,{ariaLabel:(0,_e.AP)("generic_action_playsongXbyartistX_web",{sprintf:[i.item.title,i.item.parent.name]}),hasExplicitCover:i.item.parent.hasExplicitCover,onPlayItems:u,pictureUrl:i.item.cover(Be.r8).url}),Pe||(Pe=n.createElement(Ge.A.Download,null)),n.createElement(Ge.A.PlayableLabel,{description:i.item.description,hasExplicitLyrics:i.item.hasExplicitLyrics,label:i.item.title,onPlayItems:u,tooltipText:(0,Ve.Y)(i.item,l)}),n.createElement(Le.A.IconGroup,null,n.createElement(Ge.A.OpenContextMenu,{item:i.item}))),n.createElement(Le.A.CellBody,{size:Ce.PARENT.SIZE},n.createElement(He.A,{links:[{...i.item.parent,type:re.Ay.Show}]})),n.createElement(Le.A.CellBody,{breakpoint:Ce.DATE.BREAKPOINT,size:Ce.DATE.SIZE},n.createElement(Me.A,{date:1e3*i.item.date,duration:i.item.duration})),n.createElement(Le.A.CellBody,{size:Ce.DURATION.SIZE},n.createElement(Fe.A,{duration:i.item.duration})))}),Oe.t7);var Qe,$e=a("ftFY");const je=({context:e,items:t,shouldExplicitBeHidden:a=!1})=>{const i={id:String(e.ID),type:e.TYPE},{manageItems:s,tableItems:r}=(0,$e.A)(i.id,t,e),{playerStatus:l}=(0,Ue.A)(e,i,!0),o=Ne.F4.lg,c=(0,De.Ay)({container:i,context:e,manageItems:s,playerStatus:l,rowHeight:o,shouldExplicitBeHidden:a});return n.createElement(De.ru,{value:c},n.createElement(Le.A,{rowCount:r.toDisplay.length},n.createElement(Le.A.Header,null,n.createElement(Le.A.CellHead,{size:Ce.TITLE.SIZE,sortPath:"item.title"},(0,_e.AP)("datagrid_title_episodeUPP_web")),n.createElement(Le.A.CellHead,{size:Ce.PARENT.SIZE,sortPath:"item.parent.name"},(0,_e.AP)("datagrid_title_podcastUPP_web")),n.createElement(Le.A.CellHead,{breakpoint:Ce.DATE.BREAKPOINT,size:Ce.DATE.SIZE,sortPath:"item.date"},(0,_e.AP)("datagrid_title_addedtrackUPP_web")),n.createElement(Le.A.CellHead,{size:Ce.DURATION.SIZE,sortPath:"item.duration"},Qe||(Qe=n.createElement(Te.m,null)))),n.createElement(Le.A.Body,null,r.toDisplay.map(((e,t)=>n.createElement(ze,{data:r,key:e.uuid,index:t,style:{height:o}}))))))};var qe=a("CDQ4");class Ze extends n.Component{constructor(e){super(e),this.checkItemType=this.checkItemType.bind(this)}checkItemType(e){const t=(0,ke.A)(e,"type");if(-1===qe.Y.indexOf(t))throw new Error(`Items of type ${t} are not handled by the List layout.`)}renderList(){const{items:e,section_id:t,shouldExplicitBeHidden:a}=this.props;return e.forEach((e=>{this.checkItemType(e)})),n.createElement(je,{context:{ID:t,TYPE:(0,ke.A)(e[0],"data.context.TYPE")},items:e.map((e=>({...e.data,EPISODE_PUBLISHED_TS:new Date(e.data.EPISODE_PUBLISHED_TIMESTAMP.replace(" ","T")).getTime()/1e3}))),shouldExplicitBeHidden:a})}renderRelatedTarget(){const{related:e,hasMoreItems:t}=this.props;return e&&e.target&&e.label&&(t||(0,ke.A)(e,"mandatory"))?n.createElement("div",{className:"channel-related-target"},n.createElement(Z.$n,{onClick:X.bind(this),size:"small",variant:"outline"},e.label)):null}render(){return n.createElement("div",{className:"container"},n.createElement("div",{className:"channel-list clearfix"},this.renderList()),this.renderRelatedTarget())}}Ze.defaultProps={hasMoreItems:!1};const Je=(0,q.y)((0,i.Ng)((({user:e})=>({shouldExplicitBeHidden:(0,c.Uw)(e)===ge.g})))(Ze));var Xe,Ke=a("xL7H"),et=(a("/eM8"),a("EV0h"),a("gS5K"),a("fkXJ")),tt=a("A2sV"),at=a("MIIr"),nt=a("BRvO"),it=a("Xb8Y"),st=a("arV3");const rt=({sectionTitle:e})=>n.createElement(n.Fragment,null,n.createElement("div",{className:"container"},n.createElement("div",{className:"channel-headings"},n.createElement("h2",{className:"heading-2"},e))),Xe||(Xe=n.createElement("div",{className:"container"},n.createElement("div",{className:"thumbnail-grid thumbnail-grid-responsive"},n.createElement("div",{className:"thumbnail-col thumbnail-col-event"},n.createElement(st.E,{height:"100%"})),n.createElement("div",{className:"thumbnail-col thumbnail-col-event"},n.createElement(st.E,{height:"100%"}))))));var lt=a("ZtP3");const ot=({id:e,sectionTitle:t,sectionId:a})=>{var s,r,l,o;const{data:d,loading:m,error:p,startPolling:u,stopPolling:h}=(0,tt.u0N)({variables:{eventId:e,imageHeight:190,imageWidth:711},fetchPolicy:"cache-and-network"});(0,n.useEffect)((()=>{var e;if(null==d||null===(e=d.liveEvent)||void 0===e||!e.startDate)return;const t=d.liveEvent.startDate,a=new Date((0,lt.m)(30,new Date(t))),n=new Date(t),i=setInterval((()=>{const e=new Date;e>a&&e<n&&u(6e4),e>n&&(h(),clearInterval(i))}),6e4);return()=>{clearInterval(i),h()}}),[d,h,u]);const g={eventId:e},[E]=(0,at.A)({variables:g}),[_]=(0,nt.A)({variables:g}),y=null==d||null===(s=d.liveEvent)||void 0===s?void 0:s.status,v=y===tt.vi.STARTED&&(null==d||null===(r=d.liveEvent)||void 0===r||null===(r=r.live)||void 0===r||null===(r=r.externalUrl)||void 0===r?void 0:r.url)||(null==d||null===(l=d.liveEvent)||void 0===l||null===(l=l.videos.edges.filter((({node:e})=>(null==e?void 0:e.type)===tt.ct1.TRAILER))[0])||void 0===l||null===(l=l.node)||void 0===l||null===(l=l.externalUrl)||void 0===l?void 0:l.url),A=(0,n.useCallback)((async e=>{var t;if(null!=d&&null!==(t=d.liveEvent)&&void 0!==t&&t.id){if(e)return(0,et.A)({body:(0,_e.AP)("livestreammodule_action_cancelreminder_web")}),await _();await E(),(0,et.A)({body:(0,_e.AP)("livestreammodule_action_setreminder_web")})}}),[d,E,_]),f=(0,i.d4)((e=>(0,c.Z0)(e.user)));if(m)return n.createElement(rt,{sectionTitle:t});if(p||null==d||!d.liveEvent||!d.liveEvent.startDate||!d.liveEvent.status)return null;const b=d.liveEvent.hasSubscribedToNotification,x=new Date(d.liveEvent.startDate||""),S=(null===(o=d.liveEvent.assets.eventCardImageWeb)||void 0===o?void 0:o.urls[0])||"",I=d.liveEvent.name,k=(e=>{if(!e)return!1;try{return Boolean(new URL(e))}catch(e){return!1}})(v)?v:void 0;return n.createElement(it.Ay,{sectionId:a,eventDate:x,imageUrl:S,status:y,lang:f,sectionTitle:t,title:I,videoUrl:k,isNotified:b,toggleNotification:A})},ct=({items:e,section_id:t,title:a})=>{const i=e.map((e=>(({item:e,sectionTitle:t="",sectionId:a})=>{if(!e||!e.type)return null;if(!Ke.X.includes(e.type))throw new Error(`Items of type "${e.type}" are not handled by the EventCard layout.`);return n.createElement(ot,{key:e.id,id:e.id,type:e.type,sectionTitle:t,sectionId:a})})({item:e,sectionId:t,sectionTitle:a})));return n.createElement(n.Fragment,null,i)};var dt,mt,pt=a("z+LD");class ut extends n.Component{constructor(e){super(e),this._click=this._click.bind(this);const t=this._getLinkConfig();this.state={href:t.href,target:t.target,shape:t.shape,pixel:null}}render(){const{adConfig:e}=this.props,{href:t,target:a,shape:i,pixel:s}=this.state;return n.createElement("a",{className:"channel-ads-banner channel-ads-generic",href:t,target:a,onClick:this._click},n.createElement("div",{className:"channel-ads-media"},n.createElement("img",{src:e.image,height:"110",width:"260"}),this._getImageOverlay()),n.createElement("div",{className:"channel-ads-action"},n.createElement("span",{className:i}),n.createElement("img",{className:"ads-pixel",src:s})),n.createElement("div",{className:"channel-ads-content"},n.createElement("div",{className:"heading-2 ellipsis"},e.title),n.createElement("div",{className:"heading-3 ellipsis"},e.description),n.createElement("div",{className:"heading-3 ellipsis"},e.claimOption),n.createElement("span",{className:"channel-ads-label"},e.advertising_type)))}_getImageOverlay(){switch(this.props.adConfig.iconOption){case"play_music":return dt||(dt=n.createElement("span",null,n.createElement("span",{className:"media-overlay"}),n.createElement("span",{className:"media-play-music"},n.createElement("span",{className:"icon-52 icon-stack icon-stack-circle icon-stack-hover"},n.createElement("span",{className:"icon icon-play"})))));case"play_video":return mt||(mt=n.createElement("span",null,n.createElement("span",{className:"media-overlay"}),n.createElement("span",{className:"media-play-video"},n.createElement("span",{className:"icon icon-play-video"}))));default:return null}}_isDeeplink(){return"1"===this.props.adConfig.isDeeplink}_checkAutoPlay(){const{params:e,type:t,id:a}=this.props;void 0!==e&&e.indexOf("autoplay")>-1&&ye.Ay.play({type:t,id:a})}_getLinkConfig(){const{adConfig:e,type:t,id:a}=this.props,n={target:"_blank",href:e.urlTargetCountgo,shape:"ads-link icon icon-link-external"};return this._isDeeplink()?(n.href=t+"/"+a,n.shape="ads-link icon icon-arrow-right",n):n}_click(e){this._isDeeplink()&&(e.preventDefault(),this.setState({pixel:this.props.adConfig.urlTargetClickPixel}),this.props.history.push(this.state.href),this._checkAutoPlay())}}ut.defaultProps={params:void 0};const ht=(0,q.y)(ut);var gt=a("fJgm"),Et=a("0oT0"),_t=a("cFUB");class yt extends n.Component{constructor(e){super(e),this._callTrackingPixel=this._callTrackingPixel.bind(this),this._onLinkClick=this._onLinkClick.bind(this),this.state={adsTracking:"#",callToAction:this._getStateButton()}}getChildContext(){return{id:this.props.id,name:this.props.context}}componentDidMount(){const{adConfig:e}=this.props;"1"===e.interaction_add_favorite_enabled&&o.A.subscribe(o.A.ads.addToFavorite,this._callTrackingPixel),"1"===e.interaction_play_enabled&&o.A.subscribe(o.A.ads.playMusic,this._callTrackingPixel),"1"===e.interaction_queuelist_enabled&&o.A.subscribe(o.A.ads.addToQueueList,this._callTrackingPixel),"1"===e.interaction_share_enabled&&o.A.subscribe(o.A.ads.share,this._callTrackingPixel)}componentWillUnmount(){o.A.unsubscribe(o.A.ads.addToFavorite,this._callTrackingPixel),o.A.unsubscribe(o.A.ads.playMusic,this._callTrackingPixel),o.A.unsubscribe(o.A.ads.addToQueueList,this._callTrackingPixel),o.A.unsubscribe(o.A.ads.share,this._callTrackingPixel)}render(){const{type:e,id:t,params:a,apiData:i,context:s,adConfig:r}=this.props;let l=e+"/"+t;return a&&(l=l+"?"+a),n.createElement("div",{className:"channel-ads-banner"},n.createElement("div",{className:"channel-ads-media"},n.createElement(le.A,{type:e,data:i,context:s,width:260,height:110,imgSrc:r.image})),n.createElement("div",{className:"channel-ads-action"},this.state.callToAction,n.createElement("img",{className:"ads-pixel",src:this.state.adsTracking})),n.createElement("div",{className:"channel-ads-content"},n.createElement("div",{className:"heading-2 ellipsis"},n.createElement(G.A,{to:l,onClick:this._onLinkClick},r.title)),n.createElement("div",{className:"heading-3 ellipsis"},n.createElement(G.A,{to:l,onClick:this._onLinkClick},r.description)),n.createElement("span",{className:"channel-ads-label"},r.advertising_type),n.createElement("span",{className:"channel-ads-tags"},r.hashtagOption)))}_onLinkClick(){this._callLinkAdsTracking(),this._checkAutoPlay()}_callTrackingPixel(e,t){const{adConfig:a}=this.props;"1"===a[t+"_enabled"]&&this.setState({adsTracking:a[t]})}_callLinkAdsTracking(){this.setState({adsTracking:this.props.adConfig.urlTargetClickPixel})}_checkAutoPlay(){const{params:e,type:t,id:a}=this.props;void 0!==e&&e.indexOf("autoplay")>-1&&ye.Ay.play({type:t,id:a})}_getStateButton(){const{id:e,type:t,context:a}=this.props,i={id:Number(e),type:t};return gt.A.isFavorite(t,e)&&(i.type=t,i.action=_t.Hj.PLAY,i.context={ID:Number(e),TYPE:a},i.wordingType=_t.Hn.FULL),n.createElement(Et.A,i)}}yt.childContextTypes={id:L().number,name:L().string},yt.defaultProps={id:0,params:void 0};const vt=yt;var At,ft=a("g1Fm");class bt extends n.Component{constructor(e){super(e),this._onAdCallback=this._onAdCallback.bind(this),this._refresh=this._refresh.bind(this),this.state={bannerType:"loading"}}componentDidMount(){o.A.ready(o.A.ads.buildNativeAd,this._onAdCallback)}componentWillUnmount(){l.A.cancel(this._apiCallRef),o.A.unresolve(o.A.ads.buildNativeAd),o.A.unsubscribe(o.A.ads.refreshAds,this._refresh)}render(){return n.createElement("div",{className:"container",id:"nativeAds"},this._renderBanner())}_renderBanner(){switch(this.state.bannerType){case"loading":return this._renderLoadingBanner();case"generic":return this._renderGenericBanner();case"product":return this._renderProductBanner();default:return null}}_renderLoadingBanner(){return At||(At=n.createElement("div",{className:"channel-ads-banner loading"},n.createElement("div",{className:"channel-ads-media"}),n.createElement("div",{className:"channel-ads-content"},n.createElement("div",{className:"loading-bar-1"}),n.createElement("div",{className:"loading-bar-2"}))))}_renderGenericBanner(){return n.createElement(ht,{adConfig:this.state.bannerConfig,type:this.state.type,id:this.state.id,params:this.state.params})}_renderProductBanner(){if(void 0===this.state.results||void 0===this.state.bannerConfig)return null;const e=`adsTracking${(0,ft.A)(this.state.type)}`;return n.createElement(vt,{adConfig:this.state.bannerConfig,apiData:this.state.results,type:this.state.type,id:Number(this.state.id),params:this.state.params,context:e})}_onAdCallback(e){if(null===e)return;o.A.unresolve(o.A.ads.buildNativeAd),o.A.subscribe(o.A.ads.refreshAds,this._refresh),o.A.resolve(o.A.ads.showAdsSection);let t=(0,_e.AP)("PUBLICITÉ");void 0!==e.advertising_type&&"sponsored"===e.advertising_type.toLowerCase()&&(t=(0,_e.AP)("SPONSORISÉ")),e.advertising_type=t,e.description=decodeURI(e.description),e.title=decodeURI(e.title),e.hashtagOption=decodeURI(e.hashtagOption),e.claimOption=decodeURI(e.claimOption);let a={};("generic"===e.type&&"1"===e.isDeeplink||"product"===e.type)&&(a=this._getConfigFromUrl(e.urlTarget)),e.pixelAgenceScript&&this._callPixelAgenceScript(e.pixelAgenceScript),"generic"!==e.type?this._callApiForProductBanner(e,a.type,a.id,a.params):this.setState({bannerType:"generic",bannerConfig:e,type:a.type,id:a.id,params:a.params})}_getConfigFromUrl(e){const t=".com";if(e.lastIndexOf(t)>-1){let a=e.slice(e.lastIndexOf(t)+4+1,e.length).split("/"),n=a[1];return n.indexOf("?")>-1?(n=n.split("?"),{type:a[0],id:n[0],params:n[1]}):{type:a[0],id:n}}return{}}_callApiForProductBanner(e,t,a,n){let i,s=t+".getData";switch(t){case"playlist":i={PLAYLIST_ID:a};break;case"album":i={ALB_ID:a};break;case"artist":i={ART_ID:a};break;case"track":case"song":s="song.getData",i={SNG_ID:a};break;case"radio":i={RADIO_ID:a};break;case"show":i={SHOW_ID:a};break;default:return}this._apiCallRef=l.A.call({method:s,data:i,success:i=>{this.setState({bannerType:"product",results:i,bannerConfig:e,type:t,id:a,params:n})},error:()=>{o.A.trigger(o.A.ads.hideAdsSection),pt.A.error(new Error(`ADS - NativeAds api.call error: undefined url "${e.urlTarget}"`))}})}_callPixelAgenceScript(e){let t=document.createElement("div");t.innerHTML=decodeURIComponent(e);const a=document.getElementById("nativeAds");for(let e of t.childNodes){if("SCRIPT"===e.tagName){let t=document.createElement("script");t.id="adsScript",t.text=e.text,document.head.appendChild(t)}"IMG"===e.tagName&&null!==a&&a.appendChild(e)}}_refresh(){o.A.ready(o.A.ads.buildNativeAd,this._onAdCallback),o.A.unsubscribe(o.A.ads.refreshAds,this._refresh)}}const xt=bt;var St=a("Y5bp"),It=a("T9aU"),kt=a("Al8Q"),Tt=a("bLDf");const Nt=(0,kt.A)("div",{target:"e6a98up1"})({name:"wdw34f",styles:"display:flex;flex-wrap:nowrap;overflow:hidden"}),wt=(0,kt.A)("div",{target:"e6a98up0"})("flex:1;min-width:0;&+&{margin-inline-start:16px;@media (min-width: ",(0,Tt.A)("grid-breakpoint-xl"),"){margin-inline-start:32px;}}max-width:calc(100% / ",5,");"),Ct=e=>{const t=n.useCallback(((t,a)=>{if(!(0,It.A)(ae.vL).includes(a))throw new Error(`[Dynamic Pages]: Item of type "${a}" is not supported by the "${ae.vL}" layout.`);return(e=>e.type===re.Ay.Flow)(t)?n.createElement(St.A,{item:t,pageContext:e.pageContext}):null}),[]);return n.createElement("div",{className:"container"},n.createElement(Nt,null,e.items.map((e=>n.createElement(wt,{key:e.id},t(e,e.type))))))};var Pt=a("p/gB"),Dt=a("jBuS"),Lt=a("pVdW"),Ot=a("nxAS"),Rt=a("/uRm"),Bt=a("CEOT"),Mt=a("3WF1"),Ft=a("I36q");class Ht extends n.Component{constructor(...e){super(...e),this.renderItem=e=>e.type===Mt.G.CallOnboarding?n.createElement(We.Mk.Consumer,null,(({dynamicContentlogAction:t})=>n.createElement(n.Fragment,null,n.createElement(Lt.E,{color:"text.neutral.secondary.default",fontSize:"sm",mb:"6"},(0,_e.AP)("onboardingartistpicker_text_improverecoselectfavartists_web")),this.renderOnboardingImage(e),n.createElement("div",{className:"cta"},n.createElement(Z.$n,{onClick:()=>this.triggerOnboardingRecall(t)},(0,_e.AP)("onboardingartistpicker_title_addartists_web")))))):null,this.renderOnboardingImage=({pictures:e})=>{if(!e||e.length<5)return null;const t=[80,100,150,100,80];return n.createElement("div",{className:"channel-message-call-onboarding-picture"},e.map(((e,a)=>n.createElement(le.A,{key:e.md5,rounded:!0,type:e.type,width:t[a],height:t[a],data:{ART_PICTURE:e.md5},onClick:this.triggerOnboardingRecall}))))},this.getItemToRender=()=>this.props.items.find((e=>(e=>"object"==typeof e&&null!==e&&{}.hasOwnProperty.call(e,"type"))(e)&&Bt.j.includes(e.type))),this.triggerOnboardingRecall=e=>{const t=this.getItemToRender();if(t&&!t.id&&(t.id="onboarding_message"),t&&t.id&&t.module_id&&e){const a=this.props.items.indexOf(t);e({action:We.D$.ITEM_CLICKED,payload:{module_id:t.module_id,item:{id:t.id,type:b.S.MESSAGE,position:a+1}}})}this.props.openScreen({name:_.A.isAllowed("public_api_onboarding")?Rt.F.ONBOARDING:Rt.F.ONBOARDING_LEGACY,data:{context:Ft.d.Improve,showCloseButton:!0,showGenreFilter:!0}})}}render(){const e=this.getItemToRender();if(void 0===e)return null;const t=(0,O.A)({"channel-message-call-onboarding":e.type===Mt.G.CallOnboarding});return n.createElement("div",{className:"container"},n.createElement("div",{className:t},this.renderItem(e)))}}const Gt=(0,i.Ng)(null,{openScreen:Ot.J2})(Ht);var Ut=a("CdHq"),Vt=a("TDRX"),Wt=a("wGgI"),Yt=a("WBQ7");const zt="default_filterable_grid_option",Qt=e=>{if(!("filter"in e)||!e.filter)throw new Error(`[Dynamic Pages]: The "filter" property is missing on the ${ae.hr} layout`);const{filter:{options:t,default_option_id:a},title:i,subtitle:s,items:r,pageContext:l}=e,o=Yt.default.get(zt)||t.findIndex((e=>e.id===a)),[c,d]=(0,n.useState)(o),m=r.filter((e=>e.filter_option_ids.includes(t[c].id))),p=t.map(((e,t)=>n.createElement(Wt.Ay.Item,{key:e.id,label:e.label,isSelected:t===c},n.createElement("button",{onClick:()=>(e=>{d(e),Yt.default.set(zt,e)})(t)},e.label))));return n.createElement(n.Fragment,null,n.createElement(Ut.s,{justifyContent:"space-between",alignItems:"center",className:"container"},_.A.isAllowed("revamp2023")?n.createElement(Vt.a,null,n.createElement(R.A,{title:i,subtitle:s})):n.createElement("div",null,n.createElement("h2",{className:"heading-2"},i),s&&n.createElement("h3",{className:"heading-2-sub"},s)),n.createElement(Wt.Ay,{selected:c},p)),n.createElement(Ct,{items:m,pageContext:l}))},$t=[re.Ay.VideoLink,re.Ay.ExternalLink,re.Ay.Flow,re.Ay.User,re.Ay.Smarttracklist],jt=[ae.Pl,ae.uQ,ae.l4,ae.iY,ae.oI,ae.pn,ae.hr];class qt extends n.Component{constructor(e){super(e),this._hideAdsSection=this._hideAdsSection.bind(this),this._showAdsSection=this._showAdsSection.bind(this),this._onAdsRefresh=this._onAdsRefresh.bind(this),this.state={displayStyle:"none"}}getChildContext(){return{layout:this.props.layout}}componentDidMount(){"ads"===this.props.layout&&(o.A.ready(o.A.ads.showAdsSection,this._showAdsSection),o.A.ready(o.A.ads.hideAdsSection,this._hideAdsSection),o.A.subscribe(o.A.ads.refreshAds,this._onAdsRefresh))}componentWillUnmount(){o.A.unresolve(o.A.ads.showAdsSection),o.A.unresolve(o.A.ads.hideAdsSection),o.A.unsubscribe(o.A.ads.refreshAds,this._onAdsRefresh)}render(){const{layout:e,userId:t,userLanguage:a,userHasDownload:i,enriched_title:s}=this.props,r=this._getLayout(e),l=this.props.items.filter((n=>(0,Dt.A)(n,e,t,a,i)));if(0===l.length)return null;const o=this._getLayoutProps(l),c={};return"ads"===e&&(c.display=this.state.displayStyle),o.layoutType=e,n.createElement("section",{className:"channel-section","data-testid":"section-renderer",style:c},s?this._renderEnrichedTitle():this._renderTitle(),n.createElement(r,(0,P.A)({},o,this.props)))}_renderTitle(){const{title:e,related:t,target:a,alignment:i,layout:s,hasMoreItems:r,subtitle:l,module_id:o}=this.props;if(void 0===e||jt.includes(s))return null;const c=void 0!==t?t.target:a,d="ads"===s?{id:"adSectionTitle"}:{},m=(0,O.A)("channel-headings",{"is-centered":"center"===i});return n.createElement(We.Mk.Consumer,null,(({dynamicContentlogAction:t})=>n.createElement("div",(0,P.A)({className:"container"},d),n.createElement("div",{className:m},n.createElement(R.A,{href:void 0!==c&&r?c:void 0,title:e,subtitle:l,isExternalLink:this._isExternalLinkTarget(c),onClick:()=>{t({action:We.D$.VIEW_ALL_CLICKED,payload:{module_id:o}})}})))))}_renderEnrichedTitle(){const{target:e,enriched_title:t,related:a,layout:i}=this.props;if(void 0===t||jt.includes(i))return null;const s=void 0!==a?a.target:e;return n.createElement("div",{className:"container"},n.createElement(B.A,{href:void 0!==s&&""!==s?s:void 0,enrichedTitle:t}))}_onAdsRefresh(){o.A.resolve(o.A.ads.hideAdsSection),o.A.unresolve(o.A.ads.hideAdsSection,this._hideAdsSection),o.A.unresolve(o.A.ads.showAdsSection,this._showAdsSection),o.A.ready(o.A.ads.hideAdsSection,this._hideAdsSection),o.A.ready(o.A.ads.showAdsSection,this._showAdsSection)}_getLayout(e){const t={[ae.qr]:xt,[ae.Bf]:j,[ae.pn]:ct,[ae.ue]:se,[ae.g8]:se,[ae.Ul]:se,[ae.Pl]:M.A,[ae.l4]:M.A,[ae.OC]:me,[ae.Gh]:Ie,[ae.mA]:Je,[ae.HM]:Gt,[ae.oI]:M.A,[ae.iY]:M.A,[ae.vL]:Ct,[ae.hr]:Qt,[ae.uQ]:M.A};if(void 0===t[e])throw new Error('Layout "'+e+'" cannot be found');return t[e]}_getLayoutProps(e){const{layout:t,title:a,subtitle:n,alignment:i,hasAnimation:s,related:r,target:l,enriched_title:o}=this.props;if(!e.length)return null;const c=e[0];return{data:e.map(((e,a)=>{let n=e.data;if(e.type&&-1!==$t.indexOf(e.type)&&(n=e),null===n)return{};n.id=this._getContextId(e.id,e.type),e.type===re.Ay.Radio&&e.caption&&(n.CAPTION=e.caption),void 0!==e.image_linked_item&&(n.image_linked_item=e.image_linked_item),void 0!==e.accessory_type&&(n.accessory_type=e.accessory_type),void 0!==e.target&&(n.target=e.target);const i=(0,ue.NY)(e);return i&&(n.layout_parameters=i),t===ae.iY&&(n.layout_parameters={...n.layout_parameters||{},item_layout:ue.GZ.SLIDE}),t===ae.oI&&(n.layout_parameters={...n.layout_parameters||{},item_layout:ue.GZ.MINI_BANNER}),t===ae.uQ&&(n.layout_parameters={...n.layout_parameters||{},item_layout:ue.GZ.LONG_CARD}),n.context={ID:this._getContextId(e.id,e.type),TYPE:(0,Pt.vs)(e.type),CONTEXT_ID:e.item_id},n.module_id=e.module_id,n.index=a,n})),id:c.id,tracking_type:"dynamic_page_click",pageContext:oe.CONTEXT_PAGE_DYNAMIC_PAGE,title:a,subtitle:n,alignment:i,related:r,target:l,autoAnimate:s,enrichedTitle:o}}_getContextId(e,t){return e&&t?isNaN(e)?e:parseInt(e,10):null}_showAdsSection(){this.setState({displayStyle:"inline"})}_hideAdsSection(){this.setState({displayStyle:"none"})}_isExternalLinkTarget(e){return!(!e||!e.includes("http"))}}qt.childContextTypes={layout:L().string},qt.defaultProps={title:void 0,subtitle:void 0,alignment:"center",target:void 0,hasAnimation:!1,hasMoreItems:!1,related:void 0,pageSlug:""};const Zt=(0,i.Ng)((({user:e})=>({userId:(0,c.F6)(e),userLanguage:(0,c.Z0)(e),userHasDownload:(0,c.Jt)(e)})))(qt);var Jt=a("Vd8Q");function Xt({masthead:e}){if(!e)return null;let t="",a="";if(void 0!==e.background_image){const a=e.background_image.type,n=e.background_image.md5,i="200x1200.png";t=`url(https://${Jt.default.get("host_img_url_ssl")}/${a}/${n}/${i})`}if(void 0!==e.logo_image){const t=e.logo_image.type,n=e.logo_image.md5;a=W.A.getImageSrc(t,n,0,104,"none",100)}const i={title:e.title||"",color:e.background_color||"",backgroundImage:t,logo:a},s={backgroundColor:i.color,backgroundImage:i.backgroundImage,backgroundPosition:"center",backgroundSize:"cover"};return n.createElement("div",{className:"masthead","data-testid":"page-masthead",style:s},""!==i.logo?n.createElement("div",{className:"masthead-logo"},n.createElement("img",{src:i.logo,"data-testid":"page-masthead-img",height:104,alt:""})):n.createElement("h1",{className:"masthead-title"},i.title))}var Kt=a("y7xR");function ea(e){return e.masthead?n.createElement(Xt,{masthead:e.masthead}):e.title?n.createElement("div",{className:"container"},n.createElement(Kt.D,{variant:"display.m"},e.title)):null}var ta=a("0JBE"),aa=a("jiu+"),na=a("Votb"),ia=a("ej6z"),sa=a("FVVF");let ra=function(e){return e[e.Premium=1]="Premium",e[e.PremiumWithHifi=1000001]="PremiumWithHifi",e[e.DuoWithHifi=1000002]="DuoWithHifi",e[e.Family=100001]="Family",e[e.FamilyWithHifi=1000006]="FamilyWithHifi",e}({});var la,oa,ca=a("D9nb");function da(){return la||(la=n.createElement(ca.B.svg,{fill:"none",height:"100%",viewBox:"0 0 544 273",width:"100%",xmlns:"http://www.w3.org/2000/svg"},n.createElement("clipPath",{id:"a"},n.createElement("path",{d:"m0 0h545v274h-545z"})),n.createElement(ca.B.g,{clipPath:"url(#a)"},n.createElement(ca.B.path,{d:"m0 0h545v274h-545z",fill:"background.brand.acid"}),n.createElement(ca.B.g,{fill:"background.neutral.secondary.default"},n.createElement("ellipse",{cx:"72.1949",cy:"350.061",rx:"72.1949",ry:"350.061",transform:"matrix(-.795052 -.606541 -.607729 .794145 619.074 61.4274)"}),n.createElement("ellipse",{cx:"72.1949",cy:"350.061",rx:"72.1949",ry:"350.061",transform:"matrix(-.795052 -.606541 -.607729 .794145 736.711 151.173)"}),n.createElement("ellipse",{cx:"72.1949",cy:"350.061",rx:"72.1949",ry:"350.061",transform:"matrix(-.795052 -.606541 -.607729 .794145 677.895 106.301)"}),n.createElement("ellipse",{cx:"8.80419",cy:"48.4968",rx:"8.80419",ry:"48.4968",transform:"matrix(-.795051 -.606542 -.607728 .794146 70.3164 22.0764)"}),n.createElement("ellipse",{cx:"65.1515",cy:"316.554",rx:"65.1515",ry:"316.554",transform:"matrix(-.795052 -.606541 -.607729 .794145 558.102 57.0555)"}),n.createElement("ellipse",{cx:"58.1081",cy:"283.047",rx:"58.1081",ry:"283.047",transform:"matrix(-.795052 -.606541 -.607729 .794145 497.129 52.6828)"}),n.createElement("ellipse",{cx:"51.0646",cy:"249.539",rx:"51.0646",ry:"249.539",transform:"matrix(-.795052 -.606541 -.607729 .794145 436.156 48.3107)"}),n.createElement("ellipse",{cx:"44.0212",cy:"216.032",rx:"44.0212",ry:"216.032",transform:"matrix(-.795052 -.606541 -.607729 .794145 375.184 43.9375)"}),n.createElement("ellipse",{cx:"36.9778",cy:"182.525",rx:"36.9778",ry:"182.525",transform:"matrix(-.795052 -.606541 -.607729 .794145 314.211 39.5644)"}),n.createElement("ellipse",{cx:"29.9344",cy:"149.018",rx:"29.9344",ry:"149.018",transform:"matrix(-.795052 -.606541 -.607728 .794145 253.234 35.1938)"}),n.createElement("ellipse",{cx:"22.891",cy:"115.511",rx:"22.891",ry:"115.511",transform:"matrix(-.795052 -.606542 -.607728 .794145 192.262 30.8193)"}),n.createElement("ellipse",{cx:"15.8476",cy:"82.0039",rx:"15.8476",ry:"82.0039",transform:"matrix(-.795052 -.606542 -.607728 .794145 131.289 26.4483)"})),n.createElement("path",{d:"m283.64 151.49v75.51h-49.32l-2.52-30.87h5.94c-2.4 6.96-6.09 12.93-11.07 17.91-4.92 4.92-10.98 8.7-18.18 11.34-7.14 2.64-15.18 3.96-24.12 3.96-13.62 0-26.37-3.15-38.25-9.45s-21.39-14.91-28.53-25.83c-7.14-10.98-10.71-23.1-10.71-36.36 0-13.8 3.78-26.13 11.34-36.99s18.09-19.35 31.59-25.47 28.77-9.18 45.81-9.18c14.64 0 27.93 2.28 39.87 6.84 11.94 4.5 21.93 10.95 29.97 19.35 8.1 8.34 13.89 18.18 17.37 29.52h-61.38c-1.08-3.42-2.79-6.33-5.13-8.73-2.34-2.46-5.19-4.32-8.55-5.58-3.36-1.32-7.08-1.98-11.16-1.98-5.7 0-10.68 1.29-14.94 3.87s-7.59 6.39-9.99 11.43c-2.34 5.04-3.51 11.19-3.51 18.45 0 7.02 1.23 13.08 3.69 18.18 2.52 5.04 6.06 8.91 10.62 11.61 4.62 2.64 10.08 3.96 16.38 3.96 5.34 0 10.02-1.02 14.04-3.06 4.08-2.1 7.38-5.16 9.9-9.18 2.52-4.08 4.17-9.03 4.95-14.85l9 12.33h-41.94v-26.73zm91.973 77.85c-17.16 0-32.52-3.06-46.08-9.18s-24.15-14.61-31.77-25.47c-7.56-10.86-11.34-23.19-11.34-36.99s3.78-26.13 11.34-36.99c7.62-10.86 18.21-19.35 31.77-25.47s28.92-9.18 46.08-9.18c17.22 0 32.58 3.06 46.08 9.18 13.56 6.12 24.15 14.61 31.77 25.47s11.43 23.19 11.43 36.99-3.81 26.13-11.43 36.99-18.21 19.35-31.77 25.47c-13.5 6.12-28.86 9.18-46.08 9.18zm0-39.69c5.58 0 10.44-1.2 14.58-3.6s7.35-5.97 9.63-10.71c2.34-4.8 3.51-10.68 3.51-17.64s-1.17-12.81-3.51-17.55c-2.28-4.8-5.49-8.4-9.63-10.8s-9-3.6-14.58-3.6c-5.52 0-10.38 1.2-14.58 3.6-4.14 2.4-7.35 6-9.63 10.8-2.28 4.74-3.42 10.59-3.42 17.55s1.14 12.84 3.42 17.64c2.28 4.74 5.49 8.31 9.63 10.71 4.2 2.4 9.06 3.6 14.58 3.6zm81.582-99.18v-2.07h62.91v2.07l-23.58 85.41h-15.75zm31.5 138.33c-3.12 0-5.97-1.08-8.55-3.24s-4.62-5.07-6.12-8.73c-1.44-3.66-2.16-7.65-2.16-11.97s.72-8.28 2.16-11.88c1.5-3.66 3.54-6.57 6.12-8.73 2.58-2.22 5.4-3.33 8.46-3.33 3.12 0 5.97 1.11 8.55 3.33 2.58 2.16 4.62 5.07 6.12 8.73 1.5 3.6 2.25 7.56 2.25 11.88s-.75 8.31-2.25 11.97-3.54 6.57-6.12 8.73-5.4 3.24-8.46 3.24z",fill:"#fff"}))))}function ma(){return oa||(oa=n.createElement(ca.B.svg,{fill:"none",height:"100%",viewBox:"0 0 544 273",width:"100%",xmlns:"http://www.w3.org/2000/svg"},n.createElement("clipPath",{id:"a"},n.createElement("path",{d:"m0 0h545v274h-545z"})),n.createElement(ca.B.g,{clipPath:"url(#a)"},n.createElement(ca.B.path,{d:"m0 0h545v274h-545z",fill:"background.brand.acid"}),n.createElement(ca.B.g,{fill:"background.neutral.secondary.default"},n.createElement("ellipse",{cx:"72.1949",cy:"350.061",rx:"72.1949",ry:"350.061",transform:"matrix(.795052 -.606541 .607729 .794145 -197.38 151.173)"}),n.createElement("ellipse",{cx:"72.1949",cy:"350.061",rx:"72.1949",ry:"350.061",transform:"matrix(.795052 -.606541 .607729 .794145 -138.563 106.3)"}),n.createElement("ellipse",{cx:"72.1949",cy:"350.061",rx:"72.1949",ry:"350.061",transform:"matrix(.795052 -.606541 .607729 .794145 -79.7457 61.4272)"}),n.createElement("ellipse",{cx:"65.1515",cy:"316.554",rx:"65.1515",ry:"316.554",transform:"matrix(.795052 -.606541 .607729 .794145 -18.7724 57.0553)"}),n.createElement("ellipse",{cx:"58.1081",cy:"283.047",rx:"58.1081",ry:"283.047",transform:"matrix(.795052 -.606541 .607729 .794145 42.2024 52.6826)"}),n.createElement("ellipse",{cx:"51.0646",cy:"249.539",rx:"51.0646",ry:"249.539",transform:"matrix(.795052 -.606541 .607729 .794145 103.174 48.3105)"}),n.createElement("ellipse",{cx:"44.0212",cy:"216.032",rx:"44.0212",ry:"216.032",transform:"matrix(.795052 -.606541 .607729 .794145 164.147 43.9372)"}),n.createElement("ellipse",{cx:"36.9778",cy:"182.525",rx:"36.9778",ry:"182.525",transform:"matrix(.795052 -.606541 .607728 .794145 225.121 39.5642)"}),n.createElement("ellipse",{cx:"29.9344",cy:"149.018",rx:"29.9344",ry:"149.018",transform:"matrix(.795052 -.606541 .607728 .794145 286.095 35.1936)"}),n.createElement("ellipse",{cx:"22.891",cy:"115.511",rx:"22.891",ry:"115.511",transform:"matrix(.795052 -.606542 .607728 .794145 347.07 30.8191)"}),n.createElement("ellipse",{cx:"15.8476",cy:"82.0039",rx:"15.8476",ry:"82.0039",transform:"matrix(.795052 -.606542 .607728 .794145 408.042 26.4481)"}),n.createElement("ellipse",{cx:"8.80419",cy:"48.4968",rx:"8.80419",ry:"48.4968",transform:"matrix(.795051 -.606542 .607728 .794146 469.015 22.0762)"})))))}var pa,ua,ha=a("bDF2");function ga(){var e;const[t,a]=(0,n.useState)(void 0);(0,n.useEffect)((()=>{l.A.callAsync({method:"payment_getPlanCatalog"}).then((e=>{var t,n;a((t=e,n=[ra.Premium,ra.PremiumWithHifi],t.reduce(((e,t)=>{var a,i;if(null===(a=t.subscription_period_collection.initial)||void 0===a||!a.price_by_month||n&&!n.includes(t.offer_id))return e;const s=function(e){var t;const a=e.subscription_period_collection.try_and_buy;let n=0;switch(null==a?void 0:a.duration_type){case"D":break;case"Y":n=12*a.duration;break;default:n=null!==(t=null==a?void 0:a.duration)&&void 0!==t?t:0}return n}(t);return(null!==(i=null==e?void 0:e.freeMonths)&&void 0!==i?i:0<s)?{offer:t,freeMonths:s}:e}),{offer:void 0,freeMonths:void 0})))}))}),[]);let i="/",s="";if(t&&t.freeMonths&&t.freeMonths>0&&null!==(e=t.offer)&&void 0!==e&&null!==(e=e.subscription_period_collection.initial)&&void 0!==e&&e.price_by_month){i=t.offer.payment_journey_url;try{const e=new URL(i);e.searchParams.append("rg","1"),i=e.href}catch{}s=(0,_e.AP)("unloggedhomepageplayer_text_conversionbanner_web",{sprintf:[t.freeMonths,t.offer.label,t.offer.subscription_period_collection.initial.price_by_month],count:t.freeMonths})}function r(){var e;(0,ha.R2)({eventcategory:null!==(e=(0,ha.bg)())&&void 0!==e?e:"",eventaction:"masthead"})}return n.createElement(aa.QQ,null,n.createElement("div",{className:"container"},n.createElement(na.z,{spacing:"spacing.s",alignItems:"center"},n.createElement(ia.N,{w:"100%",position:"relative",href:i,onClick:r},pa||(pa=n.createElement(da,null))),n.createElement(ia.N,{w:"100%",position:"relative",href:i,onClick:r},ua||(ua=n.createElement(ma,null)),n.createElement(Ut.s,{alignItems:"start",bottom:"spacing.l",flexDirection:"column",gap:"spacing.m",justifyContent:"space-evenly",left:"spacing.l",position:"absolute",right:"15%",top:"20%"},n.createElement(sa.T,{spacing:"spacing.s",alignItems:"flex-start"},n.createElement(Kt.D,{textTransform:"uppercase",fontSize:{base:"heading.m",lg:"heading.l",xl:"60px"},lineHeight:"1",maxW:"80%"},(0,_e.AP)("unloggedhomepageplayer_title_conversionbannerv2_web")),s&&n.createElement(Lt.E,{variant:"body.m.default"},s)),n.createElement(Z.$n,{size:"small"},(0,_e.AP)("generic_action_tryforfree_web")))))))}var Ea,_a=a("Fzox");function ya(e){const{isLoggedIn:t,isOfferPlayerVersion:a}=(0,_a.G)((({user:e})=>{var t;return{isLoggedIn:(0,c.UJ)(e),isOfferPlayerVersion:"b"===(null===(t=(0,c.n7)(e).unlogged_hp_0824)||void 0===t?void 0:t.option)}}));return n.createElement("div",{className:"channel"},"home"===e.pageSlug&&a&&!t?Ea||(Ea=n.createElement(ga,null)):n.createElement(ea,{masthead:e.masthead,title:e.title}),e.sections.map((t=>n.createElement(Zt,(0,P.A)({key:t.section_id},t,{pageSlug:e.pageSlug})))))}const va=function({pageSlug:e,sections:t=[],title:a="",masthead:i}){return(0,n.useLayoutEffect)((()=>{x.stepStart(e,b.H.DISPLAY)}),[e]),(0,n.useEffect)((()=>{"home"===e&&y.A.log({type:"cdp",eventName:"screen_view",customAttributes:{screen_view_name:"logged_homepage"}}),x.stepEnd(e,b.H.DISPLAY)}),[e]),"home"===e?n.createElement(ta.OJ,{value:{page:e}},n.createElement(ya,{masthead:i,pageSlug:e,sections:t,title:a})):n.createElement(ya,{masthead:i,pageSlug:e,sections:t,title:a})};var Aa,fa=a("FSqQ"),ba=a("Q6/d");class xa extends n.Component{constructor(e){super(e),this._onShowAdsSectionCallback=this._onShowAdsSectionCallback.bind(this),e.sections.length&&this._hydrateSections(e.sections),this.state={isFetching:!1,pageSlug:e.pageSlug,sections:e.sections,masthead:e.masthead,title:e.title,handleAds:!1,error:null,screenViewDefaultLogValue:e.screenViewDefaultLogValue}}static getDerivedStateFromProps(e,t){return t.pageSlug!==e.pageSlug?{pageSlug:e.pageSlug,sections:e.sections,masthead:e.masthead,title:e.title}:null}componentDidMount(){o.A.ready(o.A.ads.showAdsSection,this._onShowAdsSectionCallback),this.state.screenViewDefaultLogValue&&this._onScreenViewLog(this.state.screenViewDefaultLogValue),this.state.sections.length?x.stepSkip(this.props.pageSlug,b.H.FETCH):this._getData(this.props.pageSlug)}componentDidUpdate(){this.state.sections.length||this.state.isFetching||this._getData(this.props.pageSlug)}componentWillUnmount(){o.A.unresolve(o.A.ads.showAdsSection)}render(){const{error:e,isFetching:t,masthead:a,sections:i,title:s}=this.state;if(t)return Aa||(Aa=n.createElement(fa.A,null));if(e)throw e;return n.createElement(va,{pageSlug:this.props.pageSlug,sections:i,masthead:a,title:s})}_onShowAdsSectionCallback(){this.setState({handleAds:!0})}_getData(e){this.setState({isFetching:!0}),x.stepStart(this.props.pageSlug,b.H.FETCH),this._apiCallRef=l.A.call({http_method:"GET",method:"page.get",data:{PAGE:e,VERSION:"2.5",SUPPORT:(0,ba.A)(),LANG:this.props.userLanguage,OPTIONS:["deeplink_newsandentertainment","deeplink_subscribeoffer"]},success:t=>{x.stepEnd(this.props.pageSlug,b.H.FETCH),this._hydrateSections(t.sections),this._onScreenViewLog({screen_view_name:t.page_name,screen_view_id:t.product_version,render_id:t.render_id}),this.setState({isFetching:!1,sections:t.sections.map((e=>({...e,items:e.items.map((t=>({...t,module_id:e.module_id})))})))||[],masthead:t.masthead||null,title:g(e)?null:t.title,screenViewDefaultLogValue:{screen_view_name:t.page_name,screen_view_id:t.product_version,render_id:t.render_id}})},error:e=>{this.setState({isFetching:!1,error:e})}})}_onScreenViewLog(e){const{setDefaultValue:t,dynamicContentlogAction:a}=this.context;t(e),a({action:We.D$.SCREEN_VIEW,payload:e})}_hydrateSections(e){const t={};x.stepStart(this.props.pageSlug,b.H.PARSE),e.forEach((e=>{e.items.forEach((e=>{if(e.type)if(t[e.type]||(t[e.type]=[]),e.type===re.Ay.Playlist){const{context:a,...n}=e.data;t[e.type].push({...n,partial:!0})}else t[e.type].push({...e.data,partial:!0})}))})),r.A.dispatch({type:"home/PAGE_SECTION_HYDRATE",data:(0,s.S8)(JSON.parse(JSON.stringify(t)),C)}),x.stepEnd(this.props.pageSlug,b.H.PARSE)}}xa.defaultProps={sections:[],masthead:null,title:"",userId:0,screenViewDefaultLogValue:null},xa.contextType=We.Mk;const Sa=(0,i.Ng)((({user:e})=>({userId:e.USER.USER_ID,userLanguage:(0,c.Z0)(e)})))(xa);function Ia(e){const t=(0,ne.z1)(),a=(0,_a.G)((({user:e})=>(0,c.UJ)(e))),i=(0,n.useMemo)((()=>({pageSlug:E(e.location.pathname),sections:e.appState&&e.appState.sections.map((e=>({...e,items:e.items.map((t=>({...t,module_id:e.module_id})))})))||[],masthead:e.appState&&e.appState.masthead||null,screenViewDefaultLogValue:e.appState&&{screen_view_name:e.appState.page_name,screen_view_id:e.appState.product_version,render_id:e.appState.render_id}||null})),[e.appState,e.location.pathname]);return i.title=g(i.pageSlug)?null:e.appState&&e.appState.title,x.init(i.pageSlug),(0,n.useEffect)((()=>{let e={event:"updatepage",virtualpageurl:location.pathname};switch(!0){case"home"===i.pageSlug:e={...e,pagename:a?"homepage_logged":"homepage",pagecategory:a?"homepage_logged":"homepage"};break;case"podcasts"===i.pageSlug:e={...e,pagename:"podcasts",pagecategory:"catalog"};break;case i.pageSlug.startsWith("channel"):e={...e,pagename:"channels",pagecategory:"catalog"}}t.trackEvent(e)}),[t,i,a]),n.createElement(We.i7,null,n.createElement(Sa,i))}Ia.displayName="page",Ia.defaultProps={appState:void 0}},hrWl:(e,t,a)=>{a.d(t,{A:()=>r});var n=a("q1tI");var s=a("wZBD");const r=({children:e,isLive:t=!1})=>n.createElement(s.J,{"data-testid":"live-event-badge",variant:"live"},t&&n.createElement("span",{className:"xfye4"}),e)},kb9X:(e,t,a)=>{a.d(t,{A:()=>s});var n=a("0JBE"),i=a("LOQS");const s=()=>{const{page:e,section:t,entityId:a,entity:s,item:r,itemId:l,itemIndex:o}=(0,n.iQ)();if(!e||!r||!l)return()=>{};const c=o||0===o?o+1:null;return()=>i.A.log({type:"cdp",eventName:"item_clicked",customAttributes:{screen_view_name:e,item_id:l,item_type:r,...s&&{screen_view_id_type:s},...a&&{screen_view_id:a},...t&&{section_name:t},...c&&{item_position:c}}})}},r4LN:(e,t,a)=>{a.d(t,{A:()=>g});var n=a("q1tI"),i=a("juqV"),s=a("iooo"),r=a("GkjM"),l=a("BJtZ"),o=a("t08u"),c=a("/5X2"),d=a("xCFc"),m=a("iiSH"),p=a("1Pdy");const u={root:"hjoo7",multilines:"yjFrI",link:"_ZA0C",text:"A9te1","is-active":"_MAPk",isActive:"_MAPk"};var h=a("kb9X");const g=({links:e,onClick:t})=>{const{id:a,index:g,type:E}=n.useContext(c.gy),{context:_,rowHeight:y}=n.useContext(d.Gt),{triggerTracking:v}=(0,o.A)(_.TYPE),A=(0,h.A)(),f=(0,l.A)(u),b=(0,i.A)(u.root,f,{[u.multilines]:y>p.F4.md}),x=(0,i.A)(u.link,f),S=(0,i.A)(u.text,f),I=e=>""!==e?e:m.fs;return n.createElement("div",{className:b},e.map(((i,l)=>n.createElement(n.Fragment,{key:i.path},null===i.path?n.createElement("span",{className:S,"data-testid":i.type},I(i.name)):n.createElement(r.A,{className:x,"data-testid":i.type,to:(0,s.jd)(i.path),onClick:()=>{A(),null==t||t(i),v({action:i.type,item:{id:a,rank:g,type:E}})}},I(i.name)),l<e.length-1?", ":null))),0===e.length&&"-")}},wGgI:(e,t,a)=>{a.d(t,{qT:()=>m,VX:()=>p,y8:()=>d,Ay:()=>h});var n=a("q1tI"),i=a("juqV"),s=a("HmE0"),r=a("yCtO");class l extends n.Component{render(){const{children:e,isDisabled:t,isSelected:a}=this.props,s=(0,i.A)("dropdown-item",{hidden:t,"is-selected":a});return n.createElement("li",{className:s},e)}}l.defaultProps={isDisabled:!1,isSelected:!1};const o=l;var c;const d="sm",m="left",p="right";class u extends n.Component{constructor(e){super(e),this._onToggle=this._onToggle.bind(this),this._onClose=this._onClose.bind(this),this.state={label:e.children[e.selected].props.label||e.label,isOpen:!1}}static getDerivedStateFromProps(e){return{label:e.children[e.selected].props.label||e.label}}render(){const{children:e,align:t,size:a,overflow:l,isDisabled:o}=this.props,{label:d,isOpen:m}=this.state,u=(0,i.A)("dropdown",{"dropdown-active":this.state.isOpen}),h=(0,i.A)("dropdown-menu",{"is-right":t===p,"is-overflow":l});return n.createElement("span",{className:u},n.createElement(s.$n,{"data-testid":`dropdown_${d}`,size:a,rightIcon:c||(c=n.createElement(r.e,null)),onClick:this._onToggle,variant:"outline",isDisabled:o},d),n.createElement("ul",{className:h,"aria-hidden":!m,onClick:this._onClose,onMouseDown:e=>e.stopPropagation()},m?e:null))}_onClose(){this.setState({isOpen:!1},(()=>{document.removeEventListener("mousedown",this._onClose)}))}_onToggle(){const e=!this.state.isOpen;this.setState({isOpen:e},(()=>{e&&document.addEventListener("mousedown",this._onClose)}))}}u.defaultProps={label:null,size:d,align:m,className:null,selected:0,overflow:!1,isDisabled:!1},u.Item=o;const h=u},"x4+n":(e,t,a)=>{a.d(t,{E:()=>r});var n=a("Wp0Y"),i=a("3nMj"),s=a("iiSH");const r=(e,t)=>{if(Number.isNaN(e))return s.fs;const a=new Date(1e3*t),r=a.getDate(),l=new Date(1e3*t-864e5).getDate(),o=a.getMonth(),c=a.getFullYear(),d=new Date(e),m=d.getDate(),p=d.getMonth(),u=d.getFullYear();return r===m&&o===p&&c===u?(0,n.AP)("masthead_title_today_web"):l===m&&o===p&&c===u?(0,n.AP)("generic_title_yesterday_web"):(0,i.A)(e)}}}]);